import*as e from"react";import t,{useLayoutEffect as i,useEffect as n,useRef as r,useState as o,useCallback as a}from"react";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=t;var c=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(l),u=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}(l);function h(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}h(".DarkblockWidget-Header{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);--tw-shadow-color:#d1d5db;--tw-shadow:var(--tw-shadow-colored);--tw-translate-x:-50%;--tw-translate-y:-50%;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-color:rgb(243 244 246/var(--tw-border-opacity));border-radius:.25rem;border-width:2px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;height:13rem;left:50%;margin:auto;max-height:18rem;padding:1rem;position:absolute;top:50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:20rem;z-index:30}.DarkblockWidget-Header-Row{align-items:center;display:flex;flex:1 1 auto;flex-direction:column;justify-content:center}@media (min-width:640px){.DarkblockWidget-Header-Row{flex-direction:column}}.DarkblockWidget-Header-Row>.DarkblockWidget-Header-logo{align-self:center;flex:none;font-size:.875rem;font-weight:600;height:1.75rem;line-height:1.25rem;width:1.75rem}.DarkblockWidget-closeBtn{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity));height:2.5rem;position:absolute;right:0;top:0;width:2.5rem}.Darkblock-Icon{height:2rem;width:2rem}.DarkblockWidget-Header-Row>.DarkblockWidget-Header-titleStack{align-self:center;display:flex;flex-direction:column;flex-wrap:wrap;font-size:1rem;font-weight:700;justify-content:center;line-height:1.5rem;margin-top:.5rem;padding:.25rem}.DarkblockWidget-Header-titleStack>.Darkblock-title{font-size:15px;font-weight:600;letter-spacing:-.02em;line-height:20px;padding-bottom:.25rem;padding-top:.5rem;text-align:center;width:100%}.DarkblockWidget-Header-titleStack>.Darkblock-title-red{--tw-text-opacity:1;align-items:center;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex:1 1 auto;flex-wrap:wrap;font-size:1rem;justify-content:center;line-height:1.5rem;text-align:center}.DarkblockWidget-Header-titleStack>.Darkblock-dialog-message{--tw-text-opacity:1;color:rgb(115 115 115/var(--tw-text-opacity));font-size:1rem;font-size:13px;font-weight:500;letter-spacing:-.01em;line-height:1.5rem;line-height:16px;padding-bottom:.5rem;text-align:center;width:100%}.DarkblockWidget-Header-Row>.DarkblockWidget-Header-authButton{--tw-bg-opacity:1;align-items:center;background-color:rgb(243 244 246/var(--tw-bg-opacity));display:flex;flex:1 1 auto;font-size:.875rem;font-weight:600;justify-content:center;line-height:1.25rem;text-align:center}@media (min-width:640px){.DarkblockWidget-Header-Row>.DarkblockWidget-Header-authButton{align-items:center;display:flex;flex:1 1 auto;justify-content:center}}.DarkblockWidget-HeaderContent{margin:auto}.Darkblock-FaWalletIcon{height:1.5rem;width:1.5rem}.Darkblock-FaCheckIcon{color:rgb(34 197 94/var(--tw-text-opacity))}.Darkblock-FaCheckIcon,.Darkblock-FaTriangleIcon{--tw-text-opacity:1;height:1.5rem;width:1.5rem}.Darkblock-FaTriangleIcon{color:rgb(239 68 68/var(--tw-text-opacity))}.DarkblockWidget-Header-countdownTimer{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity));border-radius:6px;color:rgb(115 115 115/var(--tw-text-opacity));font-size:1rem;font-size:13px;font-weight:600;line-height:1.5rem;line-height:14px;padding-bottom:.25rem;padding-top:.25rem;width:33.333333%}.Darkblock-FaStopwatchIcon{height:1rem;padding-left:.5rem;padding-right:.5rem;width:1rem}",{insertAt:"top"});var b=function(){},w={},E={},C=null,I={mark:b,measure:b};try{"undefined"!=typeof window&&(w=window),"undefined"!=typeof document&&(E=document),"undefined"!=typeof MutationObserver&&(C=MutationObserver),"undefined"!=typeof performance&&(I=performance)}catch(yi){}var B=(w.navigator||{}).userAgent,x=void 0===B?"":B,k=w,Q=E,_=C,S=I;k.document;var T,P,O,D,N,R=!!Q.documentElement&&!!Q.head&&"function"==typeof Q.addEventListener&&"function"==typeof Q.createElement,z=~x.indexOf("MSIE")||~x.indexOf("Trident/"),L=["HTML","HEAD","STYLE","SCRIPT"],M=function(){try{return"production"===process.env.NODE_ENV}catch(e){return!1}}(),F=["classic","sharp"];function H(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e.classic}})}var j=H((f(T={},"classic",{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),f(T,"sharp",{fa:"solid",fass:"solid","fa-solid":"solid"}),T)),V=H((f(P={},"classic",{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),f(P,"sharp",{solid:"fass"}),P)),W=H((f(O={},"classic",{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),f(O,"sharp",{fass:"fa-solid"}),O)),U=H((f(D={},"classic",{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),f(D,"sharp",{"fa-solid":"fass"}),D)),q=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,X=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Y=H((f(N={},"classic",{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),f(N,"sharp",{900:"fass"}),N)),K=[1,2,3,4,5,6,7,8,9,10],G=K.concat([11,12,13,14,15,16,17,18,19,20]),Z=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],J="duotone-group",$="primary",ee="secondary",te=new Set;Object.keys(V.classic).map(te.add.bind(te)),Object.keys(V.sharp).map(te.add.bind(te));var ie=[].concat(F,m(te),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",J,"swap-opacity",$,ee]).concat(K.map((function(e){return"".concat(e,"x")}))).concat(G.map((function(e){return"w-".concat(e)}))),ne=k.FontAwesomeConfig||{};Q&&"function"==typeof Q.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=A(e,2),i=t[0],n=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Q.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(i));null!=r&&(ne[n]=r)}));var re={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ne.familyPrefix&&(ne.cssPrefix=ne.familyPrefix);var oe=p(p({},re),ne);oe.autoReplaceSvg||(oe.observeMutations=!1);var ae={};Object.keys(re).forEach((function(e){Object.defineProperty(ae,e,{enumerable:!0,set:function(t){oe[e]=t,se.forEach((function(e){return e(ae)}))},get:function(){return oe[e]}})})),Object.defineProperty(ae,"familyPrefix",{enumerable:!0,set:function(e){oe.cssPrefix=e,se.forEach((function(e){return e(ae)}))},get:function(){return oe.cssPrefix}}),k.FontAwesomeConfig=ae;var se=[],le={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ce(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ue(e){for(var t=[],i=(e||[]).length>>>0;i--;)t[i]=e[i];return t}function he(e){return e.classList?ue(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function de(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pe(e){return Object.keys(e||{}).reduce((function(t,i){return t+"".concat(i,": ").concat(e[i].trim(),";")}),"")}function ge(e){return e.size!==le.size||e.x!==le.x||e.y!==le.y||e.rotate!==le.rotate||e.flipX||e.flipY}function fe(){var e="fa",t="svg-inline--fa",i=ae.cssPrefix,n=ae.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(i!==e||n!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(i,"-")).replace(a,"--".concat(i,"-")).replace(s,".".concat(n))}return r}var Ae=!1;function me(){ae.autoAddCss&&!Ae&&(function(e){if(e&&R){var t=Q.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var i=Q.head.childNodes,n=null,r=i.length-1;r>-1;r--){var o=i[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=o)}Q.head.insertBefore(t,n)}}(fe()),Ae=!0)}var ve={mixout:function(){return{dom:{css:fe,insertCss:me}}},hooks:function(){return{beforeDOMElementCreation:function(){me()},beforeI2svg:function(){me()}}}},ye=k||{};ye.___FONT_AWESOME___||(ye.___FONT_AWESOME___={}),ye.___FONT_AWESOME___.styles||(ye.___FONT_AWESOME___.styles={}),ye.___FONT_AWESOME___.hooks||(ye.___FONT_AWESOME___.hooks={}),ye.___FONT_AWESOME___.shims||(ye.___FONT_AWESOME___.shims=[]);var be=ye.___FONT_AWESOME___,we=[],Ee=!1;function Ce(e){R&&(Ee?setTimeout(e,0):we.push(e))}function Ie(e){var t=e.tag,i=e.attributes,n=void 0===i?{}:i,r=e.children,o=void 0===r?[]:r;return"string"==typeof e?de(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,i){return t+"".concat(i,'="').concat(de(e[i]),'" ')}),"").trim()}(n),">").concat(o.map(Ie).join(""),"</").concat(t,">")}function Be(e,t,i){if(e&&e[t]&&e[t][i])return{prefix:t,iconName:i,icon:e[t][i]}}R&&((Ee=(Q.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Q.readyState))||Q.addEventListener("DOMContentLoaded",(function e(){Q.removeEventListener("DOMContentLoaded",e),Ee=1,we.map((function(e){return e()}))})));var xe,ke,Qe,_e=function(e,t,i,n){var r,o,a,s=Object.keys(e),l=s.length,c=void 0!==n?function(e,t){return function(i,n,r,o){return e.call(t,i,n,r,o)}}(t,n):t;for(void 0===i?(r=1,a=e[s[0]]):(r=0,a=i);r<l;r++)a=c(a,e[o=s[r]],o,e);return a};function Se(e){var t=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var o=e.charCodeAt(i++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),i--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function Te(e){return Object.keys(e).reduce((function(t,i){var n=e[i];return n.icon?t[n.iconName]=n.icon:t[i]=n,t}),{})}function Pe(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.skipHooks,r=void 0!==n&&n,o=Te(t);"function"!=typeof be.hooks.addPack||r?be.styles[e]=p(p({},be.styles[e]||{}),o):be.hooks.addPack(e,Te(t)),"fas"===e&&Pe("fa",t)}var Oe=be.styles,De=be.shims,Ne=(f(xe={},"classic",Object.values(W.classic)),f(xe,"sharp",Object.values(W.sharp)),xe),Re=null,ze={},Le={},Me={},Fe={},He={},je=(f(ke={},"classic",Object.keys(j.classic)),f(ke,"sharp",Object.keys(j.sharp)),ke);function Ve(e,t){var i,n=t.split("-"),r=n[0],o=n.slice(1).join("-");return r!==e||""===o||(i=o,~ie.indexOf(i))?null:o}var We,Ue=function(){var e=function(e){return _e(Oe,(function(t,i,n){return t[n]=_e(i,e,{}),t}),{})};ze=e((function(e,t,i){return t[3]&&(e[t[3]]=i),t[2]&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=i})),e})),Le=e((function(e,t,i){return e[i]=i,t[2]&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=i})),e})),He=e((function(e,t,i){var n=t[2];return e[i]=i,n.forEach((function(t){e[t]=i})),e}));var t="far"in Oe||ae.autoFetchSvg,i=_e(De,(function(e,i){var n=i[0],r=i[1],o=i[2];return"far"!==r||t||(r="fas"),"string"==typeof n&&(e.names[n]={prefix:r,iconName:o}),"number"==typeof n&&(e.unicodes[n.toString(16)]={prefix:r,iconName:o}),e}),{names:{},unicodes:{}});Me=i.names,Fe=i.unicodes,Re=Ge(ae.styleDefault,{family:ae.familyDefault})};function qe(e,t){return(ze[e]||{})[t]}function Xe(e,t){return(He[e]||{})[t]}function Ye(e){return Me[e]||{prefix:null,iconName:null}}function Ke(){return Re}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.family,n=void 0===i?"classic":i,r=j[n][e],o=V[n][e]||V[n][r],a=e in be.styles?e:null;return o||a||null}We=function(e){Re=Ge(e.styleDefault,{family:ae.familyDefault})},se.push(We),Ue();var Ze=(f(Qe={},"classic",Object.keys(W.classic)),f(Qe,"sharp",Object.keys(W.sharp)),Qe);function Je(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.skipLookups,r=void 0!==n&&n,o=(f(t={},"classic","".concat(ae.cssPrefix,"-").concat("classic")),f(t,"sharp","".concat(ae.cssPrefix,"-").concat("sharp")),t),a=null,s="classic";(e.includes(o.classic)||e.some((function(e){return Ze.classic.includes(e)})))&&(s="classic"),(e.includes(o.sharp)||e.some((function(e){return Ze.sharp.includes(e)})))&&(s="sharp");var l=e.reduce((function(e,t){var i=Ve(ae.cssPrefix,t);if(Oe[t]?(t=Ne[s].includes(t)?U[s][t]:t,a=t,e.prefix=t):je[s].indexOf(t)>-1?(a=t,e.prefix=Ge(t,{family:s})):i?e.iconName=i:t!==ae.replacementClass&&t!==o.classic&&t!==o.sharp&&e.rest.push(t),!r&&e.prefix&&e.iconName){var n="fa"===a?Ye(e.iconName):{},l=Xe(e.prefix,e.iconName);n.prefix&&(a=null),e.iconName=n.iconName||l||e.iconName,e.prefix=n.prefix||e.prefix,"far"!==e.prefix||Oe.far||!Oe.fas||ae.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),l.prefix||"sharp"!==s||!Oe.fass&&!ae.autoFetchSvg||(l.prefix="fass",l.iconName=Xe(l.prefix,l.iconName)||l.iconName),"fa"!==l.prefix&&"fa"!==a||(l.prefix=Ke()||"fas"),l}var $e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,i;return t=e,i=[{key:"add",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=p(p({},e.definitions[t]||{}),r[t]),Pe(t,r[t]);var i=W.classic[t];i&&Pe(i,r[t]),Ue()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map((function(t){var n=i[t],r=n.prefix,o=n.iconName,a=n.icon,s=a[2];e[r]||(e[r]={}),s.length>0&&s.forEach((function(t){"string"==typeof t&&(e[r][t]=a)})),e[r][o]=a})),e}}],i&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),et=[],tt={},it={},nt=Object.keys(it);function rt(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];var o=tt[e]||[];return o.forEach((function(e){t=e.apply(null,[t].concat(n))})),t}function ot(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=tt[e]||[];r.forEach((function(e){e.apply(null,i)}))}function at(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return it[e]?it[e].apply(null,t):void 0}function st(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,i=e.prefix||Ke();if(t)return t=Xe(i,t)||t,Be(lt.definitions,i,t)||Be(be.styles,i,t)}var lt=new $e,ct={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R?(ot("beforeI2svg",e),at("pseudoElements2svg",e),at("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ae.autoReplaceSvg&&(ae.autoReplaceSvg=!0),ae.observeMutations=!0,Ce((function(){ht({autoReplaceSvgRoot:t}),ot("watch",e)}))}},ut={noAuto:function(){ae.autoReplaceSvg=!1,ae.observeMutations=!1,ot("noAuto")},config:ae,dom:ct,parse:{icon:function(e){if(null===e)return null;if("object"===g(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xe(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=Ge(e[0]);return{prefix:i,iconName:Xe(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(ae.cssPrefix,"-"))>-1||e.match(q))){var n=Je(e.split(" "),{skipLookups:!0});return{prefix:n.prefix||Ke(),iconName:Xe(n.prefix,n.iconName)||n.iconName}}if("string"==typeof e){var r=Ke();return{prefix:r,iconName:Xe(r,e)||e}}}},library:lt,findIconDefinition:st,toHtml:Ie},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=void 0===t?Q:t;(Object.keys(be.styles).length>0||ae.autoFetchSvg)&&R&&ae.autoReplaceSvg&&ut.dom.i2svg({node:i})};function dt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ie(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(R){var t=Q.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function pt(e){var t=e.icons,i=t.main,n=t.mask,r=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,d=e.watchable,g=void 0!==d&&d,f=n.found?n:i,A=f.width,m=f.height,v="fak"===r,y=[ae.replacementClass,o?"".concat(ae.cssPrefix,"-").concat(o):""].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),b={children:[],attributes:p(p({},h.attributes),{},{"data-prefix":r,"data-icon":o,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(m)})},w=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(A/m*16*.0625,"em")}:{};g&&(b.attributes["data-fa-i2svg"]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||ce())},children:[l]}),delete b.attributes.title);var E=p(p({},b),{},{prefix:r,iconName:o,main:i,mask:n,maskId:c,transform:a,symbol:s,styles:p(p({},w),h.styles)}),C=n.found&&i.found?at("generateAbstractMask",E)||{children:[],attributes:{}}:at("generateAbstractIcon",E)||{children:[],attributes:{}},I=C.children,B=C.attributes;return E.children=I,E.attributes=B,s?function(e){var t=e.prefix,i=e.iconName,n=e.children,r=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(ae.cssPrefix,"-").concat(i):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:p(p({},r),{},{id:a}),children:n}]}]}(E):function(e){var t=e.children,i=e.main,n=e.mask,r=e.attributes,o=e.styles,a=e.transform;if(ge(a)&&i.found&&!n.found){var s={x:i.width/i.height/2,y:.5};r.style=pe(p(p({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(E)}function gt(e){var t=e.content,i=e.width,n=e.height,r=e.transform,o=e.title,a=e.extra,s=e.watchable,l=void 0!==s&&s,c=p(p(p({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c["data-fa-i2svg"]="");var u=p({},a.styles);ge(r)&&(u.transform=function(e){var t=e.transform,i=e.width,n=void 0===i?16:i,r=e.height,o=void 0===r?16:r,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&z?"translate(".concat(t.x/16-n/2,"em, ").concat(t.y/16-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(l+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:i,height:n}),u["-webkit-transform"]=u.transform);var h=pe(u);h.length>0&&(c.style=h);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function ft(e){var t=e.content,i=e.title,n=e.extra,r=p(p(p({},n.attributes),i?{title:i}:{}),{},{class:n.classes.join(" ")}),o=pe(n.styles);o.length>0&&(r.style=o);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),i&&a.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),a}var At=be.styles;function mt(e){var t=e[0],i=e[1],n=A(e.slice(4),1)[0];return{found:!0,width:t,height:i,icon:Array.isArray(n)?{tag:"g",attributes:{class:"".concat(ae.cssPrefix,"-").concat(J)},children:[{tag:"path",attributes:{class:"".concat(ae.cssPrefix,"-").concat(ee),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(ae.cssPrefix,"-").concat($),fill:"currentColor",d:n[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:n}}}}var vt={found:!1,width:512,height:512};function yt(e,t){var i=t;return"fa"===t&&null!==ae.styleDefault&&(t=Ke()),new Promise((function(n,r){if(at("missingIconAbstract"),"fa"===i){var o=Ye(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&At[t]&&At[t][e])return n(mt(At[t][e]));!function(e,t){M||ae.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),n(p(p({},vt),{},{icon:ae.showMissingIcons&&e&&at("missingIconAbstract")||{}}))}))}var bt=function(){},wt=ae.measurePerformance&&S&&S.mark&&S.measure?S:{mark:bt,measure:bt},Et=function(e){return wt.mark("".concat('FA "6.2.0"'," ").concat(e," begins")),function(){return function(e){wt.mark("".concat('FA "6.2.0"'," ").concat(e," ends")),wt.measure("".concat('FA "6.2.0"'," ").concat(e),"".concat('FA "6.2.0"'," ").concat(e," begins"),"".concat('FA "6.2.0"'," ").concat(e," ends"))}(e)}},Ct=function(){};function It(e){return"string"==typeof(e.getAttribute?e.getAttribute("data-fa-i2svg"):null)}function Bt(e){return Q.createElementNS("http://www.w3.org/2000/svg",e)}function xt(e){return Q.createElement(e)}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.ceFn,n=void 0===i?"svg"===e.tag?Bt:xt:i;if("string"==typeof e)return Q.createTextNode(e);var r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));var o=e.children||[];return o.forEach((function(e){r.appendChild(kt(e,{ceFn:n}))})),r}var Qt={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(kt(e),t)})),null===t.getAttribute("data-fa-i2svg")&&ae.keepOriginalSource){var i=Q.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~he(t).indexOf(ae.replacementClass))return Qt.replace(e);var n=new RegExp("".concat(ae.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce((function(e,t){return t===ae.replacementClass||t.match(n)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var o=i.map((function(e){return Ie(e)})).join("\n");t.setAttribute("data-fa-i2svg",""),t.innerHTML=o}};function _t(e){e()}function St(e,t){var i="function"==typeof t?t:Ct;if(0===e.length)i();else{var n=_t;"async"===ae.mutateApproach&&(n=k.requestAnimationFrame||_t),n((function(){var t=!0===ae.autoReplaceSvg?Qt.replace:Qt[ae.autoReplaceSvg]||Qt.replace,n=Et("mutate");e.map(t),n(),i()}))}}var Tt=!1;function Pt(){Tt=!0}function Ot(){Tt=!1}var Dt=null;function Nt(e){if(_&&ae.observeMutations){var t=e.treeCallback,i=void 0===t?Ct:t,n=e.nodeCallback,r=void 0===n?Ct:n,o=e.pseudoElementsCallback,a=void 0===o?Ct:o,s=e.observeMutationsRoot,l=void 0===s?Q:s;Dt=new _((function(e){if(!Tt){var t=Ke();ue(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!It(e.addedNodes[0])&&(ae.searchPseudoElements&&a(e.target),i(e.target)),"attributes"===e.type&&e.target.parentNode&&ae.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&It(e.target)&&~Z.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute("data-prefix"):null,i=e.getAttribute?e.getAttribute("data-icon"):null;return t&&i}(e.target)){var n=Je(he(e.target)),o=n.prefix,s=n.iconName;e.target.setAttribute("data-prefix",o||t),s&&e.target.setAttribute("data-icon",s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(ae.replacementClass)&&r(e.target);var l}))}})),R&&Dt.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Rt(e){var t=e.getAttribute("style"),i=[];return t&&(i=t.split(";").reduce((function(e,t){var i=t.split(":"),n=i[0],r=i.slice(1);return n&&r.length>0&&(e[n]=r.join(":").trim()),e}),{})),i}function zt(e){var t,i,n=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),o=void 0!==e.innerText?e.innerText.trim():"",a=Je(he(e));return a.prefix||(a.prefix=Ke()),n&&r&&(a.prefix=n,a.iconName=r),a.iconName&&a.prefix||(a.prefix&&o.length>0&&(a.iconName=(t=a.prefix,i=e.innerText,(Le[t]||{})[i]||qe(a.prefix,Se(e.innerText)))),!a.iconName&&ae.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function Lt(e){var t=ue(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),i=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return ae.autoA11y&&(i?t["aria-labelledby"]="".concat(ae.replacementClass,"-title-").concat(n||ce()):(t["aria-hidden"]="true",t.focusable="false")),t}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},i=zt(e),n=i.iconName,r=i.prefix,o=i.rest,a=Lt(e),s=rt("parseNodeAttributes",{},e),l=t.styleParser?Rt(e):[];return p({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:le,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var Ft=be.styles;function Ht(e){var t="nest"===ae.autoReplaceSvg?Mt(e,{styleParser:!1}):Mt(e);return~t.extra.classes.indexOf("fa-layers-text")?at("generateLayersText",e,t):at("generateSvgReplacementMutation",e,t)}var jt=new Set;function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R)return Promise.resolve();var i=Q.documentElement.classList,n=function(e){return i.add("".concat("fontawesome-i2svg","-").concat(e))},r=function(e){return i.remove("".concat("fontawesome-i2svg","-").concat(e))},o=ae.autoFetchSvg?jt:F.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Ft));o.includes("fa")||o.push("fa");var a=[".".concat("fa-layers-text",":not([").concat("data-fa-i2svg","])")].concat(o.map((function(e){return".".concat(e,":not([").concat("data-fa-i2svg","])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=ue(e.querySelectorAll(a))}catch(e){}if(!(s.length>0))return Promise.resolve();n("pending"),r("complete");var l=Et("onTree"),c=s.reduce((function(e,t){try{var i=Ht(t);i&&e.push(i)}catch(e){M||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,i){Promise.all(c).then((function(i){St(i,(function(){n("active"),n("complete"),r("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),i(e)}))}))}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ht(e).then((function(e){e&&St([e],t)}))}F.map((function(e){jt.add("fa-".concat(e))})),Object.keys(j.classic).map(jt.add.bind(jt)),Object.keys(j.sharp).map(jt.add.bind(jt)),jt=m(jt);var Ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,n=void 0===i?le:i,r=t.symbol,o=void 0!==r&&r,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,h=void 0===u?null:u,d=t.titleId,g=void 0===d?null:d,f=t.classes,A=void 0===f?[]:f,m=t.attributes,v=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,E=e.iconName,C=e.icon;return dt(p({type:"icon"},e),(function(){return ot("beforeDOMElementCreation",{iconDefinition:e,params:t}),ae.autoA11y&&(h?v["aria-labelledby"]="".concat(ae.replacementClass,"-title-").concat(g||ce()):(v["aria-hidden"]="true",v.focusable="false")),pt({icons:{main:mt(C),mask:s?mt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:E,transform:p(p({},le),n),symbol:o,title:h,maskId:c,titleId:g,extra:{attributes:v,styles:b,classes:A}})}))}},qt={mixout:function(){return{icon:(e=Ut,function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:st(t||{}),r=i.mask;return r&&(r=(r||{}).icon?r:st(r||{})),e(n,p(p({},i),{},{mask:r}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Vt,e.nodeCallback=Wt,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,i=void 0===t?Q:t,n=e.callback;return Vt(i,void 0===n?function(){}:n)},e.generateSvgReplacementMutation=function(e,t){var i=t.iconName,n=t.title,r=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,h){Promise.all([yt(i,o),l.iconName?yt(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var h=A(l,2),d=h[0],p=h[1];t([e,pt({icons:{main:d,mask:p},prefix:o,iconName:i,transform:a,symbol:s,maskId:c,title:n,titleId:r,extra:u,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,i=e.children,n=e.attributes,r=e.main,o=e.transform,a=pe(e.styles);return a.length>0&&(n.style=a),ge(o)&&(t=at("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(t||r.icon),{children:i,attributes:n}}}},Xt={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.classes,n=void 0===i?[]:i;return dt({type:"layer"},(function(){ot("beforeDOMElementCreation",{assembler:e,params:t});var i=[];return e((function(e){Array.isArray(e)?e.map((function(e){i=i.concat(e.abstract)})):i=i.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ae.cssPrefix,"-layers")].concat(m(n)).join(" ")},children:i}]}))}}}},Yt={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.title,n=void 0===i?null:i,r=t.classes,o=void 0===r?[]:r,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return dt({type:"counter",content:e},(function(){return ot("beforeDOMElementCreation",{content:e,params:t}),ft({content:e.toString(),title:n,extra:{attributes:s,styles:c,classes:["".concat(ae.cssPrefix,"-layers-counter")].concat(m(o))}})}))}}}},Kt={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,n=void 0===i?le:i,r=t.title,o=void 0===r?null:r,a=t.classes,s=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,u=t.styles,h=void 0===u?{}:u;return dt({type:"text",content:e},(function(){return ot("beforeDOMElementCreation",{content:e,params:t}),gt({content:e,transform:p(p({},le),n),title:o,extra:{attributes:c,styles:h,classes:["".concat(ae.cssPrefix,"-layers-text")].concat(m(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var i=t.title,n=t.transform,r=t.extra,o=null,a=null;if(z){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return ae.autoA11y&&!i&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,gt({content:e.innerHTML,width:o,height:a,transform:n,title:i,extra:r,watchable:!0})])}}},Gt=new RegExp('"',"ug"),Zt=[1105920,1112319];function Jt(e,t){var i="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(n,r){if(null!==e.getAttribute(i))return n();var o,a,s,l=ue(e.children).filter((function(e){return e.getAttribute("data-fa-pseudo-element")===t}))[0],c=k.getComputedStyle(e,t),u=c.getPropertyValue("font-family").match(X),h=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(l&&!u)return e.removeChild(l),n();if(u&&"none"!==d&&""!==d){var g=c.getPropertyValue("content"),f=~["Sharp"].indexOf(u[2])?"sharp":"classic",A=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?V[f][u[2].toLowerCase()]:Y[f][h],m=function(e){var t=e.replace(Gt,""),i=function(e,t){var i,n=e.length,r=e.charCodeAt(0);return r>=55296&&r<=56319&&n>1&&(i=e.charCodeAt(1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(t),n=i>=Zt[0]&&i<=Zt[1],r=2===t.length&&t[0]===t[1];return{value:Se(r?t[0]:t),isSecondary:n||r}}(g),v=m.value,y=m.isSecondary,b=u[0].startsWith("FontAwesome"),w=qe(A,v),E=w;if(b){var C=(a=Fe[o=v],s=qe("fas",o),a||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null});C.iconName&&C.prefix&&(w=C.iconName,A=C.prefix)}if(!w||y||l&&l.getAttribute("data-prefix")===A&&l.getAttribute("data-icon")===E)n();else{e.setAttribute(i,E),l&&e.removeChild(l);var I={iconName:null,title:null,titleId:null,prefix:null,transform:le,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},B=I.extra;B.attributes["data-fa-pseudo-element"]=t,yt(w,A).then((function(r){var o=pt(p(p({},I),{},{icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:A,iconName:E,extra:B,watchable:!0})),a=Q.createElement("svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return Ie(e)})).join("\n"),e.removeAttribute(i),n()})).catch(r)}}else n()}))}function $t(e){return Promise.all([Jt(e,"::before"),Jt(e,"::after")])}function ei(e){return!(e.parentNode===document.head||~L.indexOf(e.tagName.toUpperCase())||e.getAttribute("data-fa-pseudo-element")||e.parentNode&&"svg"===e.parentNode.tagName)}function ti(e){if(R)return new Promise((function(t,i){var n=ue(e.querySelectorAll("*")).filter(ei).map($t),r=Et("searchPseudoElements");Pt(),Promise.all(n).then((function(){r(),Ot(),t()})).catch((function(){r(),Ot(),i()}))}))}var ii=!1,ni=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var i=t.toLowerCase().split("-"),n=i[0],r=i.slice(1).join("-");if(n&&"h"===r)return e.flipX=!0,e;if(n&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(n){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ri={mixout:function(){return{parse:{transform:function(e){return ni(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-transform");return i&&(e.transform=ni(i)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,i=e.transform,n=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*i.x,", ").concat(32*i.y,") "),s="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:p({},c.outer),children:[{tag:"g",attributes:p({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:p(p({},t.icon.attributes),c.path)}]}]}}}},oi={x:0,y:0,width:"100%",height:"100%"};function ai(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var si={hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-mask"),n=i?Je(i.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return n.prefix||(n.prefix=Ke()),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,i=e.children,n=e.attributes,r=e.main,o=e.mask,a=e.maskId,s=e.transform,l=r.width,c=r.icon,u=o.width,h=o.icon,d=function(e){var t=e.transform,i=e.iconWidth,n={transform:"translate(".concat(e.containerWidth/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:n,inner:{transform:"".concat(r," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),g={tag:"rect",attributes:p(p({},oi),{},{fill:"white"})},f=c.children?{children:c.children.map(ai)}:{},A={tag:"g",attributes:p({},d.inner),children:[ai(p({tag:c.tag,attributes:p(p({},c.attributes),d.path)},f))]},m={tag:"g",attributes:p({},d.outer),children:[A]},v="mask-".concat(a||ce()),y="clip-".concat(a||ce()),b={tag:"mask",attributes:p(p({},oi),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=h,"g"===t.tag?t.children:[t])},b]};return i.push(w,{tag:"rect",attributes:p({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},oi)}),{children:i,attributes:n}}}},li={provides:function(e){var t=!1;k.matchMedia&&(t=k.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],i={fill:"currentColor"},n={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:p(p({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=p(p({},n),{},{attributeName:"opacity"}),o={tag:"circle",attributes:p(p({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:p(p({},n),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:p(p({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:p(p({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:p(p({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:p(p({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:p(p({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var i={mixoutsTo:ut}.mixoutsTo;et=e,tt={},Object.keys(it).forEach((function(e){-1===nt.indexOf(e)&&delete it[e]})),et.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(i[e]=t[e]),"object"===g(t[e])&&Object.keys(t[e]).forEach((function(n){i[e]||(i[e]={}),i[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){tt[e]||(tt[e]=[]),tt[e].push(n[e])}))}e.provides&&e.provides(it)}))}([ve,qt,Xt,Yt,Kt,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ti,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,i=void 0===t?Q:t;ae.searchPseudoElements&&ti(i)}}},{mixout:function(){return{dom:{unwatch:function(){Pt(),ii=!0}}}},hooks:function(){return{bootstrap:function(){Nt(rt("mutationObserverCallbacks",{}))},noAuto:function(){Dt&&Dt.disconnect()},watch:function(e){var t=e.observeMutationsRoot;ii?Ot():Nt(rt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ri,si,li,{hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-symbol"),n=null!==i&&(""===i||i);return e.symbol=n,e}}}}]);var ci=ut.parse,ui=ut.icon,hi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{};function di(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pi={exports:{}},gi={exports:{}},fi={},Ai="function"==typeof Symbol&&Symbol.for,mi=Ai?Symbol.for("react.element"):60103,vi=Ai?Symbol.for("react.portal"):60106,yi=Ai?Symbol.for("react.fragment"):60107,bi=Ai?Symbol.for("react.strict_mode"):60108,wi=Ai?Symbol.for("react.profiler"):60114,Ei=Ai?Symbol.for("react.provider"):60109,Ci=Ai?Symbol.for("react.context"):60110,Ii=Ai?Symbol.for("react.async_mode"):60111,Bi=Ai?Symbol.for("react.concurrent_mode"):60111,xi=Ai?Symbol.for("react.forward_ref"):60112,ki=Ai?Symbol.for("react.suspense"):60113,Qi=Ai?Symbol.for("react.suspense_list"):60120,_i=Ai?Symbol.for("react.memo"):60115,Si=Ai?Symbol.for("react.lazy"):60116,Ti=Ai?Symbol.for("react.block"):60121,Pi=Ai?Symbol.for("react.fundamental"):60117,Oi=Ai?Symbol.for("react.responder"):60118,Di=Ai?Symbol.for("react.scope"):60119;function Ni(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case mi:switch(e=e.type){case Ii:case Bi:case yi:case wi:case bi:case ki:return e;default:switch(e=e&&e.$$typeof){case Ci:case xi:case Si:case _i:case Ei:return e;default:return t}}case vi:return t}}}function Ri(e){return Ni(e)===Bi}fi.AsyncMode=Ii,fi.ConcurrentMode=Bi,fi.ContextConsumer=Ci,fi.ContextProvider=Ei,fi.Element=mi,fi.ForwardRef=xi,fi.Fragment=yi,fi.Lazy=Si,fi.Memo=_i,fi.Portal=vi,fi.Profiler=wi,fi.StrictMode=bi,fi.Suspense=ki,fi.isAsyncMode=function(e){return Ri(e)||Ni(e)===Ii},fi.isConcurrentMode=Ri,fi.isContextConsumer=function(e){return Ni(e)===Ci},fi.isContextProvider=function(e){return Ni(e)===Ei},fi.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===mi},fi.isForwardRef=function(e){return Ni(e)===xi},fi.isFragment=function(e){return Ni(e)===yi},fi.isLazy=function(e){return Ni(e)===Si},fi.isMemo=function(e){return Ni(e)===_i},fi.isPortal=function(e){return Ni(e)===vi},fi.isProfiler=function(e){return Ni(e)===wi},fi.isStrictMode=function(e){return Ni(e)===bi},fi.isSuspense=function(e){return Ni(e)===ki},fi.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===yi||e===Bi||e===wi||e===bi||e===ki||e===Qi||"object"==typeof e&&null!==e&&(e.$$typeof===Si||e.$$typeof===_i||e.$$typeof===Ei||e.$$typeof===Ci||e.$$typeof===xi||e.$$typeof===Pi||e.$$typeof===Oi||e.$$typeof===Di||e.$$typeof===Ti)},fi.typeOf=Ni;var zi={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,A=e?Symbol.for("react.fundamental"):60117,m=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var d=e.$$typeof;switch(d){case t:var f=e.type;switch(f){case l:case c:case n:case o:case r:case h:return f;default:var A=f&&f.$$typeof;switch(A){case s:case u:case g:case p:case a:return A;default:return d}}case i:return d}}}var b=l,w=c,E=s,C=a,I=t,B=u,x=n,k=g,Q=p,_=i,S=o,T=r,P=h,O=!1;function D(e){return y(e)===c}zi.AsyncMode=b,zi.ConcurrentMode=w,zi.ContextConsumer=E,zi.ContextProvider=C,zi.Element=I,zi.ForwardRef=B,zi.Fragment=x,zi.Lazy=k,zi.Memo=Q,zi.Portal=_,zi.Profiler=S,zi.StrictMode=T,zi.Suspense=P,zi.isAsyncMode=function(e){return O||(O=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),D(e)||y(e)===l},zi.isConcurrentMode=D,zi.isContextConsumer=function(e){return y(e)===s},zi.isContextProvider=function(e){return y(e)===a},zi.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},zi.isForwardRef=function(e){return y(e)===u},zi.isFragment=function(e){return y(e)===n},zi.isLazy=function(e){return y(e)===g},zi.isMemo=function(e){return y(e)===p},zi.isPortal=function(e){return y(e)===i},zi.isProfiler=function(e){return y(e)===o},zi.isStrictMode=function(e){return y(e)===r},zi.isSuspense=function(e){return y(e)===h},zi.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===c||e===o||e===r||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===a||e.$$typeof===s||e.$$typeof===u||e.$$typeof===A||e.$$typeof===m||e.$$typeof===v||e.$$typeof===f)},zi.typeOf=y}(),"production"===process.env.NODE_ENV?gi.exports=fi:gi.exports=zi
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var Li=Object.getOwnPropertySymbols,Mi=Object.prototype.hasOwnProperty,Fi=Object.prototype.propertyIsEnumerable;function Hi(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var ji=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,n,r=Hi(e),o=1;o<arguments.length;o++){for(var a in i=Object(arguments[o]))Mi.call(i,a)&&(r[a]=i[a]);if(Li){n=Li(i);for(var s=0;s<n.length;s++)Fi.call(i,n[s])&&(r[n[s]]=i[n[s]])}}return r},Vi="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wi=Function.call.bind(Object.prototype.hasOwnProperty),Ui=function(){};if("production"!==process.env.NODE_ENV){var qi=Vi,Xi={},Yi=Wi;Ui=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function Ki(e,t,i,n,r){if("production"!==process.env.NODE_ENV)for(var o in e)if(Yi(e,o)){var a;try{if("function"!=typeof e[o]){var s=Error((n||"React class")+": "+i+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}a=e[o](t,o,n,i,null,qi)}catch(e){a=e}if(!a||a instanceof Error||Ui((n||"React class")+": type specification of "+i+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in Xi)){Xi[a.message]=!0;var l=r?r():"";Ui("Failed "+i+" type: "+a.message+(null!=l?l:""))}}}Ki.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(Xi={})};var Gi=Ki,Zi=gi.exports,Ji=ji,$i=Vi,en=Wi,tn=Gi,nn=function(){};function rn(){return null}function on(){}function an(){}if("production"!==process.env.NODE_ENV&&(nn=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),an.resetWarningCache=on,"production"!==process.env.NODE_ENV){var sn=gi.exports;pi.exports=function(e,t){var i="function"==typeof Symbol&&Symbol.iterator,n="<<anonymous>>",r={array:l("array"),bigint:l("bigint"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:s(rn),arrayOf:function(e){return s((function(t,i,n,r,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[i];if(!Array.isArray(s))return new a("Invalid "+r+" `"+o+"` of type `"+h(s)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,n,r,o+"["+l+"]",$i);if(c instanceof Error)return c}return null}))},element:s((function(t,i,n,r,o){var s=t[i];return e(s)?null:new a("Invalid "+r+" `"+o+"` of type `"+h(s)+"` supplied to `"+n+"`, expected a single ReactElement.")})),elementType:s((function(e,t,i,n,r){var o=e[t];return Zi.isValidElementType(o)?null:new a("Invalid "+n+" `"+r+"` of type `"+h(o)+"` supplied to `"+i+"`, expected a single ReactElement type.")})),instanceOf:function(e){return s((function(t,i,r,o,s){if(!(t[i]instanceof e)){var l=e.name||n;return new a("Invalid "+o+" `"+s+"` of type `"+((c=t[i]).constructor&&c.constructor.name?c.constructor.name:n)+"` supplied to `"+r+"`, expected instance of `"+l+"`.")}var c;return null}))},node:s((function(e,t,i,n,r){return u(e[t])?null:new a("Invalid "+n+" `"+r+"` supplied to `"+i+"`, expected a ReactNode.")})),objectOf:function(e){return s((function(t,i,n,r,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[i],l=h(s);if("object"!==l)return new a("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected an object.");for(var c in s)if(en(s,c)){var u=e(s,c,n,r,o+"."+c,$i);if(u instanceof Error)return u}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&nn(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),rn;function t(t,i,n,r,s){for(var l=t[i],c=0;c<e.length;c++)if(o(l,e[c]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===d(t)?String(t):t}));return new a("Invalid "+r+" `"+s+"` of value `"+String(l)+"` supplied to `"+n+"`, expected one of "+u+".")}return s(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&nn("Invalid argument supplied to oneOfType, expected an instance of array."),rn;for(var t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)return nn("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+p(i)+" at index "+t+"."),rn}return s((function(t,i,n,r,o){for(var s=[],l=0;l<e.length;l++){var c=(0,e[l])(t,i,n,r,o,$i);if(null==c)return null;c.data&&en(c.data,"expectedType")&&s.push(c.data.expectedType)}return new a("Invalid "+r+" `"+o+"` supplied to `"+n+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")}))},shape:function(e){return s((function(t,i,n,r,o){var s=t[i],l=h(s);if("object"!==l)return new a("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var p=e[u];if("function"!=typeof p)return c(n,r,o,u,d(p));var g=p(s,u,n,r,o+"."+u,$i);if(g)return g}return null}))},exact:function(e){return s((function(t,i,n,r,o){var s=t[i],l=h(s);if("object"!==l)return new a("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");var u=Ji({},t[i],e);for(var p in u){var g=e[p];if(en(e,p)&&"function"!=typeof g)return c(n,r,o,p,d(g));if(!g)return new a("Invalid "+r+" `"+o+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[i],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=g(s,p,n,r,o+"."+p,$i);if(f)return f}return null}))}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function s(e){if("production"!==process.env.NODE_ENV);function t(t,i,r,o,s,l,c){if(o=o||n,l=l||r,c!==$i){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}return null==i[r]?t?null===i[r]?new a("The "+s+" `"+l+"` is marked as required in `"+o+"`, but its value is `null`."):new a("The "+s+" `"+l+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(i,r,o,s,l)}var i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}function l(e){return s((function(t,i,n,r,o,s){var l=t[i];return h(l)!==e?new a("Invalid "+r+" `"+o+"` of type `"+d(l)+"` supplied to `"+n+"`, expected `"+e+"`.",{expectedType:e}):null}))}function c(e,t,i,n,r){return new a((e||"React class")+": "+t+" type `"+i+"."+n+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+r+"`.")}function u(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(u);if(null===t||e(t))return!0;var n=function(e){var t=e&&(i&&e[i]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!u(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!u(a[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function d(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function p(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,r.checkPropTypes=tn,r.resetWarningCache=tn.resetWarningCache,r.PropTypes=r,r}(sn.isElement)}else pi.exports=function(){function e(e,t,i,n,r,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:an,resetWarningCache:on};return i.PropTypes=i,i}();var ln=pi.exports;function cn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function un(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(i),!0).forEach((function(t){dn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function dn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pn(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function gn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?fn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function An(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var mn=["style"];function vn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var i,n=t.indexOf(":"),r=An(t.slice(0,n)),o=t.slice(n+1).trim();return r.startsWith("webkit")?e[(i=r,i.charAt(0).toUpperCase()+i.slice(1))]=o:e[r]=o,e}),{})}var yn=!1;try{yn="production"===process.env.NODE_ENV}catch(yi){}function bn(e){return e&&"object"===hn(e)&&e.prefix&&e.iconName&&e.icon?e:ci.icon?ci.icon(e):null===e?null:e&&"object"===hn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function wn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?dn({},e,t):{}}var En=c.default.forwardRef((function(e,t){var i=e.icon,n=e.mask,r=e.symbol,o=e.className,a=e.title,s=e.titleId,l=e.maskId,c=bn(i),u=wn("classes",[].concat(gn(function(e){var t,i=e.beat,n=e.fade,r=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,h=e.pulse,d=e.fixedWidth,p=e.inverse,g=e.border,f=e.listItem,A=e.flip,m=e.size,v=e.rotation,y=e.pull,b=(dn(t={"fa-beat":i,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":d,"fa-inverse":p,"fa-border":g,"fa-li":f,"fa-flip":!0===A,"fa-flip-horizontal":"horizontal"===A||"both"===A,"fa-flip-vertical":"vertical"===A||"both"===A},"fa-".concat(m),null!=m),dn(t,"fa-rotate-".concat(v),null!=v&&0!==v),dn(t,"fa-pull-".concat(y),null!=y),dn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),gn(o.split(" ")))),h=wn("transform","string"==typeof e.transform?ci.transform(e.transform):e.transform),d=wn("mask",bn(n)),p=ui(c,un(un(un(un({},u),h),d),{},{symbol:r,title:a,titleId:s,maskId:l}));if(!p)return function(){var e;!yn&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var g=p.abstract,f={ref:t};return Object.keys(e).forEach((function(t){En.defaultProps.hasOwnProperty(t)||(f[t]=e[t])})),Cn(g[0],f)}));En.displayName="FontAwesomeIcon",En.propTypes={beat:ln.bool,border:ln.bool,beatFade:ln.bool,bounce:ln.bool,className:ln.string,fade:ln.bool,flash:ln.bool,mask:ln.oneOfType([ln.object,ln.array,ln.string]),maskId:ln.string,fixedWidth:ln.bool,inverse:ln.bool,flip:ln.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ln.oneOfType([ln.object,ln.array,ln.string]),listItem:ln.bool,pull:ln.oneOf(["right","left"]),pulse:ln.bool,rotation:ln.oneOf([0,90,180,270]),shake:ln.bool,size:ln.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ln.bool,spinPulse:ln.bool,spinReverse:ln.bool,symbol:ln.oneOfType([ln.bool,ln.string]),title:ln.string,titleId:ln.string,transform:ln.oneOfType([ln.string,ln.object]),swapOpacity:ln.bool},En.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Cn=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof i)return i;var r=(i.children||[]).map((function(i){return e(t,i)})),o=Object.keys(i.attributes||{}).reduce((function(e,t){var n=i.attributes[t];switch(t){case"class":e.attrs.className=n,delete i.attributes.class;break;case"style":e.attrs.style=vn(n);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=n:e.attrs[An(t)]=n}return e}),{attrs:{}}),a=n.style,s=void 0===a?{}:a,l=pn(n,mn);return o.attrs.style=un(un({},o.attrs.style),s),t.apply(void 0,[i.tag,un(un({},o.attrs),l)].concat(gn(r)))}.bind(null,c.default.createElement),In={prefix:"fas",iconName:"film",icon:[512,512,[127902],"f008","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM48 368v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H416zM48 240v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H416zM48 112v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H416zM160 128v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V320c0-17.7-14.3-32-32-32H192z"]},Bn={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},xn={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},kn={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48z"]},Qn={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},_n={prefix:"fas",iconName:"file-zipper",icon:[384,512,["file-archive"],"f1c6","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM96 48c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm-6.3 71.8c3.7-14 16.4-23.8 30.9-23.8h14.8c14.5 0 27.2 9.7 30.9 23.8l23.5 88.2c1.4 5.4 2.1 10.9 2.1 16.4c0 35.2-28.8 63.7-64 63.7s-64-28.5-64-63.7c0-5.5 .7-11.1 2.1-16.4l23.5-88.2zM112 336c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H112z"]},Sn={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Tn={prefix:"fas",iconName:"cube",icon:[512,512,[],"f1b2","M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"]},Pn={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V192c0-35.3-28.7-64-64-64H80c-8.8 0-16-7.2-16-16s7.2-16 16-16H448c17.7 0 32-14.3 32-32s-14.3-32-32-32H64zM416 336c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},On={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},Dn={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},Nn={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},Rn={prefix:"fas",iconName:"file-pdf",icon:[384,512,[],"f1c1","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 224H88c30.9 0 56 25.1 56 56s-25.1 56-56 56H80v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V320 240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H80v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H176c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V304 240c0-8.8 7.2-16 16-16z"]},zn={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},Ln={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},Mn={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},Fn={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Hn={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},jn={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Vn={prefix:"fas",iconName:"angle-up",icon:[448,512,[8963],"f106","M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},Wn={prefix:"fas",iconName:"chevron-left",icon:[384,512,[9001],"f053","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 278.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Un={prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},qn={prefix:"fas",iconName:"music",icon:[512,512,[127925],"f001","M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7v72V368c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V147L192 223.8V432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V200 128c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"]},Xn={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Yn={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]};function Kn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Gn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Zn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jn=function(e){return Zn[e]};function $n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function er(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(i),!0).forEach((function(t){Kn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var tr,ir={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Gn,Jn)}},nr=l.createContext();function rr(){return ir}var or=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.usedNamespaces={}}var t,i;return t=e,(i=[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ar(){return tr}var sr={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ir=er(er({},ir),e)}(e.options.react),function(e){tr=e}(e)}};function lr(){if(console&&console.warn){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];"string"==typeof i[0]&&(i[0]="react-i18next:: ".concat(i[0])),(e=console).warn.apply(e,i)}}var cr={};function ur(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];"string"==typeof t[0]&&cr[t[0]]||("string"==typeof t[0]&&(cr[t[0]]=new Date),lr.apply(void 0,t))}function hr(e,t,i){e.loadNamespaces(t,(function(){e.isInitialized?i():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),i()}))}))}function dr(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var a=function(e,i){var n=t.services.backendConnector.state["".concat(e,"|").concat(i)];return-1===n||2===n};return!(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(n,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(n,e)||r&&!a(o,e)))}function pr(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return ur("i18n.languages were undefined or empty",t.languages),!0;var n=void 0!==t.options.ignoreJSONStructure;return n?t.hasLoadedNamespace(e,{precheck:function(t,n){if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):dr(e,t,i)}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gr(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?gr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(i),!0).forEach((function(t){Kn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ar(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var vr=function(e,t){var i=l.useRef();return l.useEffect((function(){i.current=t?i.current:e}),[e,t]),i.current};function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.i18n,n=l.useContext(nr)||{},r=n.i18n,o=n.defaultNS,a=i||r||ar();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new or),!a){ur("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}a.options.react&&void 0!==a.options.react.wait&&ur("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=mr(mr(mr({},rr()),a.options.react),t),h=u.useSuspense,d=u.keyPrefix,p=e||o||a.options&&a.options.defaultNS;p="string"==typeof p?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var g=(a.isInitialized||a.initializedStoreOnce)&&p.every((function(e){return pr(e,a,u)}));function f(){return a.getFixedT(null,"fallback"===u.nsMode?p:p[0],d)}var A=l.useState(f),m=fr(A,2),v=m[0],y=m[1],b=p.join(),w=vr(b),E=l.useRef(!0);l.useEffect((function(){var e=u.bindI18n,t=u.bindI18nStore;function i(){E.current&&y(f)}return E.current=!0,g||h||hr(a,p,(function(){E.current&&y(f)})),g&&w&&w!==b&&E.current&&y(f),e&&a&&a.on(e,i),t&&a&&a.store.on(t,i),function(){E.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,i)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,i)}))}}),[a,b]);var C=l.useRef(!0);l.useEffect((function(){E.current&&!C.current&&y(f),C.current=!1}),[a,d]);var I=[v,a,g];if(I.t=v,I.i18n=a,I.ready=g,g)return I;if(!g&&!h)return I;throw new Promise((function(e){hr(a,p,(function(){e()}))}))}function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cr(e,t,i){return t&&Er(e.prototype,t),i&&Er(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e,t){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Br(e,t)}function xr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Br(e,t)}function kr(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qr(e)}function _r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Tr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Pr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Tr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Or={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Dr=new(function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wr(this,e),this.init(t,i)}return Cr(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Or,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Pr(Pr({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),Nr=function(){function e(){wr(this,e),this.observers={}}return Cr(e,[{key:"on",value:function(e,t){var i=this;return e.split(" ").forEach((function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,i)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(i))}))}}}]),e}();function Rr(){var e,t,i=new Promise((function(i,n){e=i,t=n}));return i.resolve=e,i.reject=t,i}function zr(e){return null==e?"":""+e}function Lr(e,t,i){e.forEach((function(e){t[e]&&(i[e]=t[e])}))}function Mr(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=n(o.shift());!e[a]&&i&&(e[a]=new i),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:n(o.shift())}}function Fr(e,t,i){var n=Mr(e,t,Object);n.obj[n.k]=i}function Hr(e,t){var i=Mr(e,t),n=i.obj,r=i.k;if(n)return n[r]}function jr(e,t,i){var n=Hr(e,i);return void 0!==n?n:Hr(t,i)}function Vr(e,t,i){for(var n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?i&&(e[n]=t[n]):Vr(e[n],t[n],i):e[n]=t[n]);return e}function Wr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qr(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Ur[e]})):e}var Xr="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Yr=[" ",",","?","!",";"];function Kr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Gr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Zr(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(i),r=e,o=0;o<n.length;++o){if(!r)return;if("string"==typeof r[n[o]]&&o+1<n.length)return;if(void 0===r[n[o]]){for(var a=2,s=n.slice(o,o+a).join(i),l=r[s];void 0===l&&n.length>o+a;)a++,l=r[s=n.slice(o,o+a).join(i)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=n.slice(o+a).join(i);return c?Zr(l,c,i):void 0}r=r[n[o]]}return r}}var Jr=function(e){xr(i,Nr);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Qr(e);if(t){var r=Qr(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return kr(this,i)}}(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return wr(this,i),n=t.call(this),Xr&&Nr.call(Ir(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return Cr(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];i&&"string"!=typeof i&&(a=a.concat(i)),i&&"string"==typeof i&&(a=a.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(a=e.split("."));var s=Hr(this.data,a);return s||!o||"string"!=typeof i?s:Zr(this.data&&this.data[e]&&this.data[e][t],i,r)}},{key:"addResource",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),Fr(this.data,a,n),r.silent||this.emit("added",e,t,i,n)}},{key:"addResources",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in i)"string"!=typeof i[r]&&"[object Array]"!==Object.prototype.toString.apply(i[r])||this.addResource(e,t,r,i[r],{silent:!0});n.silent||this.emit("added",e,t,i)}},{key:"addResourceBundle",value:function(e,t,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(n=i,i=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Hr(this.data,a)||{};n?Vr(s,i,r):s=Gr(Gr({},s),i),Fr(this.data,a,s),o.silent||this.emit("added",e,t,i)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Gr(Gr({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(),$r={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,i,n,r))})),t}};function eo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function to(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var io={},no=function(e){xr(i,Nr);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Qr(e);if(t){var r=Qr(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return kr(this,i)}}(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wr(this,i),n=t.call(this),Xr&&Nr.call(Ir(n)),Lr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Ir(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=Dr.create("translator"),n}return Cr(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var i=this.resolve(e,t);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(e,t){var i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],o=i&&e.indexOf(i)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,i){t=t||"",i=i||"";var n=Yr.filter((function(e){return t.indexOf(e)<0&&i.indexOf(e)<0}));if(0===n.length)return!0;var r=new RegExp("(".concat(n.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var a=e.indexOf(i);a>0&&!r.test(e.substring(0,a))&&(o=!0)}return o}(e,i,n));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(n)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==br(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],h=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(d){var p=t.nsSeparator||this.options.nsSeparator;return o?(g.res="".concat(u).concat(p).concat(l),g):"".concat(u).concat(p).concat(l)}return o?(g.res=l,g):l}var g=this.resolve(e,t),f=g&&g.res,A=g&&g.usedKey||l,m=g&&g.exactUsedKey||l,v=Object.prototype.toString.apply(f),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(w&&f&&E&&y.indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,f,to(to({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(g.res=C,g):C}if(a){var I="[object Array]"===v,B=I?[]:{},x=I?m:A;for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)){var Q="".concat(x).concat(a).concat(k);B[k]=this.translate(Q,to(to({},t),{joinArrays:!1,ns:c})),B[k]===Q&&(B[k]=f[k])}f=B}}else if(w&&"string"==typeof b&&"[object Array]"===v)(f=f.join(b))&&(f=this.extendTranslation(f,e,t,n));else{var _=!1,S=!1,T=void 0!==t.count&&"string"!=typeof t.count,P=i.hasDefaultValue(t),O=T?this.pluralResolver.getSuffix(h,t.count,t):"",D=t["defaultValue".concat(O)]||t.defaultValue;!this.isValidLookup(f)&&P&&(_=!0,f=D),this.isValidLookup(f)||(S=!0,f=l);var N=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,R=N&&S?void 0:f,z=P&&D!==f&&this.options.updateMissing;if(S||_||z){if(this.logger.log(z?"updateKey":"missingKey",h,u,l,z?D:f),a){var L=this.resolve(l,to(to({},t),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var H=0;H<F.length;H++)M.push(F[H]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(t.lng||this.language):M.push(t.lng||this.language);var j=function(e,i,n){var o=P&&n!==f?n:R;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,i,o,z,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,i,o,z,t),r.emit("missingKey",e,u,i,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?M.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(i){j([e],l+i,t["defaultValue".concat(i)]||D)}))})):j(M,l,D))}f=this.extendTranslation(f,e,t,g,n),S&&f===l&&this.options.appendNamespaceToMissingKey&&(f="".concat(u,":").concat(l)),(S||_)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,_?f:void 0):this.options.parseMissingKeyHandler(f))}return o?(g.res=f,g):f}},{key:"extendTranslation",value:function(e,t,i,n,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,to(to({},this.options.interpolation.defaultVariables),i),n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(to(to({},i),{interpolation:to(to({},this.options.interpolation),i.interpolation)}));var a,s="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c=to(to({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,i.lng||this.language,i),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(i.nest=!1)}!1!==i.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return r&&r[0]===n[0]&&!i.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null):o.translate.apply(o,n.concat([t]))}),i)),i.interpolation&&this.interpolator.reset()}var h=i.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==i.applyPostProcessor&&(e=$r.handle(d,e,t,this.options&&this.options.postProcessPassResolved?to({i18nResolved:n},i):i,this)),e}},{key:"resolve",value:function(e){var t,i,n,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),c=l.key;i=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,d=h&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(o=e,!io["".concat(g[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(io["".concat(g[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(i,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(i){if(!a.isValidLookup(t)){r=i;var o,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,i,e,s);else{var u;h&&(u=a.pluralResolver.getSuffix(i,s.count,s));var g="".concat(a.options.pluralSeparator,"zero");if(h&&(l.push(c+u),d&&l.push(c+g)),p){var f="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(f),h&&(l.push(f+u),d&&l.push(f+g))}}for(;o=l.pop();)a.isValidLookup(t)||(n=o,t=a.getResource(i,e,o,s))}})))}))}})),{res:t,usedKey:i,exactUsedKey:n,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}]),i}();function ro(e){return e.charAt(0).toUpperCase()+e.slice(1)}var oo=function(){function e(t){wr(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dr.create("languageUtils")}return Cr(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map((function(e){return e.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=ro(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=ro(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=ro(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,i=this;return e?(e.forEach((function(e){if(!t){var n=i.formatLanguageCode(e);i.options.supportedLngs&&!i.isSupportedCode(n)||(t=n)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var n=i.getLanguagePartFromCode(e);if(i.isSupportedCode(n))return t=n;t=i.options.supportedLngs.find((function(e){if(0===e.indexOf(n))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}},{key:"toResolveHierarchy",value:function(e,t){var i=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(i.isSupportedCode(e)?r.push(e):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),n.forEach((function(e){r.indexOf(e)<0&&o(i.formatLanguageCode(e))})),r}}]),e}(),ao=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],so={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},lo=["v1","v2","v3"],co={zero:0,one:1,two:2,few:3,many:4,other:5};function uo(){var e={};return ao.forEach((function(t){t.lngs.forEach((function(i){e[i]={numbers:t.nr,plurals:so[t.fc]}}))})),e}var ho=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wr(this,e),this.languageUtils=t,this.options=i,this.logger=Dr.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=uo()}return Cr(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((function(e,t){return co[e]-co[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):n.numbers.map((function(n){return t.getSuffix(e,n,i)})):[]}},{key:"getSuffix",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var i=this,n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return i.options.prepend&&r.toString()?i.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}},{key:"shouldUseIntlApi",value:function(){return!lo.includes(this.options.compatibilityJSON)}}]),e}();function po(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function go(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?po(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):po(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var fo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wr(this,e),this.logger=Dr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Cr(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:qr,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Wr(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Wr(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Wr(t.nestingPrefix):t.nestingPrefixEscaped||Wr("$t("),this.nestingSuffix=t.nestingSuffix?Wr(t.nestingSuffix):t.nestingSuffixEscaped||Wr(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(e,t,i,n){var r,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=jr(t,l,e);return s.alwaysFormat?s.format(r,void 0,i,go(go(go({},n),t),{},{interpolationkey:e})):r}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(jr(t,l,a),c,i,go(go(go({},n),t),{},{interpolationkey:a}))};this.resetRegExp();var h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){var i=r[1].trim();if(void 0===(o=u(i)))if("function"==typeof h){var l=h(e,r,n);o="string"==typeof l?l:""}else if(n&&n.hasOwnProperty(i))o="";else{if(d){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(i," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=zr(o));var c=t.safeValue(o);if(e=e.replace(r[0],c),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var i,n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=go({},o);function s(e,t){var i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;var n=e.split(new RegExp("".concat(i,"[ ]*{"))),r="{".concat(n[1]);e=n[0];var o=(r=this.interpolate(r,a)).match(/'/g),s=r.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(r=r.replace(/'/g,'"'));try{a=JSON.parse(r),t&&(a=go(go({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(i).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;i=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var u=i[1].split(this.formatSeparator).map((function(e){return e.trim()}));i[1]=u.shift(),l=u,c=!0}if((n=t(s.call(this,i[1].trim(),a),a))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=zr(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),n=""),c&&(n=l.reduce((function(e,t){return r.format(e,t,o.lng,go(go({},o),{},{interpolationkey:i[1].trim()}))}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}]),e}();function Ao(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ao(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function vo(e){var t={};return function(i,n,r){var o=n+JSON.stringify(r),a=t[o];return a||(a=e(n,r),t[o]=a),a(i)}}var yo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wr(this,e),this.logger=Dr.create("formatter"),this.options=t,this.formats={number:vo((function(e,t){var i=new Intl.NumberFormat(e,t);return function(e){return i.format(e)}})),currency:vo((function(e,t){var i=new Intl.NumberFormat(e,mo(mo({},t),{},{style:"currency"}));return function(e){return i.format(e)}})),datetime:vo((function(e,t){var i=new Intl.DateTimeFormat(e,mo({},t));return function(e){return i.format(e)}})),relativetime:vo((function(e,t){var i=new Intl.RelativeTimeFormat(e,mo({},t));return function(e){return i.format(e,t.range||"day")}})),list:vo((function(e,t){var i=new Intl.ListFormat(e,mo({},t));return function(e){return i.format(e)}}))},this.init(t)}return Cr(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=vo(t)}},{key:"format",value:function(e,t,i,n){var r=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var r=n[1].substring(0,n[1].length-1);"currency"===t&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Sr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),n=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");i[n.trim()]||(i[n.trim()]=r),"false"===r&&(i[n.trim()]=!1),"true"===r&&(i[n.trim()]=!0),isNaN(r)||(i[n.trim()]=parseInt(r,10))}}))}return{formatName:t,formatOptions:i}}(t),a=o.formatName,s=o.formatOptions;if(r.formats[a]){var l=e;try{var c=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},u=c.locale||c.lng||n.locale||n.lng||i;l=r.formats[a](e,u,mo(mo(mo({},s),n),c))}catch(e){r.logger.warn(e)}return l}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function bo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Eo=function(e){xr(i,Nr);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Qr(e);if(t){var r=Qr(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return kr(this,i)}}(i);function i(e,n,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return wr(this,i),o=t.call(this),Xr&&Nr.call(Ir(o)),o.backend=e,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=a,o.logger=Dr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,a.backend,a),o}return Cr(i,[{key:"queueLoad",value:function(e,t,i,n){var r=this,o={},a={},s={},l={};return e.forEach((function(e){var n=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!i.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===a[s]&&(a[s]=!0):(r.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),n||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,i){var n=e.split("|"),r=n[0],o=n[1];t&&this.emit("failedLoading",r,o,t),i&&this.store.addResourceBundle(r,o,i),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(i){!function(e,t,i,n){var r=Mr(e,t,Object),o=r.obj,a=r.k;o[a]=o[a]||[],o[a].push(i)}(i.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(i,e),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((function(e){a[e]||(a[e]={});var t=i.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:o,callback:a}):(this.readingCalls++,this.backend[i](e,t,(function(s,l){if(n.readingCalls--,n.waitingReads.length>0){var c=n.waitingReads.shift();n.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&r<n.maxRetries?setTimeout((function(){n.read.call(n,e,t,i,r+1,2*o,a)}),o):a(s,l)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){i.loadOne(e)}))}},{key:"load",value:function(e,t,i){this.prepareLoading(e,t,{},i)}},{key:"reload",value:function(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}},{key:"loadOne",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(function(n,a){n&&t.logger.warn("".concat(i,"loading namespace ").concat(o," for language ").concat(r," failed"),n),!n&&a&&t.logger.log("".concat(i,"loaded namespace ").concat(o," for language ").concat(r),a),t.loaded(e,n,a)}))}},{key:"saveMissing",value:function(e,t,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(e,t,i,n,null,wo(wo({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,i,n))}}]),i}();function Co(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===br(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===br(e[2])||"object"===br(e[3])){var i=e[3]||e[2];Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,i,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Io(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Bo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(i),!0).forEach((function(t){_r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Bo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ko(){}function Qo(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var _o=function(e){xr(i,Nr);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Qr(e);if(t){var r=Qr(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return kr(this,i)}}(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(wr(this,i),e=t.call(this),Xr&&Nr.call(Ir(e)),e.options=Io(n),e.services={},e.logger=Dr,e.modules={external:[]},Qo(Ir(e)),r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),kr(e,Ir(e));setTimeout((function(){e.init(n,r)}),0)}return e}return Cr(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var n=Co();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=xo(xo(xo({},n),this.options),Io(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=xo(xo({},n.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?Dr.init(r(this.modules.logger),this.options):Dr.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=yo);var a=new oo(this.options);this.store=new Jr(this.options.resources,this.options);var s=this.services;s.logger=Dr,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new ho(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(s.formatter=r(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new fo(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Eo(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t].concat(n))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new no(this.services,this.options),this.translator.on("*",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t].concat(n))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,i||(i=ko),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments),e}}));var h=Rr(),d=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(n),i(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),h}},{key:"loadResources",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko,n=i,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)a(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,i){var n=Rr();return e||(e=this.languages),t||(t=this.options.ns),i||(i=ko),this.services.backendConnector.reload(e,t,(function(e){n.resolve(),i(e)})),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&$r.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(e,t){var i=this;this.isLanguageChangingTo=e;var n=Rr();this.emit("languageChanging",e);var r=function(e){i.language=e,i.languages=i.services.languageUtils.toResolveHierarchy(e),i.resolvedLanguage=void 0,i.setResolvedLanguage(e)},o=function(o){e||o||!i.services.languageDetector||(o=[]);var a="string"==typeof o?o:i.services.languageUtils.getBestMatchFromCodes(o);a&&(i.language||r(a),i.translator.language||i.translator.changeLanguage(a),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(a)),i.loadResources(a,(function(e){!function(e,o){o?(r(o),i.translator.changeLanguage(o),i.isLanguageChangingTo=void 0,i.emit("languageChanged",o),i.logger.log("languageChanged",o)):i.isLanguageChangingTo=void 0,n.resolve((function(){return i.t.apply(i,arguments)})),t&&t(e,(function(){return i.t.apply(i,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t,i){var n=this,r=function e(t,r){var o;if("object"!==br(r)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=n.options.overloadTranslationOptionHandler([t,r].concat(s))}else o=xo({},r);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||i||e.keyPrefix;var c=n.options.keySeparator||".",u=o.keyPrefix?"".concat(o.keyPrefix).concat(c).concat(t):t;return n.t(u,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var a=function(e,i){var n=t.services.backendConnector.state["".concat(e,"|").concat(i)];return-1===n||2===n};if(i.precheck){var s=i.precheck(this,a);if(void 0!==s)return s}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(n,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var i=this,n=Rr();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)})),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var i=Rr();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter((function(e){return n.indexOf(e)<0}));return r.length?(this.options.preload=n.concat(r),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko,r=xo(xo(xo({},this.options),t),{isClone:!0}),o=new i(r);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));var a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=xo({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new no(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];o.emit.apply(o,[e].concat(i))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}();_r(_o,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new _o(e,t)}));var So=_o.createInstance();So.createInstance=_o.createInstance,So.createInstance,So.init,So.loadResources,So.reloadResources,So.use,So.changeLanguage,So.getFixedT;var To=So.t;So.exists,So.setDefaultNamespace,So.hasLoadedNamespace,So.loadNamespaces,So.loadLanguages;const Po="es"===(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]?"es":"en";So.use(sr).init({resources:{en:{translation:{"elipsis.download":"Download","elipsis.details":"Details","details.title":"Details","details.size":"Size","details.fileType":"File Type","details.dateAdded":"Date Added","details.done":"Done","titles.name":"Name","titles.fileSize":"Size","titles.dateAdded":"Date Added","footer.poweredBy":"Powered by","panel.fileFormat":"File format","panel.fileSize":"File Size","player.compressedFile":"Compressed file","header.authenticate":"Authenticate Ownership","state.noWalletTitle":"No wallet connected","state.noWalletText":"Please connect a wallet to view Darkblock unlockable content.","state.startFailureTitle":"An Error Ocurred","state.startFailureText":"Please reload the page and try again","state.noDarkblockTitle":"No Darkblock Content","state.noDarkblockText":"This NFT doesnt contain unlockable content. If this is a newly minted NFT or the creator just added the unlockable content, there might be a delay due to indexing.","state.authFailureTitle":"Failed to Authenticate Ownership","state.authFailureText":"This wallet does not have access to this Darkblock.","state.rentalNftTitle":"Content Rental Expired","state.rentalNftText":"This access NFT doesn't contain unlockable content because the access period has expired.","state.authCancelTitle":"Failed to Authenticate Ownership","state.authCancelText":"This wallet does not have access to this Darkblock.","state.startedTitle":"Darkblock Content","state.startedText":"This NFT has unlockable content which only the owner can access.","state.walletConnectedTitle":"Darkblock Content","state.walletConnectedText":"This NFT has unlockable content which only the owner can access.","state.decryptErrorTitle":"An Error Ocurred","state.decryptErrorText":"Please try again.","state.signingTitle":"Signature Requested","state.signingText":"Please sign with your wallet","state.ownershipAuth":"Ownership Authenticated","state.decrypting":"Decrypting...","state.displayText":"You can now access the content","upgrader.addContent":"Add Content",fileUpload:"Upload a file",supportedFileFormats:"Supported File Formats",maxFileSize:"Max file size 350MB","upgrader.minting":"Your unlockable content is being created...","upgrader.mintingWarning":"Please DO NOT close this page until this process is finished. Depending on the file size and your internet connection the upload time may take up to a few minutes.","upgrader.minted":"Your unlockable content has been created","upgrader.done":"I'm Done","upgrader.error":"Error Trying to Upload File","upgrader.tryAgain":"Try again","upgrader.title":"Create Unlockable Content","upgrader.generating":"Generating content signature...","upgrader.uploading":"Uploading to arweave...","upgrader.complete":"Complete","upgrader.hashing":"Hashing the file...","upgrader.signing":"Signing file for security...","upgrader.name":"Name","upgrader.description":"Description (optional)","upgrader.makeAnother":"Make another","upgrader.allowDownload":"Allow Download","upgrader.create":"Create","upgrader.characters":"Characters remaining"}},es:{translation:{"elipsis.download":"Descargar","elipsis.details":"Detalles","details.title":"Detalles","details.size":"Tamao","details.fileType":"Tipo de archivo","details.dateAdded":"Fecha aadido","details.done":"Hecho","titles.name":"Nombre","titles.fileSize":"Tamao","titles.dateAdded":"Fecha aadido","footer.poweredBy":"Desarrollado por","panel.fileFormat":"Formato del archivo","panel.fileSize":"Tamao del archivo","player.compressedFile":"Archivo comprimido","header.authenticate":"Autenticar propiedad","state.noWalletTitle":"Billetera no conectada","state.noWalletText":"Por favor, conecte una billetera para ver el contenido desbloqueable de Darkblock.","state.startFailureTitle":"Ocurri un error","state.startFailureText":"Por favor recargue la pgina e intente de nuevo","state.noDarkblockTitle":"Sin contenido de Darkblock","state.noDarkblockText":"Este NFT no contiene contenido desbloqueable. Si se trata de un NFT recin minteado o si el creador acaba de agregar el contenido desbloqueable, puede haber un retraso debido a la indexacin.","state.authFailureTitle":"No se pudo autenticar la propiedad","state.rentalNftTitle":"El Alquiler de Contenido a Caducado","state.rentalNftText":"Este acceso de NFT no contiene contenido desbloqueable porque el perodo de acceso ha expirado.","state.authFailureText":"Esta billetera no tiene acceso a este Darkblock.","state.authCancelTitle":"No se pudo autenticar la propiedad","state.authCancelText":"Esta billetera no tiene acceso a este Darkblock.","state.startedTitle":"Contenido con Darkblocks","state.startedText":"Este NFT tiene contenido desbloqueable al que solo puede acceder el propietario.","state.walletConnectedTitle":"Contenido con Darkblocks","state.walletConnectedText":"Este NFT tiene contenido desbloqueable al que solo puede acceder el propietario.","state.decryptErrorTitle":"Ocurri un error","state.decryptErrorText":"Por favor intente de nuevo","state.signingTitle":"Firma solicitada","state.signingText":"Por favor firme con su billetera","state.ownershipAuth":"Propiedad autenticada","state.decrypting":"Desencriptando...","state.displayText":"Ya puedes acceder al contenido","upgrader.addContent":"Aadir contenido",fileUpload:"Subir un archivo",supportedFileFormats:"Formatos de archivo soportados",maxFileSize:"Tamao mximo de archivo 350MB","upgrader.minting":"Su contenido desbloqueable est siendo creado...","upgrader.mintingWarning":"NO cierre esta pgina hasta que finalice este proceso. Dependiendo del tamao del archivo y su conexin a Internet, el tiempo de carga puede demorar unos minutos.","upgrader.minted":"Su contenido desbloqueable ha sido creado","upgrader.done":"Hecho","upgrader.error":"Error tratando de subir el archivo","upgrader.tryAgain":"intente de nuevo","upgrader.title":"Crear contenido desbloqueable","upgrader.generating":"Generacin de firma de contenido...","upgrader.uploading":"Subiendo a arweave...","upgrader.complete":"Completado","upgrader.hashing":"Hashing del archivo...","upgrader.signing":"Firmando el archivo por seguridad...","upgrader.name":"Nombre","upgrader.description":"Descripcion (opcional)","upgrader.makeAnother":"Hacer otro","upgrader.allowDownload":"Permitir descarga","upgrader.create":"Crear","upgrader.characters":"Caracteres restantes"}}},lng:Po,keySeparator:!1,interPolation:{escapeValue:!1}}),h('.spinner{shape-rendering:"auto";animation-delay:"0s";animation-play-state:"running";background:"none";display:"block";margin:"auto"}.spinner animateTransform,.spinner circle{animation-delay:0s;animation-play-state:running}',{insertAt:"top"});const Oo=()=>c.default.createElement("svg",{className:"spinner",width:"32px",height:"32px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},c.default.createElement("circle",{cx:"50",cy:"50",fill:"none",stroke:"#000000",strokeWidth:"13",r:"40",strokeDasharray:"188.49555921538757 64.83185307179586"},c.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),Do=()=>c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},c.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4H10.8573H14.2855H14.2858V27.9995H14.2855V27.9997H4V24.5712H10.8573V7.4285H4V4ZM7.42851 10.8567H4V14.2852H7.42851V10.8567ZM7.42851 17.714H4V21.1425H7.42851V17.714ZM24.5711 4H21.1426H17.7141V7.4285V10.8567V14.2852V14.2855H21.1426V14.2852H24.5715V14.2856H28V7.42862H24.5715V10.8567H21.1426V7.4285H24.5711V4ZM27.9996 24.571V21.1425V17.714H24.5711H17.7141V17.714H17.7138L17.7138 27.9995H17.7139V27.9997H24.5709V24.5712H21.1423V21.1425H24.5711V24.571H27.9996Z",fill:"black"}));h(".DarkblockWidget-logo{height:1.5rem;margin:auto;width:1.5rem}",{insertAt:"top"});const No=()=>c.default.createElement("svg",{className:"DarkblockWidget-logo",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},c.default.createElement("path",{d:"M13.4099 11.9999L17.7099 7.70994C17.8982 7.52164 18.004 7.26624 18.004 6.99994C18.004 6.73364 17.8982 6.47825 17.7099 6.28994C17.5216 6.10164 17.2662 5.99585 16.9999 5.99585C16.7336 5.99585 16.4782 6.10164 16.2899 6.28994L11.9999 10.5899L7.70994 6.28994C7.52164 6.10164 7.26624 5.99585 6.99994 5.99585C6.73364 5.99585 6.47824 6.10164 6.28994 6.28994C6.10164 6.47825 5.99585 6.73364 5.99585 6.99994C5.99585 7.26624 6.10164 7.52164 6.28994 7.70994L10.5899 11.9999L6.28994 16.2899C6.19621 16.3829 6.12182 16.4935 6.07105 16.6154C6.02028 16.7372 5.99414 16.8679 5.99414 16.9999C5.99414 17.132 6.02028 17.2627 6.07105 17.3845C6.12182 17.5064 6.19621 17.617 6.28994 17.7099C6.3829 17.8037 6.4935 17.8781 6.61536 17.9288C6.73722 17.9796 6.86793 18.0057 6.99994 18.0057C7.13195 18.0057 7.26266 17.9796 7.38452 17.9288C7.50638 17.8781 7.61698 17.8037 7.70994 17.7099L11.9999 13.4099L16.2899 17.7099C16.3829 17.8037 16.4935 17.8781 16.6154 17.9288C16.7372 17.9796 16.8679 18.0057 16.9999 18.0057C17.132 18.0057 17.2627 17.9796 17.3845 17.9288C17.5064 17.8781 17.617 17.8037 17.7099 17.7099C17.8037 17.617 17.8781 17.5064 17.9288 17.3845C17.9796 17.2627 18.0057 17.132 18.0057 16.9999C18.0057 16.8679 17.9796 16.7372 17.9288 16.6154C17.8781 16.4935 17.8037 16.3829 17.7099 16.2899L13.4099 11.9999Z",fill:"#A3A3A3"})),Ro=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,zo=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.flat(1/0).filter(Boolean).join(" ")};h(".Darkblock-done-button{--tw-text-opacity:1;border-radius:.5rem;color:rgb(255 255 255/var(--tw-text-opacity));margin:1.5rem 1rem 1rem;width:5rem}.Darkblock-auth-button{--tw-text-opacity:1;align-items:center;border-radius:.375rem;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex:1 1 auto;font-weight:700;height:-moz-fit-content;height:fit-content;justify-content:center;padding:.5rem 1rem;text-align:center;width:-moz-fit-content;width:fit-content}.Darkblock-upgrade-create-button{--tw-text-opacity:1;border-radius:.25rem;color:rgb(229 231 235/var(--tw-text-opacity));float:right;font-weight:600;margin-right:.5rem}.Darkblock-upgrade-create-button:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99/var(--tw-bg-opacity))}.Darkblock-upgrade-add-content{--tw-text-opacity:1;align-items:center;border-radius:.25rem;color:rgb(0 0 0/var(--tw-text-opacity));cursor:pointer;display:flex;flex-direction:row;padding:.25rem 1rem}.Darkblock-minting-complete-add-another{--tw-text-opacity:1;border-radius:.25rem;color:rgb(255 255 255/var(--tw-text-opacity));display:inline-block;margin-bottom:1rem;margin-top:.5rem;text-align:center;width:40%}.Darkblock-minting-complete-add-another:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.Darkblock-minting-complete-done{--tw-border-opacity:1;--tw-text-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity));border-radius:.25rem;border-width:1px;color:rgb(0 0 0/var(--tw-text-opacity));display:inline-block;font-weight:700;margin-bottom:1rem;margin-left:.5rem;margin-top:.5rem;text-align:center;width:40%}.Darkblock-minting-complete-done:hover{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity));color:rgb(255 255 255/var(--tw-text-opacity))}.Darkblock-primary-button{--tw-bg-opacity:1!important;background-color:rgb(0 0 0/var(--tw-bg-opacity))!important}.Darkblock-primary-button:hover{--tw-bg-opacity:1!important;background-color:rgb(38 38 38/var(--tw-bg-opacity))!important}.Darkblock-primary-button:disabled{--tw-bg-opacity:1!important;--tw-text-opacity:1!important;background-color:rgb(115 115 115/var(--tw-bg-opacity))!important;color:rgb(163 163 163/var(--tw-text-opacity))!important}.Darkblock-secondary-button{--tw-bg-opacity:1!important;background-color:rgb(229 229 229/var(--tw-bg-opacity))!important}.Darkblock-secondary-button:hover{--tw-bg-opacity:1!important;background-color:rgb(212 212 212/var(--tw-bg-opacity))!important}.Darkblock-secondary-button:disabled{--tw-bg-opacity:1!important;--tw-text-opacity:1!important;background-color:rgb(229 229 229/var(--tw-bg-opacity))!important;color:rgb(212 212 212/var(--tw-text-opacity))!important}.white{--tw-bg-opacity:1!important;background-color:rgb(255 255 255/var(--tw-bg-opacity))!important}.white:hover{background-color:rgb(229 229 229/var(--tw-bg-opacity))!important;color:rgb(0 0 0/var(--tw-text-opacity))!important}.white:disabled,.white:hover{--tw-bg-opacity:1!important;--tw-text-opacity:1!important}.white:disabled{background-color:rgb(255 255 255/var(--tw-bg-opacity))!important;color:rgb(212 212 212/var(--tw-text-opacity))!important}.gray{background-color:rgb(64 64 64/var(--tw-bg-opacity))!important}.gray,.gray:hover{--tw-bg-opacity:1!important}.gray:hover{background-color:rgb(82 82 82/var(--tw-bg-opacity))!important}.gray:disabled{--tw-bg-opacity:1!important;--tw-text-opacity:1!important;background-color:rgb(64 64 64/var(--tw-bg-opacity))!important;color:rgb(115 115 115/var(--tw-text-opacity))!important}",{insertAt:"top"});const Lo=((e,t)=>i=>{var n;if(null==(null==t?void 0:t.variants))return zo(e,null==i?void 0:i.class,null==i?void 0:i.className);const{variants:r,defaultVariants:o}=t,a=Object.keys(r).map((e=>{const t=null==i?void 0:i[e],n=null==o?void 0:o[e];if(null===t)return null;const a=Ro(t)||Ro(n);return r[e][a]})),s=i&&Object.entries(i).reduce(((e,t)=>{let[i,n]=t;return void 0===n||(e[i]=n),e}),{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce(((e,t)=>{let{class:i,className:n,...r}=t;return Object.entries(r).every((e=>{let[t,i]=e;return{...o,...s}[t]===i}))?[...e,i,n]:e}),[]);return zo(e,a,l,null==i?void 0:i.class,null==i?void 0:i.className)})([],{variants:{variant:{primary:["Darkblock-primary-button"],secondary:["Darkblock-secondary-button"]},size:{medium:["Darkblock-ButtonMediumText","py-1","px-3","rounded-md"],large:["Darkblock-ButtonLargeText","py-3","px-4","rounded-lg"]},color:{white:["white"],gray:["gray"]},layout:{done:["Darkblock-done-button"],auth:["Darkblock-auth-button"],upgradeCreate:["Darkblock-upgrade-create-button"],upgradeAddContent:["Darkblock-upgrade-add-content"],mintingAddAnother:["Darkblock-minting-complete-add-another"],mintingDone:["Darkblock-minting-complete-done"]}}}),Mo=({variant:e="",state:t="",type:i=null,children:n,size:r,color:o,layout:a,className:s,id:l=null,onClick:u=""})=>c.default.createElement("button",{className:Lo({variant:e,layout:a,size:r,color:o,className:s}),disabled:t,type:i,id:l,onClick:u},n),Fo=(e,t,i,n,r=!1,o=null)=>{const{t:a}=yr(),s=["auth_failure","start_failure","decrypt_error"],u=["loading_arweave","authenticated","decrypting"],h=[...s,...u,"signing","display"],[d,p]=l.useState(null),[g,f]=l.useState("");return l.useEffect((()=>{d>0?setTimeout((()=>{p(d-1),t.context.display.expireSeconds=d-1;const e=(e=>{let t=Math.floor(e/3600),i=e%3600,n=Math.floor(i/60),r=i%60,o=Math.ceil(r);return t=("00"+t).slice(-2),n=("00"+n).slice(-2),o=("00"+o).slice(-2),{hours:t,minutes:n,seconds:o}})(d);let i="";parseInt(e.hours)>0&&(i=`${e.hours}:`),i=`${i}${e.minutes}:${e.seconds}`,f(i)}),1e3):f("")}),[d]),l.useEffect((()=>{!d&&o&&t.context.display.expireSeconds&&parseInt(t.context.display.expireSeconds)>0&&p(parseInt(t.context.display.expireSeconds))}),[t]),c.default.createElement("div",{className:"DarkblockWidget-Header",style:{borderColor:"auth_failure"===t.value||"start_failure"===t.value||"decrypt_error"===t.value?"#EF4444":"display"===t.value?"#22C55E":"rgb(243 244 246)"}},c.default.createElement("div",{className:"DarkblockWidget-HeaderContent"},!1!==e&&("no_wallet"===t.value||"wallet_connected"===t.value||"display"===t.value)&&c.default.createElement("button",{className:"DarkblockWidget-closeBtn",onClick:e},c.default.createElement(No,null)),!!o&&g&&g.length>0&&c.default.createElement("div",{className:"DarkblockWidget-Header-countdownTimer"},c.default.createElement(En,{icon:Bn,className:"Darkblock-FaStopwatchIcon"}),c.default.createElement("span",null,g)),c.default.createElement("div",{className:"DarkblockWidget-Header-Row"},"signing"===t.value&&c.default.createElement(En,{icon:Pn,className:"Darkblock-FaWalletIcon awesome"}),"display"===t.value&&c.default.createElement(En,{icon:Qn,className:"Darkblock-FaCheckIcon awesome"}),s.includes(t.value)&&c.default.createElement(En,{icon:Yn,className:"Darkblock-FaTriangleIcon awesome"}),!h.includes(t.value)&&c.default.createElement("div",{className:"DarkblockWidget-Header-logo"},c.default.createElement(Do,null)),u.includes(t.value)&&c.default.createElement(Oo,{className:"Darkblock-Icon"}),(i||n)&&c.default.createElement("div",{className:"DarkblockWidget-Header-titleStack"},c.default.createElement("h3",{className:r?"Darkblock-title Darkblock-title-red":"Darkblock-title"},i),c.default.createElement("div",{className:"Darkblock-dialog-message"},n)),!!o&&c.default.createElement("div",{className:"DarkblockWidget-Header-authButton"},c.default.createElement(Mo,{variant:"secondary",layout:"auth",size:"medium",onClick:o},a("header.authenticate"))))))},Ho=({onClose:e,state:t=null,authenticate:i})=>{var n="",r="";const{t:o}=yr(),a=["auth_failure","auth_cancel"],s=[...a,"wallet_connected"];switch(t.value){case"no_wallet":n=o("state.noWalletTitle"),r=o("state.noWalletText");break;case"start_failure":n=o("state.startFailureTitle"),r=o("state.startFailureText");break;case"no_darkblock":t&&t.context&&t.context.display&&t.context.display.rental?(n=o("state.rentalNftTitle"),r=o("state.rentalNftText")):(n=o("state.noDarkblockTitle"),r=o("state.noDarkblockText"));break;case"auth_failure":n=o("state.authFailureTitle"),r=o("state.authFailureText");break;case"auth_cancel":n=o("state.authCancelTitle"),r=o("state.authCancelText");break;case"started":n=o("state.startedTitle"),r=o("state.startedText");break;case"wallet_connected":n=o("state.walletConnectedTitle"),r=o("state.walletConnectedText");break;case"decrypt_error":n=o("state.decryptErrorTitle"),r=o("state.decryptErrorText");break;case"signing":n=o("state.signingTitle"),r=o("state.signingText");break;case"authenticated":case"decrypting":n=o("state.ownershipAuth"),r=o("state.decrypting");break;case"display":n=o("state.ownershipAuth"),r=o("state.displayText")}return Fo(e,t,n,r,!!a.includes(t.value),s.includes(t.value)?i:null)};h('.DarkblockWidget-Main{padding-top:72px}.DarkblockWidget-Main .simple-text{color:#fff}.DarkblockWidget-Main>.row-db>.col-left{float:left;width:50%}.DarkblockWidget-Main>.row-db>.col-left>.heading{color:#9a9a9a;font-size:13px;font-weight:700}.DarkblockWidget-Main>.row-db>.col-left>.content{font-size:16px;margin-top:8px;padding:0}.DarkblockWidget-Main>.row-db>.col-right{float:right;width:50%}.DarkblockWidget-Main>.row-db>.col-right>.heading{color:#9a9a9a;font-size:13px;font-weight:700}.DarkblockWidget-Main>.row-db>.col-right>.content{font-size:16px;margin-top:8px;padding:0}.DarkblockWidget-Main>.row-db>.col-full{float:left;width:100%}.DarkblockWidget-Main>.row-db>.col-full>.heading{color:#9a9a9a;font-size:13px;font-weight:700}.DarkblockWidget-Main>.row-db>.col-full>.content{font-size:16px;margin-top:8px;padding:0}.DarkblockWidget-Main>.row-db>.col-full>.content>.underline{text-decoration:underline}.DarkblockWidget-Main>.row-db>.col-full>.content>.underline .underline{color:#fff;text-decoration:underline}.DarkblockWidget-Main>.row-db>.col-full>.content>a{color:#fff}.DarkblockWidget-Main>.row-db:after{clear:both;content:" ";display:block;height:0}.DarkblockWidget-Main>.row-db:nth-child(n+2){margin-bottom:24px;margin-top:24px}.DarkblockWidget-Main>.main-embed-code{background-color:initial;border:1px solid #fff;border-radius:4px;color:#fff;font-size:14px;font-weight:600;height:32px;width:174px}.DarkblockWidget-Main>.main-embed-code>.svg-arrow{float:left;margin-top:1px}.DarkblockWidget-Main>.main-embed-code>.svg-arrow svg{margin-right:-8px}.DarkblockWidget-Main>.main-embed-code>.content{margin-left:-3px}.DarkblockWidget-Main>.meta-info{color:#9a9a9a;font-size:12px;margin-top:32px}.DarkblockWidget-Main>.meta-info>a{color:#9a9a9a}.DarkblockWidget-Main>.meta-info>svg{display:inline}',{insertAt:"top"});var jo={exports:{}};!function(e){
//! openseadragon 3.1.0
//! Built on 2022-06-07
//! Git commit: v3.1.0-1-c1c380f
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function t(e){return new t.Viewer(e)}var i,n;!function(e){e.version={versionStr:"3.1.0",major:parseInt("3",10),minor:parseInt("1",10),revision:parseInt("0",10)};var i,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):n[r.call(e)]||"object"},e.isPlainObject=function(i){if(!i||"object"!==t.type(i)||i.nodeType||e.isWindow(i))return!1;if(i.constructor&&!o.call(i,"constructor")&&!o.call(i.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in i)n=r;return void 0===n||o.call(i,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(i=document.createElement("canvas"),!(!e.isFunction(i.getContext)||!i.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),e.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var i={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch(e){t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),i=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(i,1)/n}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()}(t),function(e){e.extend=function(){var e,i,n,r,o,a,s=arguments[0]||{},l=arguments.length,c=!1,u=1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||t.isFunction(s)||(s={}),l===u&&(s=this,--u);u<l;u++)if(null!==(e=arguments[u])||void 0!==e)for(i in e)n=s[i],s!==(r=e[i])&&(c&&r&&(t.isPlainObject(r)||(o=t.isArray(r)))?(o?(o=!1,a=n&&t.isArray(n)?n:[]):a=n&&t.isPlainObject(n)?n:{},s[i]=t.extend(c,a,r)):void 0!==r&&(s[i]=r));return s},e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var i=arguments;return void 0===i&&(i=[]),t.apply(e,i)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var i,n,r=new e.Point;for(n=o(t=e.getElement(t),i="fixed"===e.getElementStyle(t).position);n;)r.x+=t.offsetLeft,r.y+=t.offsetTop,i&&(r=r.plus(e.getPageScroll())),n=o(t=n,i="fixed"===e.getElementStyle(t).position);return r},getElementOffset:function(t){var i,n,r=(t=e.getElement(t))&&t.ownerDocument,o={top:0,left:0};return r?(i=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=r===r.window?r:9===r.nodeType&&(r.defaultView||r.parentWindow),new e.Point(o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0),o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=e.getElement(t)).currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var i={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==i[t])return i[t];var n=document.createElement("div").style,r=null;if(void 0!==n[t])r=t;else for(var o=["Webkit","Moz","MS","O","webkit","moz","ms","o"],a=e.capitalizeFirstLetter(t),s=0;s<o.length;s++){var l=o[s]+a;if(void 0!==n[l]){r=l;break}}return i[t]=r,r},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;return i<0&&(i+=t),i},pointInElement:function(t,i){t=e.getElement(t);var n=e.getElementOffset(t),r=e.getElementSize(t);return i.x>=n.x&&i.x<n.x+r.x&&i.y<n.y+r.y&&i.y>=n.y},getMousePosition:function(t){if("number"==typeof t.pageX)e.getMousePosition=function(t){var i=new e.Point;return i.x=t.pageX,i.y=t.pageY,i};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var i=new e.Point;return i.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,i}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},i=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(i.scrollLeft||i.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var i=e.getPageScroll();if(i.x===t.x&&i.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=e.getPageScroll();if(n.x!==i.x&&n.y!==i.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(n=e.getPageScroll()).x!==i.x&&n.y!==i.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},i=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!i.clientWidth&&!i.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var i=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(i[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(i[1].style,{display:"table-row"}),e.extend(i[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),i[0].appendChild(i[1]),i[1].appendChild(i[2]),i[2].appendChild(t),i[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;return i.background="transparent none",i.border="none",i.margin="0px",i.padding="0px",i.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var i=e.makeNeutralElement("img");return i.src=t,i},setElementOpacity:function(t,i,n){var r;t=e.getElement(t),n&&!e.Browser.alpha&&(i=Math.round(i)),e.Browser.opacity?t.style.opacity=i<1?i:"":i<1?(r="alpha(opacity="+Math.round(100*i)+")",t.style.filter=r):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=e.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,i){void 0!==(t=e.getElement(t)).style&&void 0!==t.style.pointerEvents&&(t.style.pointerEvents=i)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,i){(t=e.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+i+" ")&&(t.className+=" "+i):t.className=i},indexOf:function(e,t,i){return Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var n,r,o=i||0;if(!e)throw new TypeError;if(0===(r=e.length)||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),n=o;n<r;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,i)},removeClass:function(t,i){var n,r,o=[];for(n=(t=e.getElement(t)).className.split(/\s+/),r=0;r<n.length;r++)n[r]&&n[r]!==i&&o.push(n[r]);t.className=o.join(" ")},normalizeEventListenerOptions:function(t){return void 0!==t?"boolean"==typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:void 0!==t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(t,i,n,r){r=e.normalizeEventListenerOptions(r),(t=e.getElement(t)).addEventListener(i,n,r)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,i,n){(t=e.getElement(t)).attachEvent("on"+i,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,i,n,r){r=e.normalizeEventListenerOptions(r),(t=e.getElement(t)).removeEventListener(i,n,r)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,i,n){(t=e.getElement(t)).detachEvent("on"+i,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){var i,n=[];for(i=2;i<arguments.length;i++)n.push(arguments[i]);return function(){var i,r=n.concat([]);for(i=0;i<arguments.length;i++)r.push(arguments[i]);return t.apply(e,r)}},getUrlParameter:function(e){return r[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(t){var i;try{i=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){i=!1}if(i)window.XMLHttpRequest?e.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");e.createAjaxRequest=function(){return new XMLHttpRequest}}return e.createAjaxRequest(t)},makeAjaxRequest:function(t,i,n){var r,o,a,s;e.isPlainObject(t)&&(i=t.success,n=t.error,r=t.withCredentials,o=t.headers,a=t.responseType||null,s=t.postData||null,t=t.url);var l=e.getUrlProtocol(t),c=e.createAjaxRequest("file:"===l);if(!e.isFunction(i))throw new Error("makeAjaxRequest requires a success callback");c.onreadystatechange=function(){4===c.readyState&&(c.onreadystatechange=function(){},c.status>=200&&c.status<300||0===c.status&&"http:"!==l&&"https:"!==l?i(c):e.isFunction(n)?n(c):e.console.error("AJAX request returned %d: %s",c.status,t))};var u=s?"POST":"GET";try{if(c.open(u,t,!0),a&&(c.responseType=a),o)for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&o[h]&&c.setRequestHeader(h,o[h]);r&&(c.withCredentials=!0),c.send(s)}catch(t){e.console.error("%s while making AJAX request: %s",t.name,t.message),c.onreadystatechange=function(){},e.isFunction(n)&&n(c,t)}return c},jsonp:function(t){var i,n=t.url,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=t.callbackName||"openseadragon"+e.now(),a=window[o],s="$1"+o+"$2",l=t.param||"callback",c=t.callback;n=n.replace(/(=)\?(&|$)|\?\?/i,s),n+=(/\?/.test(n)?"&":"?")+l+"="+o,window[o]=function(t){if(a)window[o]=a;else try{delete window[o]}catch(e){}c&&e.isFunction(c)&&c(t)},i=document.createElement("script"),void 0===t.async&&!1===t.async||(i.async="async"),t.scriptCharset&&(i.charset=t.scriptCharset),i.src=n,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,r&&i.parentNode&&r.removeChild(i),i=void 0)},r.insertBefore(i,r.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)e.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");e.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return!!n[(e=e||"").toLowerCase()]},setImageFormatsSupported:function(t){e.extend(n,t)}});var i=function(e){};e.console=window.console||{log:i,debug:i,info:i,warn:i,error:i,assert:i},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var n={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},r={};function o(e,t){return t&&e!==document.body?document.body:e.offsetParent}!function(){var t=navigator.appVersion,i=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(i.substring(i.indexOf("MSIE")+5,i.indexOf(";",i.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(i.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(i.substring(i.indexOf("Edge")+5))):i.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(i.substring(i.indexOf("Edg")+4))):i.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(i.substring(i.indexOf("Firefox")+8))):i.indexOf("Safari")>=0?(e.Browser.vendor=i.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(i.substring(i.substring(0,i.indexOf("Safari")).lastIndexOf("/")+1,i.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(t)}var n,o,a,s=window.location.search.substring(1).split("&");for(a=0;a<s.length;a++)if((o=(n=s[a]).indexOf("="))>0){var l=n.substring(0,o),c=n.substring(o+1);try{r[l]=decodeURIComponent(c)}catch(t){e.console.error("Ignoring malformed URL parameter: %s=%s",l,c)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")}(),function(t){var i=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(i&&n)e.requestAnimationFrame=function(){return i.apply(t,arguments)},e.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var r,o=[],a=[],s=0;e.requestAnimationFrame=function(t){return o.push([++s,t]),r||(r=setInterval((function(){if(o.length){var t=e.now(),i=a;for(a=o,o=i;a.length;)a.shift()[1](t)}else clearInterval(r),r=void 0}),20)),s},e.cancelAnimationFrame=function(e){var t,i;for(t=0,i=o.length;t<i;t+=1)if(o[t][0]===e)return void o.splice(t,1);for(t=0,i=a.length;t<i;t+=1)if(a[t][0]===e)return void a.splice(t,1)}}}(window)}(t),function(t,i){e.exports?e.exports=i():t.OpenSeadragon=i()}(hi,(function(){return t})),i=t,n={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.fullscreenElement},n.requestFullScreen=function(e){return e.requestFullscreen()},n.exitFullScreen=function(){document.exitFullscreen()},n.fullScreenEventName="fullscreenchange",n.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.msFullscreenElement},n.requestFullScreen=function(e){return e.msRequestFullscreen()},n.exitFullScreen=function(){document.msExitFullscreen()},n.fullScreenEventName="MSFullscreenChange",n.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitFullscreenElement},n.requestFullScreen=function(e){return e.webkitRequestFullscreen()},n.exitFullScreen=function(){document.webkitExitFullscreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},n.requestFullScreen=function(e){return e.webkitRequestFullScreen()},n.exitFullScreen=function(){document.webkitCancelFullScreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.mozFullScreenElement},n.requestFullScreen=function(e){return e.mozRequestFullScreen()},n.exitFullScreen=function(){document.mozCancelFullScreen()},n.fullScreenEventName="mozfullscreenchange",n.fullScreenErrorEventName="mozfullscreenerror"),n.isFullScreen=function(){return null!==n.getFullScreenElement()},n.cancelFullScreen=function(){i.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),n.exitFullScreen()},i.extend(i,n),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,i,n){var r=this;n=n||1;var o=0,a=function(i){++o===n&&r.removeHandler(e,a),t(i)};this.addHandler(e,a,i)},addHandler:function(t,i,n){var r=this.events[t];r||(this.events[t]=r=[]),i&&e.isFunction(i)&&(r[r.length]={handler:i,userData:n||null})},removeHandler:function(t,i){var n,r=this.events[t],o=[];if(r&&e.isArray(r)){for(n=0;n<r.length;n++)r[n].handler!==i&&o.push(r[n]);this.events[t]=o}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,i){var n,r=t.length;for(n=0;n<r;n++)t[n]&&(i.eventSource=e,i.userData=t[n].userData,t[n].handler(i))}):null},raiseEvent:function(e,t){var i=this.getHandler(e);i&&(t||(t={}),i(this,t))}}}(t),function(e){var t={};e.MouseTracker=function(i){var n=arguments;e.isPlainObject(i)||(i={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.preProcessEventHandler=i.preProcessEventHandler||null,this.contextMenuHandler=i.contextMenuHandler||null,this.enterHandler=i.enterHandler||null,this.leaveHandler=i.leaveHandler||null,this.exitHandler=i.exitHandler||null,this.overHandler=i.overHandler||null,this.outHandler=i.outHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var r=this;t[this.hash]={click:function(e){w(r,e)},dblclick:function(e){E(r,e)},keydown:function(e){C(r,e)},keyup:function(e){I(r,e)},keypress:function(e){B(r,e)},focus:function(e){x(r,e)},blur:function(e){k(r,e)},contextmenu:function(e){Q(r,e)},wheel:function(e){_(r,e)},mousewheel:function(e){S(r,e)},DOMMouseScroll:function(e){S(r,e)},MozMousePixelScroll:function(e){S(r,e)},losecapture:function(e){P(r,e)},mouseenter:function(e){H(r,e)},mouseleave:function(e){j(r,e)},mouseover:function(e){V(r,e)},mouseout:function(e){W(r,e)},mousedown:function(e){U(r,e)},mouseup:function(e){q(r,e)},mousemove:function(e){K(r,e)},touchstart:function(e){O(r,e)},touchend:function(e){D(r,e)},touchmove:function(e){N(r,e)},touchcancel:function(e){R(r,e)},gesturestart:function(e){z(r,e)},gesturechange:function(e){L(r,e)},gotpointercapture:function(e){M(r,e)},lostpointercapture:function(e){F(r,e)},pointerenter:function(e){H(r,e)},pointerleave:function(e){j(r,e)},pointerover:function(e){V(r,e)},pointerout:function(e){W(r,e)},pointerdown:function(e){U(r,e)},pointerup:function(e){q(r,e)},pointermove:function(e){K(r,e)},pointercancel:function(e){J(r,e)},pointerupcaptured:function(e){X(r,e)},pointermovecaptured:function(e){G(r,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),i.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){h(this),this.element=null,t[this.hash]=null,delete t[this.hash]},isTracking:function(){return t[this.hash].tracking},setTracking:function(i){return i?function(i){var n,r,o=t[i.hash];if(!o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.addEvent(i.element,n,o[n],n===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});u(i),o.tracking=!0}}(this):h(this),this},getActivePointersListByType:function(i){var n,r,o=t[this.hash],a=o.activePointersLists.length;for(n=0;n<a;n++)if(o.activePointersLists[n].type===i)return o.activePointersLists[n];return r=new e.MouseTracker.GesturePointList(i),o.activePointersLists.push(r),r},getActivePointerCount:function(){var e,i=t[this.hash],n=i.activePointersLists.length,r=0;for(e=0;e<n;e++)r+=i.activePointersLists[e].getLength();return r},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var i,n,r,o,a,s,l=function(){try{return window.self!==window.top}catch(e){return!0}}();function c(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}function u(e){var i,n,r,o,a,s=t[e.hash],l=s.activePointersLists.length;for(i=0;i<l;i++)if((r=s.activePointersLists[i]).getLength()>0){for(a=[],o=r.asArray(),n=0;n<o.length;n++)a.push(o[n]);for(n=0;n<a.length;n++)ee(e,r,a[n])}for(i=0;i<l;i++)s.activePointersLists.pop();s.sentDragEvent=!1}function h(i){var n,r,o=t[i.hash];if(o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.removeEvent(i.element,n,o[n],!1);u(i),o.tracking=!1}}function d(e,i){var n=t[e.hash];if("pointerevent"===i)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("mouse"===i)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("touch"===i)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function p(t,i){var n,r;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(!(r=t.getActivePointersListByType(i.type).getById(i.id))||!r.captured)return;try{t.element.releasePointerCapture(i.id)}catch(e){}}else t.element.releaseCapture();else n=d(t,e.MouseTracker.havePointerEvents?"pointerevent":i.type),l&&c(window.top)&&e.removeEvent(window.top,n.upName,n.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,n.moveName,n.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,n.upName,n.upHandler,!0);ie(t,i,!1)}function g(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function f(t){return e.MouseTracker.havePointerEvents?t.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function A(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function m(t){return e.getMousePosition(t)}function v(e,t){return y(m(e),t)}function y(t,i){var n=e.getElementOffset(i);return t.minus(n)}function b(t,i){return new e.Point((t.x+i.x)/2,(t.y+i.y)/2)}function w(t,i){var n={originalEvent:i,eventType:"click",pointerType:"mouse",isEmulated:!1};te(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i)}function E(t,i){var n={originalEvent:i,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};te(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i)}function C(t,i){var n=null,r={originalEvent:i,eventType:"keydown",pointerType:"",isEmulated:!1};te(t,r),!t.keyDownHandler||r.preventGesture||r.defaultPrevented||(n={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:r.preventDefault||r.defaultPrevented,userData:t.userData},t.keyDownHandler(n)),(n&&n.preventDefault||r.preventDefault&&!r.defaultPrevented)&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function I(t,i){var n=null,r={originalEvent:i,eventType:"keyup",pointerType:"",isEmulated:!1};te(t,r),!t.keyUpHandler||r.preventGesture||r.defaultPrevented||(n={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:r.preventDefault||r.defaultPrevented,userData:t.userData},t.keyUpHandler(n)),(n&&n.preventDefault||r.preventDefault&&!r.defaultPrevented)&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function B(t,i){var n=null,r={originalEvent:i,eventType:"keypress",pointerType:"",isEmulated:!1};te(t,r),!t.keyHandler||r.preventGesture||r.defaultPrevented||(n={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:r.preventDefault||r.defaultPrevented,userData:t.userData},t.keyHandler(n)),(n&&n.preventDefault||r.preventDefault&&!r.defaultPrevented)&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function x(e,t){var i={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};te(e,i),e.focusHandler&&!i.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}function k(e,t){var i={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};te(e,i),e.blurHandler&&!i.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}function Q(t,i){var n=null,r={originalEvent:i,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};te(t,r),!t.contextMenuHandler||r.preventGesture||r.defaultPrevented||(n={eventSource:t,position:y(m(i),t.element),originalEvent:r.originalEvent,preventDefault:r.preventDefault||r.defaultPrevented,userData:t.userData},t.contextMenuHandler(n)),(n&&n.preventDefault||r.preventDefault&&!r.defaultPrevented)&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function _(e,t){T(e,t,t)}function S(t,i){var n={target:i.target||i.srcElement,type:"wheel",shiftKey:i.shiftKey||!1,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX?i.pageX:i.clientX,pageY:i.pageY?i.pageY:i.clientY,deltaMode:"MozMousePixelScroll"===i.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?n.deltaY=-i.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=i.detail,T(t,n,i)}function T(t,i,n){var r,o,a=null;r=i.deltaY<0?1:-1,te(t,o={originalEvent:i,eventType:"wheel",pointerType:"mouse",isEmulated:i!==n}),!t.scrollHandler||o.preventGesture||o.defaultPrevented||(a={eventSource:t,pointerType:"mouse",position:v(i,t.element),scroll:r,shift:i.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefault:o.preventDefault||o.defaultPrevented,userData:t.userData},t.scrollHandler(a)),o.stopPropagation&&e.stopEvent(n),(a&&a.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(n)}function P(t,i){var n={id:e.MouseTracker.mousePointerId,type:"mouse"},r={originalEvent:i,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};te(t,r),i.target===t.element&&ie(t,n,!1),r.stopPropagation&&e.stopEvent(i)}function O(t,i){var n,r,o,a=i.changedTouches.length,s=t.getActivePointersListByType("touch");n=e.now(),s.getLength()>i.touches.length-a&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var l={originalEvent:i,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(te(t,l),r=0;r<a;r++)ne(t,l,o={id:i.changedTouches[r].identifier,type:"touch",isPrimary:0===s.getLength(),currentPos:m(i.changedTouches[r]),currentTime:n}),oe(t,l,o,0),ie(t,o,!0);l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(i),l.stopPropagation&&e.stopEvent(i)}function D(t,i){var n,r,o,a=i.changedTouches.length;n=e.now();var s={originalEvent:i,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(te(t,s),r=0;r<a;r++)ae(t,s,o={id:i.changedTouches[r].identifier,type:"touch",currentPos:m(i.changedTouches[r]),currentTime:n},0),ie(t,o,!1),re(t,s,o);s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(i),s.stopPropagation&&e.stopEvent(i)}function N(t,i){var n,r,o=i.changedTouches.length;n=e.now();var a={originalEvent:i,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(te(t,a),r=0;r<o;r++)se(t,a,{id:i.changedTouches[r].identifier,type:"touch",currentPos:m(i.changedTouches[r]),currentTime:n});a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(i),a.stopPropagation&&e.stopEvent(i)}function R(t,i){var n,r=i.changedTouches.length,o={originalEvent:i,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(te(t,o),n=0;n<r;n++)le(t,o,{id:i.changedTouches[n].identifier,type:"touch"});o.stopPropagation&&e.stopEvent(i)}function z(t,i){return e.eventIsCanceled(i)||i.preventDefault(),!1}function L(t,i){return e.eventIsCanceled(i)||i.preventDefault(),!1}function M(t,i){var n={originalEvent:i,eventType:"gotpointercapture",pointerType:f(i),isEmulated:!1};te(t,n),i.target===t.element&&ie(t,{id:i.pointerId,type:f(i)},!0),n.stopPropagation&&e.stopEvent(i)}function F(t,i){var n={originalEvent:i,eventType:"lostpointercapture",pointerType:f(i),isEmulated:!1};te(t,n),i.target===t.element&&ie(t,{id:i.pointerId,type:f(i)},!1),n.stopPropagation&&e.stopEvent(i)}function H(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r={originalEvent:i,eventType:"pointerenter",pointerType:n.type,isEmulated:!1};te(t,r),ne(t,r,n)}function j(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r={originalEvent:i,eventType:"pointerleave",pointerType:n.type,isEmulated:!1};te(t,r),re(t,r,n)}function V(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r={originalEvent:i,eventType:"pointerover",pointerType:n.type,isEmulated:!1};te(t,r),function(e,t,i){var n,r;(r=(n=e.getActivePointersListByType(i.type)).getById(i.id))?i=r:(i.captured=!1,i.insideElementPressed=!1),e.overHandler&&e.overHandler({eventSource:e,pointerType:i.type,position:y(i.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}(t,r,n),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function W(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r={originalEvent:i,eventType:"pointerout",pointerType:n.type,isEmulated:!1};te(t,r),function(e,t,i){var n,r;(r=(n=e.getActivePointersListByType(i.type)).getById(i.id))?i=r:(i.captured=!1,i.insideElementPressed=!1),e.outHandler&&e.outHandler({eventSource:e,pointerType:i.type,position:i.currentPos&&y(i.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}(t,r,n),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function U(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r=e.MouseTracker.havePointerEvents&&"touch"===n.type&&e.Browser.vendor!==e.BROWSERS.IE,o={originalEvent:i,eventType:"pointerdown",pointerType:n.type,isEmulated:!1};te(t,o),oe(t,o,n,i.button),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(i),o.stopPropagation&&e.stopEvent(i),o.shouldCapture&&(r?ie(t,n,!0):function(t,i){var n;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(i.id)}catch(t){return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else n=d(t,e.MouseTracker.havePointerEvents?"pointerevent":i.type),l&&c(window.top)&&e.addEvent(window.top,n.upName,n.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,n.upName,n.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,n.moveName,n.moveHandler,!0);ie(t,i,!0)}(t,n))}function q(e,t){Y(e,t)}function X(t,i){t.getActivePointersListByType(f(i)).getById(i.pointerId)&&Y(t,i),e.stopEvent(i)}function Y(t,i){var n,r={originalEvent:i,eventType:"pointerup",pointerType:(n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()}).type,isEmulated:!1};te(t,r),ae(t,r,n,i.button),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i),r.shouldReleaseCapture&&(i.target===t.element?p(t,n):ie(t,n,!1))}function K(e,t){Z(e,t)}function G(t,i){t.getActivePointersListByType(f(i)).getById(i.pointerId)&&Z(t,i),e.stopEvent(i)}function Z(t,i){var n={id:g(i),type:f(i),isPrimary:A(i),currentPos:m(i),currentTime:e.now()},r={originalEvent:i,eventType:"pointermove",pointerType:n.type,isEmulated:!1};te(t,r),se(t,r,n),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i)}function J(t,i){var n={id:i.pointerId,type:f(i)},r={originalEvent:i,eventType:"pointercancel",pointerType:n.type,isEmulated:!1};te(t,r),le(t,r,n),r.stopPropagation&&e.stopEvent(i)}function $(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function ee(t,i,n){var r,o=i.getById(n.id);return o?(o.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),p(t,o)),i.removeContact(),r=i.removeById(n.id)):r=i.getLength(),r}function te(t,i){i.eventSource=t,i.eventPhase=i.originalEvent&&void 0!==i.originalEvent.eventPhase?i.originalEvent.eventPhase:0,i.defaultPrevented=e.eventIsCanceled(i.originalEvent),i.shouldCapture=!1,i.shouldReleaseCapture=!1,i.userData=t.userData,function(e,t){switch(t.eventType){case"pointermove":case"pointerdown":case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1}}(t,i),t.preProcessEventHandler&&t.preProcessEventHandler(i)}function ie(t,i,n){var r=t.getActivePointersListByType(i.type),o=r.getById(i.id);o?n&&!o.captured?(o.captured=!0,r.captureCount++):!n&&o.captured&&(o.captured=!1,r.captureCount--,r.captureCount<0&&(r.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function ne(e,t,i){var n,r=e.getActivePointersListByType(i.type);(n=r.getById(i.id))?(n.insideElement=!0,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=i.currentPos,n.currentTime=i.currentTime,i=n):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,$(r,i)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:i.type,position:y(i.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}function re(e,t,i){var n,r,o=e.getActivePointersListByType(i.type);(n=o.getById(i.id))?(n.captured?(n.insideElement=!1,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=i.currentPos,n.currentTime=i.currentTime):ee(e,o,n),i=n):(i.captured=!1,i.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(r={eventSource:e,pointerType:i.type,position:i.currentPos&&y(i.currentPos,e.element),buttons:o.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(r),e.exitHandler&&e.exitHandler(r))}function oe(i,n,r,o){var a,s=t[i.hash],l=i.getActivePointersListByType(r.type);if(void 0!==n.originalEvent.buttons?l.buttons=n.originalEvent.buttons:0===o?l.buttons|=1:1===o?l.buttons|=4:2===o?l.buttons|=2:3===o?l.buttons|=8:4===o?l.buttons|=16:5===o&&(l.buttons|=32),0!==o)return n.shouldCapture=!1,n.shouldReleaseCapture=!1,void(!i.nonPrimaryPressHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,i.nonPrimaryPressHandler({eventSource:i,pointerType:r.type,position:y(r.currentPos,i.element),button:o,buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:n.originalEvent,userData:i.userData})));(a=l.getById(r.id))?(a.insideElementPressed=!0,a.insideElement=!0,a.originalTarget=n.originalEvent.target,a.contactPos=r.currentPos,a.contactTime=r.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=r.currentPos,a.currentTime=r.currentTime,r=a):(r.captured=!1,r.insideElementPressed=!0,r.insideElement=!0,r.originalTarget=n.originalEvent.target,$(l,r)),l.addContact(),n.preventGesture||n.defaultPrevented?(n.shouldCapture=!1,n.shouldReleaseCapture=!1):(n.shouldCapture=!0,n.shouldReleaseCapture=!1,n.preventDefault=!0,(i.dragHandler||i.dragEndHandler||i.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(i,r),1===l.contacts?i.pressHandler&&!n.preventGesture&&i.pressHandler({eventSource:i,pointerType:r.type,position:y(r.contactPos,i.element),buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:n.originalEvent,userData:i.userData}):2===l.contacts&&i.pinchHandler&&"touch"===r.type&&(s.pinchGPoints=l.asArray(),s.lastPinchDist=s.currentPinchDist=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos),s.lastPinchCenter=s.currentPinchCenter=b(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos)))}function ae(i,n,r,o){var a,s,l,c,u=t[i.hash],h=i.getActivePointersListByType(r.type),d=!1;if(void 0!==n.originalEvent.buttons?h.buttons=n.originalEvent.buttons:0===o?h.buttons^=-2:1===o?h.buttons^=-5:2===o?h.buttons^=-3:3===o?h.buttons^=-9:4===o?h.buttons^=-17:5===o&&(h.buttons^=-33),n.shouldCapture=!1,0!==o)return n.shouldReleaseCapture=!1,void(!i.nonPrimaryReleaseHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,i.nonPrimaryReleaseHandler({eventSource:i,pointerType:r.type,position:y(r.currentPos,i.element),button:o,buttons:h.buttons,isTouchEvent:"touch"===r.type,originalEvent:n.originalEvent,userData:i.userData})));(l=h.getById(r.id))?(h.removeContact(),l.captured&&(d=!0),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=r.currentPos,l.currentTime=r.currentTime,l.insideElement||ee(i,h,l),a=l.currentPos,s=l.currentTime):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,$(h,r),l=r),n.preventGesture||n.defaultPrevented||(d?(n.shouldReleaseCapture=!0,n.preventDefault=!0,(i.dragHandler||i.dragEndHandler||i.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(i,l),0===h.contacts?(i.releaseHandler&&a&&i.releaseHandler({eventSource:i,pointerType:l.type,position:y(a,i.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:i.userData}),i.dragEndHandler&&u.sentDragEvent&&i.dragEndHandler({eventSource:i,pointerType:l.type,position:y(l.currentPos,i.element),speed:l.speed,direction:l.direction,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:i.userData}),u.sentDragEvent=!1,(i.clickHandler||i.dblClickHandler)&&l.insideElement&&(c=s-l.contactTime<=i.clickTimeThreshold&&l.contactPos.distanceTo(a)<=i.clickDistThreshold,i.clickHandler&&i.clickHandler({eventSource:i,pointerType:l.type,position:y(l.currentPos,i.element),quick:c,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,originalTarget:l.originalTarget,userData:i.userData}),i.dblClickHandler&&c&&(h.clicks++,1===h.clicks?(u.lastClickPos=a,u.dblClickTimeOut=setTimeout((function(){h.clicks=0}),i.dblClickTimeThreshold)):2===h.clicks&&(clearTimeout(u.dblClickTimeOut),h.clicks=0,u.lastClickPos.distanceTo(a)<=i.dblClickDistThreshold&&i.dblClickHandler({eventSource:i,pointerType:l.type,position:y(l.currentPos,i.element),shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:i.userData}),u.lastClickPos=null)))):2===h.contacts&&i.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=b(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):(n.shouldReleaseCapture=!1,i.releaseHandler&&a&&(i.releaseHandler({eventSource:i,pointerType:l.type,position:y(a,i.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:i.userData}),n.preventDefault=!0)))}function se(e,i,n){var r,o,a,s=t[e.hash],l=e.getActivePointersListByType(n.type);void 0!==i.originalEvent.buttons&&(l.buttons=i.originalEvent.buttons),(r=l.getById(n.id))&&(r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=n.currentPos,r.currentTime=n.currentTime,i.shouldCapture=!1,i.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===n.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){!function(e,t,i){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:i,position:v(t,e.element),buttons:e.getActivePointersListByType(i).buttons,isTouchEvent:"touch"===i,originalEvent:t,userData:e.userData})}(e,i.originalEvent,n.type)}),e.stopDelay)),0===l.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:n.type,position:y(n.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===n.type,originalEvent:i.originalEvent,userData:e.userData}):1===l.contacts?(e.moveHandler&&(r=l.asArray()[0],e.moveHandler({eventSource:e,pointerType:r.type,position:y(r.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:i.originalEvent,userData:e.userData})),!e.dragHandler||i.preventGesture||i.defaultPrevented||(a=(r=l.asArray()[0]).currentPos.minus(r.lastPos),e.dragHandler({eventSource:e,pointerType:r.type,position:y(r.currentPos,e.element),buttons:l.buttons,delta:a,speed:r.speed,direction:r.direction,shift:i.originalEvent.shiftKey,isTouchEvent:"touch"===r.type,originalEvent:i.originalEvent,userData:e.userData}),i.preventDefault=!0,s.sentDragEvent=!0)):2===l.contacts&&(e.moveHandler&&(o=l.asArray(),e.moveHandler({eventSource:e,pointerType:o[0].type,position:y(b(o[0].currentPos,o[1].currentPos),e.element),buttons:l.buttons,isTouchEvent:"touch"===o[0].type,originalEvent:i.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==n.type||i.preventGesture||i.defaultPrevented||(a=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos))!==s.currentPinchDist&&(s.lastPinchDist=s.currentPinchDist,s.currentPinchDist=a,s.lastPinchCenter=s.currentPinchCenter,s.currentPinchCenter=b(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:s.pinchGPoints,lastCenter:y(s.lastPinchCenter,e.element),center:y(s.currentPinchCenter,e.element),lastDistance:s.lastPinchDist,distance:s.currentPinchDist,shift:i.originalEvent.shiftKey,originalEvent:i.originalEvent,userData:e.userData}),i.preventDefault=!0)))}function le(e,t,i){var n,r=e.getActivePointersListByType(i.type);(n=r.getById(i.id))&&ee(e,r,n)}e.MouseTracker.gesturePointVelocityTracker=(i=[],n=0,r=0,o=function(e,t){return e.hash.toString()+t.type+t.id.toString()},a=function(){var t,n,o,a,s,l,c=i.length,u=e.now();for(a=u-r,r=u,t=0;t<c;t++)(o=(n=i[t]).gPoint).direction=Math.atan2(o.currentPos.y-n.lastPos.y,o.currentPos.x-n.lastPos.x),s=n.lastPos.distanceTo(o.currentPos),n.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed},{addPoint:function(t,s){var l=o(t,s);i.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===i.length&&(r=e.now(),n=window.setInterval(a,50))},removePoint:function(e,t){var r,a=o(e,t),s=i.length;for(r=0;r<s;r++)if(i[r].guid===a){i.splice(r,1),0==--s&&window.clearInterval(n);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=(s=document.createElement("div"),e.isFunction(s.setPointerCapture)&&e.isFunction(s.releasePointerCapture)),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(t),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,i,n){var r=t.parentNode;"number"==typeof i&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),i={anchor:i}),i.attachToViewer=void 0===i.attachToViewer||i.attachToViewer,this.autoFade=void 0===i.autoFade||i.autoFade,this.element=t,this.anchor=i.anchor,this.container=n,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof i.top?i.top+"px":i.top,this.wrapper.style.left="number"==typeof i.left?i.left+"px":i.left,this.wrapper.style.height="number"==typeof i.height?i.height+"px":i.height,this.wrapper.style.width="number"==typeof i.width?i.width+"px":i.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),i.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(t),function(e){function t(e,t){var i,n=e.controls;for(i=n.length-1;i>=0;i--)if(n[i].element===t)return i;return-1}e.ControlDock=function(t){var i,n,r=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),n=0;n<r.length;n++)i=r[n],this.controls[i]=e.makeNeutralElement("div"),this.controls[i].style.position="absolute",i.match("left")&&(this.controls[i].style.left="0px"),i.match("right")&&(this.controls[i].style.right="0px"),i.match("top")&&(this.controls[i].style.top="0px"),i.match("bottom")&&(this.controls[i].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(i,n){var r=null;if(!(t(this,i=e.getElement(i))>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:r=this.controls.topright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:r=this.controls.topleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:r=this.container,i.style.margin="0px",i.style.padding="0px"}this.controls.push(new e.Control(i,n,r)),i.style.display="inline-block"}},removeControl:function(i){var n=t(this,i=e.getElement(i));return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(t),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(t),function(e){var t={},i=1;function n(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function r(t,i){if(i instanceof e.Overlay)return i;var n=null;if(i.element)n=e.getElement(i.element);else{var r=i.id?i.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(n=e.getElement(i.id))||((n=document.createElement("a")).href="#/overlay/"+r),n.id=r,e.addClass(n,i.className?i.className:"openseadragon-overlay")}var o=i.location,a=i.width,s=i.height;if(!o){var l=i.x,c=i.y;if(void 0!==i.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(i.px,i.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new e.Point(l,c)}var h=i.placement;return h&&"string"===e.type(h)&&(h=e.Placement[i.placement.toUpperCase()]),new e.Overlay({element:n,location:o,placement:h,onDraw:i.onDraw,checkResize:i.checkResize,width:a,height:s,rotationMode:i.rotationMode})}function o(e,t){var i;for(i=e.length-1;i>=0;i--)if(e[i].element===t)return i;return-1}function a(t,i){return e.requestAnimationFrame((function(){i(t)}))}function s(t){e.requestAnimationFrame((function(){!function(t){var i,n;if(t.controlsShouldFade){for(i=1-(e.now()-t.controlsFadeBeginTime)/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),n=t.controls.length-1;n>=0;n--)t.controls[n].autoFade&&t.controls[n].setOpacity(i);i>0&&s(t)}}(t)}))}function l(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){s(t)}),t.controlsFadeDelay))}function c(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function u(){c(this)}function h(){l(this)}function d(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function p(t){var i={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",i),i.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;default:t.preventDefault=!1}}function g(t){var i={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",i),i.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 119:case 87:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 115:case 83:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 97:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 100:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:t.preventDefault=!1}}function f(e){var t;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,originalTarget:e.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",i),!i.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function A(e){var t,i={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",i),!i.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function m(e){var t,i={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",i),(t=this.gestureSettingsByDeviceType(e.pointerType)).dragToPan&&!i.preventDefaultAction&&this.viewport){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var n=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=n.x,this.viewport.centerSpringY.target.value+=n.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=n.x,this.viewport.centerSpringY.target.value-=n.y,r.x!==o.x&&(e.delta.x=0),r.y!==o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function v(t){var i={tracker:t.eventSource,pointerType:t.pointerType,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",i),!i.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var r=0;this.panHorizontal&&(r=n.flickMomentum*t.speed*Math.cos(t.direction));var o=0;this.panVertical&&(o=n.flickMomentum*t.speed*Math.sin(t.direction));var a=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new e.Point(a.x-r,a.y-o));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}}function y(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function C(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function I(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function B(e){var t,i,n,r={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",r),this.viewport&&(!(t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom||r.preventDefaultPanAction&&r.preventDefaultZoomAction||(i=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!r.preventDefaultPanAction&&(n=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i),this.panHorizontal||(n.x=0),this.panVertical||(n.y=0),this.viewport.panBy(n,!0)),r.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,i,!0),this.viewport.applyConstraints()),t.pinchRotate&&!r.preventDefaultRotateAction)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-a)*(180/Math.PI))}}function x(t){var i,n,r,o;(o=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=o,i={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",i),!i.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(r=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(r,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=i.preventDefault):t.preventDefault=!0}function k(e){t[this.hash].mouseInside=!0,c(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function Q(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||l(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function _(e){!function(e){if(!e._opening&&t[e.hash]){if(e.autoResize){var i=n(e.container),r=t[e.hash].prevContainerSize;if(!i.equals(r)){var o=e.viewport;if(e.preserveImageSizeOnResize){var a=r.x/i.x,s=o.getZoom()*a,u=o.getCenter();o.resize(i,!1),o.zoomTo(s,null,!0),o.panTo(u,!0)}else{var h=o.getBounds();o.resize(i,!0),o.fitBoundsWithConstraints(h,!0)}t[e.hash].prevContainerSize=i,t[e.hash].forceRedraw=!0}}var d=e.viewport.update(),p=e.world.update()||d;d&&e.raiseEvent("viewport-change"),e.referenceStrip&&(p=e.referenceStrip.update(e.viewport)||p);var g=t[e.hash].animating;!g&&p&&(e.raiseEvent("animation-start"),c(e));var f=g&&!p;f&&(t[e.hash].animating=!1),(p||f||t[e.hash].forceRedraw||e.world.needsDraw())&&(function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,p&&e.raiseEvent("animation")),f&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||l(e)),t[e.hash].animating=p}}(e),e.isOpen()?e._updateRequestId=a(e,_):e._updateRequestId=!1}function S(e,t){return e?e+t:t}function T(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,D(this)}function P(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,D(this)}function O(){t[this.hash].zooming=!1}function D(t){e.requestAnimationFrame(e.delegate(t,N))}function N(){var i,n,r;t[this.hash].zooming&&this.viewport&&(n=(i=e.now())-t[this.hash].lastZoomTime,r=Math.pow(t[this.hash].zoomFactor,n/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=i,D(this))}function R(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function z(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function L(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function M(){this.viewport&&this.viewport.goHome()}function F(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function H(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+this.rotationIncrement,360):e.positiveModulo(t-this.rotationIncrement,360),this.viewport.setRotation(t)}}function j(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-this.rotationIncrement,360):e.positiveModulo(t+this.rotationIncrement,360),this.viewport.setRotation(t)}}function V(){this.viewport.toggleFlip()}e.Viewer=function(r){var o,s=arguments,c=this;if(e.isPlainObject(r)||(r={id:s[0],xmlPath:s.length>1?s[1]:void 0,prefixUrl:s.length>2?s[2]:void 0,controls:s.length>3?s[3]:void 0,overlays:s.length>4?s[4]:void 0}),r.config&&(e.extend(!0,r,r.config),delete r.config),e.extend(!0,this,{id:r.id,hash:r.hash||i++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,r),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var i=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(i)})),e.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,d),keyDownHandler:e.delegate(this,p),keyHandler:e.delegate(this,g),clickHandler:e.delegate(this,f),dblClickHandler:e.delegate(this,A),dragHandler:e.delegate(this,m),dragEndHandler:e.delegate(this,v),enterHandler:e.delegate(this,y),leaveHandler:e.delegate(this,b),pressHandler:e.delegate(this,w),releaseHandler:e.delegate(this,E),nonPrimaryPressHandler:e.delegate(this,C),nonPrimaryReleaseHandler:e.delegate(this,I),scrollHandler:e.delegate(this,x),pinchHandler:e.delegate(this,B)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,k),leaveHandler:e.delegate(this,Q)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=n(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=a(c,_))})),this.world.addHandler("remove-item",(function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){c.source=c.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame((function(){l(c)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,i){var n=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===i||isNaN(i)||(this.initialPage=i),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var o,a=t.length,s=0,l=0,c=function(){if(s+l===a)if(s){!n._firstOpen&&n.preserveViewport||(n.viewport.goHome(!0),n.viewport.update()),n._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),n.overlays&&!n.preserveOverlays)for(var i=0;i<n.overlays.length;i++)n.currentOverlays[i]=r(n,n.overlays[i]);n._drawOverlays(),n._opening=!1,n.raiseEvent("open",{source:e})}else n._opening=!1,n.raiseEvent("open-failed",o)},u=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var i=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var r=0;r<t.tileSource.overlays.length;r++)n.addOverlay(t.tileSource.overlays[r]);i&&i(e),c()};var r=t.error;t.error=function(e){l++,o||(o=e),r&&r(e),c()},n.addTiledImage(t)},h=0;h<t.length;h++)u(t[h]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?c(this):l(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(i){var n,r,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(i===this.isFullPage())return this;var c={fullPage:i,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(i){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.bodyDisplay=a.display,a.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,n=o.childNodes.length,r=0;r<n;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,k)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,a.display=this.bodyDisplay,o.removeChild(this.element),n=this.previousBody.length,r=0;r<n;r++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,h=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++u<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(h)};e.requestAnimationFrame(h),t[this.hash].fullPage=!1,e.delegate(this,Q)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:i}),this},setFullScreen:function(t){var i=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",n),n.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,r),e.removeEvent(document,e.fullScreenErrorEventName,r),i.setFullPage(!1),i.isFullPage()&&(i.element.style.width=i.fullPageStyleWidth,i.element.style.height=i.fullPageStyleHeight)),i.navigator&&i.viewport&&setTimeout((function(){i.navigator.update(i.viewport)})),i.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,r),e.addEvent(document,e.fullScreenErrorEventName,r),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var i=this;t.replace&&(t.replaceItem=i.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var n={options:t};function r(e){for(var r=0;r<i._loadQueue.length;r++)if(i._loadQueue[r]===n){i._loadQueue.splice(r,1);break}0===i._loadQueue.length&&o(n),i.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){i.collectionMode&&(i.world.arrange({immediately:e.options.collectionImmediately,rows:i.collectionRows,columns:i.collectionColumns,layout:i.collectionLayout,tileSize:i.collectionTileSize,tileMargin:i.collectionTileMargin}),i.world.setAutoRefigureSizes(!0))}function a(){for(var t,n,r;i._loadQueue.length&&(t=i._loadQueue[0]).tileSource;){if(i._loadQueue.splice(0,1),t.options.replace){var a=i.world.getIndexOfItem(t.options.replaceItem);-1!==a&&(t.options.index=a),i.world.removeItem(t.options.replaceItem)}n=new e.TiledImage({viewer:i,source:t.tileSource,viewport:i.viewport,drawer:i.drawer,tileCache:i.tileCache,imageLoader:i.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:i.springStiffness,animationTime:i.animationTime,minZoomImageRatio:i.minZoomImageRatio,wrapHorizontal:i.wrapHorizontal,wrapVertical:i.wrapVertical,immediateRender:i.immediateRender,blendTime:i.blendTime,alwaysBlend:i.alwaysBlend,minPixelRatio:i.minPixelRatio,smoothTileEdgesMinZoom:i.smoothTileEdgesMinZoom,iOSDevice:i.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:i.debugMode,subPixelRoundingForTransparency:i.subPixelRoundingForTransparency}),i.collectionMode&&i.world.setAutoRefigureSizes(!1),i.navigator&&(r=e.extend({},t.options,{replace:!1,originalTiledImage:n,tileSource:t.tileSource}),i.navigator.addTiledImage(r)),i.world.addItem(n,{index:t.options.index}),0===i._loadQueue.length&&o(t),1!==i.world.getItemCount()||i.preserveViewport||i.viewport.goHome(!0),t.options.success&&t.options.success({item:n})}}e.isArray(t.tileSource)?setTimeout((function(){r({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(n),function(t,i,n,r,o){var a=t;if("string"===e.type(i))if(i.match(/^\s*<.*>\s*$/))i=e.parseXml(i);else if(i.match(/^\s*[{[].*[}\]]\s*$/))try{var s=e.parseJSON(i);i=s}catch(e){}function l(e,t){e.ready?r(e):(e.addHandler("ready",(function(){r(e)})),e.addHandler("open-failed",(function(e){o({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(i))(i=new e.TileSource({url:i,crossOriginPolicy:void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:n.ajaxHeaders?n.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,useCanvas:t.useCanvas,success:function(e){r(e.tileSource)}})).addHandler("open-failed",(function(e){o(e)}));else if(e.isPlainObject(i)||i.nodeType)if(void 0!==i.crossOriginPolicy||void 0===n.crossOriginPolicy&&void 0===t.crossOriginPolicy||(i.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=t.ajaxWithCredentials),void 0===i.useCanvas&&(i.useCanvas=t.useCanvas),e.isFunction(i.getTileUrl)){var s=new e.TileSource(i);s.getTileUrl=i.getTileUrl,r(s)}else{var c=e.TileSource.determineType(a,i);if(!c)return void o({message:"Unable to load TileSource",source:i});var u=c.prototype.configure.apply(a,[i]);l(new c(u),i)}else l(i,i)}))}(this,t.tileSource,t,(function(e){n.tileSource=e,a()}),(function(e){e.options=t,r(e),a()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var i=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete i.url,this.addTiledImage(i)},addLayer:function(t){var i=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var n=e.extend({},t,{success:function(e){i.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){i.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(n),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,i){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,i)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,u),i=e.delegate(this,h),n=e.delegate(this,this.goToNextPage),r=e.delegate(this,this.goToPreviousPage),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:S(this.prefixUrl,o.previous.REST),srcGroup:S(this.prefixUrl,o.previous.GROUP),srcHover:S(this.prefixUrl,o.previous.HOVER),srcDown:S(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:t,onBlur:i}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:S(this.prefixUrl,o.next.REST),srcGroup:S(this.prefixUrl,o.next.GROUP),srcHover:S(this.prefixUrl,o.next.HOVER),srcDown:S(this.prefixUrl,o.next.DOWN),onRelease:n,onFocus:t,onBlur:i}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,T),i=e.delegate(this,O),n=e.delegate(this,R),r=e.delegate(this,P),o=e.delegate(this,z),a=e.delegate(this,M),s=e.delegate(this,F),l=e.delegate(this,H),c=e.delegate(this,j),d=e.delegate(this,V),p=e.delegate(this,u),g=e.delegate(this,h),f=this.navImages,A=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(m=!1),this.showZoomControl&&(A.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:S(this.prefixUrl,f.zoomIn.REST),srcGroup:S(this.prefixUrl,f.zoomIn.GROUP),srcHover:S(this.prefixUrl,f.zoomIn.HOVER),srcDown:S(this.prefixUrl,f.zoomIn.DOWN),onPress:t,onRelease:i,onClick:n,onEnter:t,onExit:i,onFocus:p,onBlur:g})),A.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:S(this.prefixUrl,f.zoomOut.REST),srcGroup:S(this.prefixUrl,f.zoomOut.GROUP),srcHover:S(this.prefixUrl,f.zoomOut.HOVER),srcDown:S(this.prefixUrl,f.zoomOut.DOWN),onPress:r,onRelease:i,onClick:o,onEnter:r,onExit:i,onFocus:p,onBlur:g}))),this.showHomeControl&&A.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:S(this.prefixUrl,f.home.REST),srcGroup:S(this.prefixUrl,f.home.GROUP),srcHover:S(this.prefixUrl,f.home.HOVER),srcDown:S(this.prefixUrl,f.home.DOWN),onRelease:a,onFocus:p,onBlur:g})),this.showFullPageControl&&A.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:S(this.prefixUrl,f.fullpage.REST),srcGroup:S(this.prefixUrl,f.fullpage.GROUP),srcHover:S(this.prefixUrl,f.fullpage.HOVER),srcDown:S(this.prefixUrl,f.fullpage.DOWN),onRelease:s,onFocus:p,onBlur:g})),this.showRotationControl&&(A.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:S(this.prefixUrl,f.rotateleft.REST),srcGroup:S(this.prefixUrl,f.rotateleft.GROUP),srcHover:S(this.prefixUrl,f.rotateleft.HOVER),srcDown:S(this.prefixUrl,f.rotateleft.DOWN),onRelease:l,onFocus:p,onBlur:g})),A.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:S(this.prefixUrl,f.rotateright.REST),srcGroup:S(this.prefixUrl,f.rotateright.GROUP),srcHover:S(this.prefixUrl,f.rotateright.HOVER),srcDown:S(this.prefixUrl,f.rotateright.DOWN),onRelease:c,onFocus:p,onBlur:g}))),this.showFlipControl&&A.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:S(this.prefixUrl,f.flip.REST),srcGroup:S(this.prefixUrl,f.flip.GROUP),srcHover:S(this.prefixUrl,f.flip.HOVER),srcDown:S(this.prefixUrl,f.flip.DOWN),onRelease:d,onFocus:p,onBlur:g})),m?(this.buttonGroup=new e.ButtonGroup({buttons:A,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,L)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=A),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,i,n,a){var s;if(s=e.isPlainObject(t)?t:{element:t,location:i,placement:n,onDraw:a},t=e.getElement(s.element),o(this.currentOverlays,t)>=0)return this;var l=r(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(i,n,r){var a;return i=e.getElement(i),(a=o(this.currentOverlays,i))>=0&&(this.currentOverlays[a].update(n,r),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:i,location:n,placement:r})),this},removeOverlay:function(i){var n;return i=e.getElement(i),(n=o(this.currentOverlays,i))>=0&&(this.currentOverlays[n].destroy(),this.currentOverlays.splice(n,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:i})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var i;return t=e.getElement(t),(i=o(this.currentOverlays,t))>=0?this.currentOverlays[i]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var i=e.makeNeutralElement("div");i.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(i),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,i=e.getCurrentPixelDensityRatio();t!==i&&(e.pixelDensityRatio=i,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}})}(t),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(i.x=this.viewer.viewport.getCenter(!0).x):i.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(i),this.viewer.viewport.applyConstraints()}}function i(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function n(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var s,l,c=a.viewer,u=this;function h(e){o(u.displayRegionContainer,e),o(u.displayRegion,-e),u.viewport.setRotation(e)}a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=c.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!==e.ControlAnchor.NONE&&function(e,t){e.margin="0px",e.border=t+"px solid "+a.borderColor,e.padding="0px",e.background=a.background,e.opacity=a.opacity,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),c.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!==e.ControlAnchor.NONE,a.width&&a.height?(this.setWidth(a.width),this.setHeight(a.height)):this._resizeWithViewer&&(s=e.getElementSize(c.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s,l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate&&(h(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",(function(e){h(e.degrees)}))),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,i),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,n),scrollHandler:e.delegate(this,r),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){u.viewport&&u.viewport.goHome(!0)})),c.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=u.world.getItemAt(e.previousIndex);u.world.setItemIndex(t,e.newIndex)}),1)})),c.world.addHandler("remove-item",(function(e){var t=e.item,i=u._getMatchingItem(t);i&&u.world.removeItem(i)})),this.update(c.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var i,n,r,o,a,s;if(i=e.getElementSize(this.viewer.element),this._resizeWithViewer&&i.x&&i.y&&!i.equals(this.oldViewerSize)&&(this.oldViewerSize=i,this.maintainSizeRatio||!this.elementArea?(n=i.x*this.sizeRatio,r=i.y*this.sizeRatio):(n=Math.sqrt(this.elementArea*(i.x/i.y)),r=this.elementArea/n),this.element.style.width=Math.round(n)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=n*r),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var i=this,n=t.originalTiledImage;delete t.original;var r=e.extend({},t,{success:function(e){var t=e.item;function r(){i._matchBounds(t,n)}t._originalForNavigator=n,i._matchBounds(t,n,!0),i._matchOpacity(t,n),i._matchCompositeOperation(t,n),n.addHandler("bounds-change",r),n.addHandler("clip-change",r),n.addHandler("opacity-change",(function(){i._matchOpacity(t,n)})),n.addHandler("composite-operation-change",(function(){i._matchCompositeOperation(t,n)}))}});return e.Viewer.prototype.addTiledImage.apply(this,[r])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,i=this.world.getItemCount(),n=0;n<i;n++)if((t=this.world.getItemAt(n))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,i){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),i),e.setWidth(n.width,i),e.setRotation(t.getRotation(),i),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(t),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(i){var n,r=i.split("."),o=null,a=arguments,s=t;for(n=0;n<r.length-1;n++)s=s[r[n]]||{};return"string"!=typeof(o=s[r[n]])&&(e.console.error("Untranslated source string:",i),o=""),o.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""}))},setString:function(e,i){var n,r=e.split("."),o=t;for(n=0;n<r.length-1;n++)o[r[n]]||(o[r[n]]={}),o=o[r[n]];o[r[n]]=i}})}(t),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,i){var n,r;if(i=i||new e.Point(0,0),t%90==0)switch(e.positiveModulo(t,360)){case 0:n=1,r=0;break;case 90:n=0,r=1;break;case 180:n=-1,r=0;break;case 270:n=0,r=-1}else{var o=t*Math.PI/180;n=Math.cos(o),r=Math.sin(o)}var a=n*(this.x-i.x)-r*(this.y-i.y)+i.x,s=r*(this.x-i.x)+n*(this.y-i.y)+i.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(t),function(e){e.TileSource=function(t,i,n,r,o,a){var s,l,c=this,u=arguments;if(s=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",(function(e){c.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var i=this.getLevelScale(t),n=Math.ceil(i*this.dimensions.x/this.getTileWidth(t)),r=Math.ceil(i*this.dimensions.y/this.getTileHeight(t));return new e.Point(n,r)},getPixelRatio:function(t){var i=this.dimensions.times(this.getLevelScale(t)),n=1/i.x*e.pixelDensityRatio,r=1/i.y*e.pixelDensityRatio;return new e.Point(n,r)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,i){var n=i.x>=0&&i.x<=1&&i.y>=0&&i.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(t),o=i.x*r,a=i.y*r,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));return i.x>=1&&(s=this.getNumTiles(t).x-1),i.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,i,n,r){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),s=this.getTileHeight(t),l=0===i?0:a*i-this.tileOverlap,c=0===n?0:s*n-this.tileOverlap,u=a+(0===i?1:2)*this.tileOverlap,h=s+(0===n?1:2)*this.tileOverlap,d=1/o.x;return u=Math.min(u,o.x-l),h=Math.min(h,o.y-c),r?new e.Rect(0,0,u,h):new e.Rect(l*d,c*d,u*d,h*d)},getImageInfo:function(t){var i,n,r,o,a,s,l,c=this;t&&(l=(s=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l));var u=null;if(this.splitHashDataForPost){var h=t.indexOf("#");-1!==h&&(u=t.substring(h+1),t=t.substr(0,h))}n=function(i){"string"==typeof i&&(i=e.parseXml(i));var n=e.TileSource.determineType(c,i,t);n?(void 0===(o=n.prototype.configure.apply(c,[i,t,u])).ajaxWithCredentials&&(o.ajaxWithCredentials=c.ajaxWithCredentials),r=new n(o),c.ready=!0,c.raiseEvent("ready",{tileSource:r})):c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(i=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:i,callback:n})):e.makeAjaxRequest({url:t,postData:u,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var i=function(t){var i,n,r=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw i=404===(o=t.status)?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,i));if(r.match(/\s*<.*/))try{n=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(r)}catch(e){n=t.responseText}else if(r.match(/\s*[{[].*/))try{n=e.parseJSON(r)}catch(e){n=r}else n=r;return n}(t);n(i)},error:function(i,n){var r;try{r="HTTP "+i.status+" attempting to load TileSource: "+t}catch(e){r=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource: "+t}e.console.error(r),c.raiseEvent("open-failed",{message:r,source:t,postData:u})}})},supports:function(e,t){return!1},configure:function(e,t,i){throw new Error("Method not implemented.")},getTileUrl:function(e,t,i){throw new Error("Method not implemented.")},getTilePostData:function(e,t,i){return null},getTileAjaxHeaders:function(e,t,i){return{}},getTileHashKey:function(e,t,i,n,r,o){return r?n+"+"+JSON.stringify(r):n},tileExists:function(e,t,i){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&i>=0&&t<n.x&&i<n.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(i,n,r){var o;for(o in t)if(o.match(/.+TileSource$/)&&e.isFunction(t[o])&&e.isFunction(t[o].prototype.supports)&&t[o].prototype.supports.call(i,n,r))return t[o];return e.console.error("No TileSource was able to open %s %s",r,n),null}}(t),function(e){function t(t,i){var n,r,o=i.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),h=parseInt(l.Height,10),d=parseInt(o.TileSize,10),p=parseInt(o.Overlap,10),g=[];for(r=0;r<c.length;r++)n=c[r].Rect,g.push(new e.DisplayRect(parseInt(n.X,10),parseInt(n.Y,10),parseInt(n.Width,10),parseInt(n.Height,10),parseInt(n.MinLevel,10),parseInt(n.MaxLevel,10)));return e.extend(!0,{width:u,height:h,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:g},i)}e.DziTileSource=function(t,i,n,r,o,a,s,l,c){var u,h,d,p;if(p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(d=(h=this.displayRects[u]).minLevel;d<=h.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(h);e.TileSource.apply(this,[p])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var i;return e.Image?i=e.Image.xmlns:e.documentElement&&("Image"!==e.documentElement.localName&&"Image"!==e.documentElement.tagName||(i=e.documentElement.namespaceURI)),-1!==(i=(i||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==i.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(i,n,r){var o;return o=e.isPlainObject(i)?t(0,i):function(i,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a,s,l,c=n.documentElement,u=c.localName||c.tagName,h=n.documentElement.namespaceURI,d=null,p=[];if("Image"===u)try{if(void 0===(s=c.getElementsByTagName("Size")[0])&&(s=c.getElementsByTagNameNS(h,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(r=c.getElementsByTagName("DisplayRect"))&&(r=c.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<r.length;l++)void 0===(a=(o=r[l]).getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(h,"Rect")[0]),p.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return p.length&&(d.Image.DisplayRect=p),t(0,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===u)throw new Error(e.getString("Errors.Dzc"));if("Error"===u){var g=c.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(g)}}throw new Error(e.getString("Errors.Dzi"))}(0,i),n&&!o.tilesUrl&&(o.tilesUrl=n.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==n.search(/\.(dzi|xml|js)\?/)?o.queryParams=n.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(e,t,i){return[this.tilesUrl,e,"/",t,"_",i,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,i){var n,r,o,a,s,l,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(!(e<(n=u[c]).minLevel||e>n.maxLevel)&&(r=this.getLevelScale(e),o=n.x*r,a=n.y*r,s=o+n.width*r,l=a+n.height*r,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=i&&i<l))return!0;return!1}})}(t),function(e){function i(e){var t=Array.isArray(e.profile)?e.profile[0]:e.profile,i=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(t),n=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(n=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(n=-1!==e.extraFeatures.indexOf("sizeByWh")),!i||n}function n(e){for(var t=[],i=0;i<e.sizes.length;i++)t.push({url:e["@id"]+"/full/"+e.sizes[i].width+","+(3===e.version?e.sizes[i].height:"")+"/0/default."+e.tileFormat,width:e.sizes[i].width,height:e.sizes[i].height});return t.sort((function(e,t){return e.width-t.width}))}function r(t,i,n){var o,a;if(3===t.nodeType&&n)(a=t.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),i[n]?(e.isArray(i[n])||(i[n]=[i[n]]),i[n].push(a)):i[n]=a;else if(1===t.nodeType)for(o=0;o<t.childNodes.length;o++)r(t.childNodes[o],i,t.nodeName)}e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=t.version,this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var r=0;r<this.tiles.length;r++)for(var o=0;o<this.tiles[r].scaleFactors.length;o++){var a=this.tiles[r].scaleFactors[o];this.scale_factors.push(a),t.tileSizePerScaleFactor[a]={width:this.tiles[r].width,height:this.tiles[r].height||this.tiles[r].width}}}else if(i(t)){for(var s=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=s&&c.push(l[u]);c.length>0?t.tileSize=Math.max.apply(null,c):t.tileSize=s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=n(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var h=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(h)*Math.LOG2E)}else t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!!(e.protocol&&"http://iiif.io/api/image"===e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===e["@context"]||"http://iiif.io/api/image/1/context.json"===e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"===e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"===e.documentElement.namespaceURI)},configure:function(i,n,o){if(e.isPlainObject(i)){if(i["@context"]){var a=i["@context"];if(Array.isArray(a))for(var s=0;s<a.length;s++)if("string"==typeof a[s]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(a[s])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===a[s])){a=a[s];break}switch(a){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":i.version=1;break;case"http://iiif.io/api/image/2/context.json":i.version=2;break;case"http://iiif.io/api/image/3/context.json":i.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=n.replace("/info.json",""),i.version=1;if(!i["@id"]&&i.id&&(i["@id"]=i.id),i.preferredFormats)for(var l=0;l<i.preferredFormats.length;l++)if(t.imageFormatSupported(i.preferredFormats[l])){i.tileFormat=i.preferredFormats[l];break}return i}var c=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var i=t.documentElement,n=null;if("info"===i.tagName)try{return r(i,n={}),n}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(i);return c["@context"]="http://iiif.io/api/image/1.0/context.json",c["@id"]=n.replace("/info.xml",""),c.version=1,c},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var i=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].width/this.levels[this.maxLevel].width),i}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,i){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,i)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var r,o,a,s,l,c,u,h,d,p,g,f,A,m=Math.pow(.5,this.maxLevel-e),v=Math.ceil(this.width*m),y=Math.ceil(this.height*m);return r=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(r/m),s=Math.ceil(o/m),A=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,v<r&&y<o?(p=2===this.version&&v===this.width?"full":3===this.version&&v===this.width&&y===this.height?"max":3===this.version?v+","+y:v+",",l="full"):(c=t*a,u=i*s,h=Math.min(a,this.width-c),d=Math.min(s,this.height-u),l=0===t&&0===i&&h===this.width&&d===this.height?"full":[c,u,h,d].join(","),g=Math.ceil(h*m),f=Math.ceil(d*m),p=2===this.version&&g===this.width?"full":3===this.version&&g===this.width&&f===this.height?"max":3===this.version?g+","+f:g+","),[this["@id"],l,p,"0",A].join("/")},__testonly__:{canBeTiled:i,constructLevels:n}})}(t),function(e){e.OsmTileSource=function(t,i,n,r,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+"/"+t+"/"+i+".png"}})}(t),function(e){e.TmsTileSource=function(t,i,n,r,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-i)+".png"}})}(t),function(e){e.ZoomifyTileSource=function(e){void 0===e.tileSize&&(e.tileSize=256),void 0===e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var i={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(i.x,10)>e.tileSize||parseInt(i.y,10)>e.tileSize;)i.x=Math.floor(i.x/2),i.y=Math.floor(i.y/2),e.imageSizes.push({x:i.x,y:i.y}),e.gridSize.push(this._getGridSize(i.x,i.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,t.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){for(var n=0,r={},o=0;o<e;o++)n+=(r=this.gridSize[o]).x*r.y;return n+((r=this.gridSize[e]).x*i+t)},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){var n,r=this._calculateAbsoluteTileNumber(e,t,i);return n=Math.floor(r/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+i+"."+this.fileFormat}})}(t),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var i,n,r;e.isArray(t)&&(i={type:"legacy-image-pyramid",levels:t}),i.levels=function(t){var i,n,r=[];for(n=0;n<t.length;n++)(i=t[n]).height&&i.width&&i.url?r.push({url:i.url,width:Number(i.width),height:Number(i.height)}):e.console.error("Unsupported image format: %s",i.url?i.url:"<no URL>");return r.sort((function(e,t){return e.height-t.height}))}(i.levels),i.levels.length>0?(n=i.levels[i.levels.length-1].width,r=i.levels[i.levels.length-1].height):(n=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,i,{width:n,height:r,tileSize:Math.max(r,n),tileOverlap:0,minLevel:0,maxLevel:i.levels.length>0?i.levels.length-1:0}),e.TileSource.apply(this,[i]),this.levels=i.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(i,n,r){var o;return o=e.isPlainObject(i)?t(0,i):function(i,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a=n.documentElement,s=a.tagName,l=null,c=[];if("image"===s)try{for(l={type:a.getAttribute("type"),levels:[]},c=a.getElementsByTagName("level"),o=0;o<c.length;o++)r=c[o],l.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return t(0,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===s)throw new Error("Error: "+n)}throw new Error("Unknown element "+s)}(0,i),o},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}})}(t),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,i){return e},getImageInfo:function(t){var i=this._image=new Image,n=this;this.crossOriginPolicy&&(i.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(i.useCredentials=this.ajaxWithCredentials),e.addEvent(i,"load",(function(){n.width=i.naturalWidth,n.height=i.naturalHeight,n.aspectRatio=n.width/n.height,n.dimensions=new e.Point(n.width,n.height),n._tileWidth=n.width,n._tileHeight=n.height,n.tileOverlap=0,n.minLevel=0,n.levels=n._buildLevels(),n.maxLevel=n.levels.length-1,n.ready=!0,n.raiseEvent("ready",{tileSource:n})})),e.addEvent(i,"error",(function(){n.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),i.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n},getContext2D:function(e,t,i){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].context2D),n},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var i=this._image.naturalWidth,n=this._image.naturalHeight,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=i,r.height=n,o.drawImage(this._image,0,0,i,n),t[0].context2D=o,delete this._image,e.isCanvasTainted(r))return t;for(;i>=2&&n>=2;){i=Math.floor(i/2),n=Math.floor(n/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=i,a.height=n,s.drawImage(r,0,0,i,n),t.splice(0,0,{context2D:s,width:i,height:n}),r=a,o=s}return t},_freeupCanvasMemory:function(){for(var e=0;e<this.levels.length;e++)this.levels[e].context2D&&(this.levels[e].context2D.canvas.height=0,this.levels[e].context2D.canvas.width=0)}})}(t),function(e){e.TileSourceCollection=function(t,i,n,r){e.console.error("TileSourceCollection is deprecated; use World instead")}}(t),function(e){function t(i){e.requestAnimationFrame((function(){!function(i){var n;i.shouldFade&&(n=1-(e.now()-i.fadeBeginTime)/i.fadeLength,n=Math.min(1,n),n=Math.max(0,n),i.imgGroup&&e.setElementOpacity(i.imgGroup,n,!0),n>0&&t(i))}(i)}))}function i(t,i){t.element.disabled||(i>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),i>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),i>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function n(i,n){i.element.disabled||(n<=e.ButtonState.HOVER&&i.currentState===e.ButtonState.DOWN&&(i.imgDown&&(i.imgDown.style.visibility="hidden"),i.currentState=e.ButtonState.HOVER),n<=e.ButtonState.GROUP&&i.currentState===e.ButtonState.HOVER&&(i.imgHover&&(i.imgHover.style.visibility="hidden"),i.currentState=e.ButtonState.GROUP),n<=e.ButtonState.REST&&i.currentState===e.ButtonState.GROUP&&(function(i){i.shouldFade=!0,i.fadeBeginTime=e.now()+i.fadeDelay,window.setTimeout((function(){t(i)}),i.fadeDelay)}(i),i.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(i(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||i(r,e.ButtonState.HOVER)},focusHandler:function(e){r.tracker.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){n(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){r.tracker.leaveHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){i(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(n(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?n(r,e.ButtonState.GROUP):i(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),n(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){i(this,e.ButtonState.GROUP)},notifyGroupExit:function(){n(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(t),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var i,n=this.buttons.concat([]),r=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",i=0;i<n.length;i++)this.element.appendChild(n[i].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(t),function(e){e.Rect=function(t,i,n,r,o){var a,s;this.x="number"==typeof t?t:0,this.y="number"==typeof i?i:0,this.width="number"==typeof n?n:0,this.height="number"==typeof r?r:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,i,n){var r=t.distanceTo(i),o=t.distanceTo(n),a=i.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,r,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var i=this.getBoundingBox(),n=t.getBoundingBox(),r=Math.min(i.x,n.x),o=Math.min(i.y,n.y),a=Math.max(i.x+i.width,n.x+n.width),s=Math.max(i.y+i.height,n.y+n.height);return new e.Rect(r,o,a-r,s-o)},intersection:function(t){var i=1e-10,n=[],r=this.getTopLeft();t.containsPoint(r,i)&&n.push(r);var o=this.getTopRight();t.containsPoint(o,i)&&n.push(o);var a=this.getBottomLeft();t.containsPoint(a,i)&&n.push(a);var s=this.getBottomRight();t.containsPoint(s,i)&&n.push(s);var l=t.getTopLeft();this.containsPoint(l,i)&&n.push(l);var c=t.getTopRight();this.containsPoint(c,i)&&n.push(c);var u=t.getBottomLeft();this.containsPoint(u,i)&&n.push(u);var h=t.getBottomRight();this.containsPoint(h,i)&&n.push(h);for(var d=this._getSegments(),p=t._getSegments(),g=0;g<d.length;g++)for(var f=d[g],A=0;A<p.length;A++){var m=p[A],v=y(f[0],f[1],m[0],m[1]);v&&n.push(v)}function y(t,n,r,o){var a=n.minus(t),s=o.minus(r),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(t.y-r.y)-a.y*(t.x-r.x))/l,u=(s.x*(t.y-r.y)-s.y*(t.x-r.x))/l;return-1e-10<=c&&c<=1-i&&-1e-10<=u&&u<=1-i?new e.Point(t.x+u*a.x,t.y+u*a.y):null}if(0===n.length)return null;for(var b=n[0].x,w=n[0].x,E=n[0].y,C=n[0].y,I=1;I<n.length;I++){var B=n[I];B.x<b&&(b=B.x),B.x>w&&(w=B.x),B.y<E&&(E=B.y),B.y>C&&(C=B.y)}return new e.Rect(b,E,w-b,C-E)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,i],[i,e]]},rotate:function(t,i){if(0===(t=e.positiveModulo(t,360)))return this.clone();i=i||this.getCenter();var n=this.getTopLeft().rotate(t,i),r=this.getTopRight().rotate(t,i).minus(n);r=r.apply((function(e){return Math.abs(e)<1e-15?0:e}));var o=Math.atan(r.y/r.x);return r.x<0?o+=Math.PI:r.y<0&&(o+=2*Math.PI),new e.Rect(n.x,n.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),i=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(t.x,i.x,n.x,r.x),a=Math.max(t.x,i.x,n.x,r.x),s=Math.min(t.y,i.y,n.y,r.y),l=Math.max(t.y,i.y,n.y,r.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),i=Math.floor(t.x),n=Math.floor(t.y),r=Math.ceil(t.width+t.x-i),o=Math.ceil(t.height+t.y-n);return new e.Rect(i,n,r,o)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),o=n.minus(i),a=r.minus(i);return(e.x-i.x)*o.x+(e.y-i.y)*o.y>=-t&&(e.x-n.x)*o.x+(e.y-n.y)*o.y<=t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y>=-t&&(e.x-r.x)*a.x+(e.y-r.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(t),function(e){var t={};function i(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/this.panelWidth):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t)),this.element.focus()}function n(t){if(this.dragging=!0,this.element){var i=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?i>-(r-s.x)&&(this.element.style.marginLeft=i+2*t.delta.x+"px",o(this,s.x,i+2*t.delta.x)):-t.delta.x<0&&i<0&&(this.element.style.marginLeft=i+2*t.delta.x+"px",o(this,s.x,i+2*t.delta.x)):-t.delta.y>0?n>-(a-s.y)&&(this.element.style.marginTop=n+2*t.delta.y+"px",o(this,s.y,n+2*t.delta.y)):-t.delta.y<0&&n<0&&(this.element.style.marginTop=n+2*t.delta.y+"px",o(this,s.y,n+2*t.delta.y))}}function r(t){if(this.element){var i=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?i>-(r-s.x)&&(this.element.style.marginLeft=i-60*t.scroll+"px",o(this,s.x,i-60*t.scroll)):t.scroll<0&&i<0&&(this.element.style.marginLeft=i-60*t.scroll+"px",o(this,s.x,i-60*t.scroll)):t.scroll<0?n>s.y-a&&(this.element.style.marginTop=n+60*t.scroll+"px",o(this,s.y,n+60*t.scroll)):t.scroll>0&&n<0&&(this.element.style.marginTop=n+60*t.scroll+"px",o(this,s.y,n+60*t.scroll)),t.preventDefault=!0}}function o(t,i,n){var r,o,a,s,l,c;for(r="horizontal"===t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(i/r)+5,l=o=(o=(a=Math.ceil((Math.abs(n)+i)/r)+1)-o)<0?0:o;l<a&&l<t.panels.length;l++)if(!(c=t.panels[l]).activePanel){var u,h=t.viewer.tileSources[l];u=h.referenceStripThumbnailUrl?{type:"image",url:h.referenceStripThumbnailUrl}:h,s=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,useCanvas:t.useCanvas}),e.setElementPointerEventsNone(s.canvas),e.setElementPointerEventsNone(s.container),s.innerTracker.setTracking(!1),s.outerTracker.setTracking(!1),t.miniViewers[c.id]=s,c.activePanel=!0}}function a(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function s(t){var i=t.eventSource.element;"horizontal"===this.scroll?i.style.marginBottom="-"+e.getElementSize(i).y/2+"px":i.style.marginLeft="-"+e.getElementSize(i).x/2+"px"}function l(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:case 39:r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:case 37:r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:case 48:case 119:case 87:case 100:r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:case 115:case 83:case 97:r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}e.ReferenceStrip=function(u){var h,d,p,g=u.viewer,f=e.getElementSize(g.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=g,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,i),dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,r),enterHandler:e.delegate(this,a),leaveHandler:e.delegate(this,s),keyDownHandler:e.delegate(this,l),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===u.scroll?(this.element.style.width=f.x*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.height=f.y*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=f.y*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.width=f.x*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=f.x*this.sizeRatio+8,this.panelHeight=f.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<g.tileSources.length;p++)(h=e.makeNeutralElement("div")).id=this.element.id+"-"+p,h.style.width=this.panelWidth+"px",h.style.height=this.panelHeight+"px",h.style.display="inline",h.style.float="left",h.style.cssFloat="left",h.style.styleFloat="left",h.style.padding="2px",e.setElementTouchActionNone(h),e.setElementPointerEventsNone(h),this.element.appendChild(h),h.activePanel=!1,this.panels.push(h);o(this,"vertical"===this.scroll?f.y:f.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var i,n=this.element.querySelector("#"+this.element.id+"-"+t),r=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==n&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=n,this.currentSelected.style.background="#999","horizontal"===this.scroll?(i=Number(t)*(this.panelWidth+3))>c+r.x-this.panelWidth?(i=Math.min(i,s-r.x),this.element.style.marginLeft=-i+"px",o(this,r.x,-i)):i<c&&(i=Math.max(0,i-r.x/2),this.element.style.marginLeft=-i+"px",o(this,r.x,-i)):(i=Number(t)*(this.panelHeight+3))>u+r.y-this.panelHeight?(i=Math.min(i,l-r.y),this.element.style.marginTop=-i+"px",o(this,r.y,-i)):i<u&&(i=Math.max(0,i-r.y/2),this.element.style.marginTop=-i+"px",o(this,r.y,-i)),this.currentPage=t,a.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(t),function(e){e.DisplayRect=function(t,i,n,r,o,a){e.Rect.apply(this,[t,i,n,r]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(t),function(e){e.Spring=function(t){var i=arguments;"object"!=typeof t&&(t={initial:i.length&&"number"==typeof i[0]?i[0]:void 0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,i;this.current.time=e.now(),this._exponential?(t=this.start._logValue,i=this.target._logValue):(t=this.start.value,i=this.target.value);var n=this.current.time>=this.target.time?i:t+(i-t)*function(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),r=this.current.value;return this._exponential?this.current.value=Math.exp(n):this.current.value=n,r!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(t),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,i=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout((function(){t.errorMsg="Image load exceeded timeout ("+t.timeout+" ms)",t.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",postData:this.postData,success:function(e){var i;try{i=new window.Blob([e.response])}catch(t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&n){var r=new n;r.append(e.response),i=r.getBlob()}}0===i.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(i);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error: Ajax returned "+e.status,t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof i&&i()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var i=this,n=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,postData:e.postData,callback:function(t){!function(e,t,i){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),i(t.image,t.errorMsg,t.request)}(i,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(n.start(),this.jobsInProgress++):this.jobQueue.push(n)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(t),function(e){e.Tile=function(t,i,n,r,o,a,s,l,c,u,h,d){this.level=t,this.x=i,this.y=n,this.bounds=r,this.sourceBounds=u,this.exists=o,this.url=a,this.postData=h,this.context2D=s,this.loadWithAjax=l,this.ajaxHeaders=c,void 0===d&&(e.console.error("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),d=e.TileSource.prototype.getTileHashKey(t,i,n,a,c,h)),this.cacheKey=d,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==t&&t.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,i,n,r,o){var a,s,l,c=this.position.times(e.pixelDensityRatio),u=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(a=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&a?(t.save(),t.globalAlpha=this.opacity,"number"==typeof n&&1!==n&&(c=c.times(n),u=u.times(n)),r instanceof e.Point&&(c=c.plus(r)),1===t.globalAlpha&&this._hasTransparencyChannel()&&(o&&(c.x=Math.round(c.x),c.y=Math.round(c.y),u.x=Math.round(u.x),u.y=Math.round(u.y)),t.clearRect(c.x,c.y,u.x,u.y)),i({context:t,tile:this,rendered:a}),this.sourceBounds?(s=Math.min(this.sourceBounds.width,a.canvas.width),l=Math.min(this.sourceBounds.height,a.canvas.height)):(s=a.canvas.width,l=a.canvas.height),t.translate(c.x+u.x/2,0),this.flipped&&t.scale(-1,1),t.drawImage(a.canvas,0,0,s,l,-u.x/2,c.y,u.x,u.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,i,n){var r=Math.max(1,Math.ceil((n.x-i.x)/2)),o=Math.max(1,Math.ceil((n.y-i.y)/2));return new e.Point(r,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(t),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,i,n){var r;r=e.isPlainObject(t)?t:{element:t,location:i,placement:n},this.element=r.element,this.style=r.element.style,this._init(r)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,i){var n=e.Placement.properties[this.placement];n&&(n.isHorizontallyCentered?t.x-=i.x/2:n.isRight&&(t.x-=i.x),n.isVerticallyCentered?t.y-=i.y/2:n.isBottom&&(t.y-=i.y))},destroy:function(){var t=this.element,i=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(i.display="none",document.body.appendChild(t))),this.onDraw=null,i.top="",i.left="",i.position="",null!==this.width&&(i.width=""),null!==this.height&&(i.height="");var n=e.getCssPropertyWithVendorPrefix("transformOrigin"),r=e.getCssPropertyWithVendorPrefix("transform");n&&r&&(i[n]="",i[r]="")},drawHTML:function(t,i){var n=this.element;n.parentNode!==t&&(n.prevElementParent=n.parentNode,n.prevNextSibling=n.nextSibling,t.appendChild(n),this.style.position="absolute",this.size=e.getElementSize(n));var r=this._getOverlayPositionAndSize(i),o=r.position,a=this.size=r.size,s=r.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),l.display="block"}},_getOverlayPositionAndSize:function(t){var i=t.pixelFromPoint(this.location,!0),n=this._getSizeInPixels(t);this.adjust(i,n);var r=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(i.x,i.y,n.x,n.y),a=this._getBoundingBox(o,t.degrees);i=a.getTopLeft(),n=a.getSize()}else r=t.degrees;return{position:i,size:n,rotate:r}},_getSizeInPixels:function(t){var i=this.size.x,n=this.size.y;if(null!==this.width||null!==this.height){var r=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(i=r.x),null!==this.height&&(n=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(i=o.x),null===this.height&&(n=o.y)}return new e.Point(i,n)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(t){var i=new e.Point(t.x,t.y),n=e.Placement.properties[this.placement];return n&&(n.isHorizontallyCentered?i.x+=t.width/2:n.isRight&&(i.x+=t.width),n.isVerticallyCentered?i.y+=t.height/2:n.isBottom&&(i.y+=t.height)),i},_getTransformOrigin:function(){var t="",i=e.Placement.properties[this.placement];return i?(i.isLeft?t="left":i.isRight&&(t="right"),i.isTop?t+=" top":i.isBottom&&(t+=" bottom"),t):t},update:function(t,i){var n=e.isPlainObject(t)?t:{location:t,placement:i};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var i=this.width,n=this.height;if(null===i||null===n){var r=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===i&&(i=r.x),null===n&&(n=r.y)}var o=this.location.clone();return this.adjust(o,new e.Point(i,n)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,i,n))},_adjustBoundsForRotation:function(t,i){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return i;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return i;var n=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return i.rotate(-t.degrees,this._getPlacementPoint(i))}}}(t),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var i=arguments;if(e.isPlainObject(t)||(t={source:i[0],viewport:i[1],element:i[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var n=this._calculateCanvasSize();this.canvas.width=n.x,this.canvas.height=n.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,i,n,r){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,i,n,r),this},updateOverlay:function(t,i,n){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,i,n),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(t){var i=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},clipWithPolygons:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),e.forEach((function(e){e.forEach((function(e,t){i[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),i.clip()}},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var i=this.viewer.world,n=0;n<i.getItemCount();n++)i.getItemAt(n).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,i=0,n=0;n<t.getItemCount();n++){var r=t.getItemAt(n).getOpacity();r>i&&(i=r)}return i},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var n=i.canvas;i.clearRect(0,0,n.width,n.height)}}},viewportToDrawerRectangle:function(t){var i=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio,n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)},drawTile:function(t,i,n,r,o,a){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(i,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var s=this._getContext(n);r=r||1,t.drawCanvas(s,i,r,o,a)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var i=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",(function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x,n.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var n=this._getContext(i);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}},blendSketch:function(t,i,n,r){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:i,translate:n,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){t=o.opacity,r=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,r&&(this.context.globalCompositeOperation=r),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{i=o.scale||1;var s=(n=o.translate)instanceof e.Point?n:new e.Point(0,0),l=0,c=0;if(n){var u=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,s.x-l*i,s.y-c*i,(this.canvas.width+2*l)*i,(this.canvas.height+2*c)*i,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,i,n,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),0===r.viewport.degrees&&r.getRotation(!0)%360==0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+n+" of "+i,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===r.viewport.degrees&&r.getRotation(!0)%360==0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),a.restore()}},debugRect:function(t){if(this.useCanvas){var i=this.context;i.save(),i.lineWidth=2*e.pixelDensityRatio,i.strokeStyle=this.debugGridColor[0],i.fillStyle=this.debugGridColor[0],i.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),i.restore()}},setImageSmoothingEnabled:function(e){this.useCanvas&&(this._imageSmoothingEnabled=e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var i=this._getContext(t).canvas;return new e.Point(i.width,i.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var i=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),n=this._getContext(t.useSketch);n.save(),n.translate(i.x,i.y),this.viewer.viewport.flipped?(n.rotate(Math.PI/180*-t.degrees),n.scale(-1,1)):n.rotate(Math.PI/180*t.degrees),n.translate(-i.x,-i.y)},_flip:function(t){var i=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),n=this._getContext(t.useSketch);n.translate(i.x,0),n.scale(-1,1),n.translate(-i.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,i=this.viewport.getContainerSize();return{x:Math.round(i.x*t),y:Math.round(i.y*t)}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(t),function(e){e.Viewport=function(t){var i=arguments;i.length&&i[0]instanceof e.Point&&(t={containerSize:i[0],contentSize:i[1],config:i[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,i){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,i)},_setContentBounds:function(t,i){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(i),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(i),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:i,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),i=1/this.getHomeZoom(),n=i/this.getAspectRatio();return new e.Rect(t.x-i/2,t.y-n/2,i,n)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var i=this.getCenter(t),n=1/this.getZoom(t),r=n/this.getAspectRatio();return new e.Rect(i.x-n/2,i.y-r/2,n,r)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),i=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/i,t.y-=this._margins.top/i,t.width+=(this._margins.left+this._margins.right)/i,t.height+=(this._margins.top+this._margins.bottom)/i,t},getCenter:function(t){var i,n,r,o,a,s,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(i=this.pixelFromPoint(this.zoomPoint,!0),o=(r=1/(n=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(l.x-r/2,l.y-o/2,r,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(i).divide(this._containerInnerSize.x*n),c.plus(s)):c},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var i=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var n=this.visibilityRatio*i.width,r=i.x+i.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-r+n,s=o-i.x-n;n>this._contentBoundsNoRotate.width?i.x+=(a+s)/2:s<0?i.x+=s:a>0&&(i.x+=a)}if(this.wrapVertical);else{var l=this.visibilityRatio*i.height,c=i.y+i.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-c+l,d=u-i.y-l;l>this._contentBoundsNoRotate.height?i.y+=(h+d)/2:d<0?i.y+=d:h>0&&(i.y+=h)}return i},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var n=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(n);return this._raiseConstraintsEvent(e),(n.x!==r.x||n.y!==r.y||e)&&this.fitBounds(r.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,i){var n=(i=i||{}).immediately||!1,r=i.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(r){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),a=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(n)}if(n)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,n);var p=(s=s.rotate(-this.getRotation())).getTopLeft().times(l).minus(h.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,p,n)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var i=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(i,t)},fitHorizontally:function(t){var i=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(i,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,i){var n=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),i)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(t,i,n){var r=this;return this.zoomPoint=i instanceof e.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,n?this._adjustCenterSpringsForZoomPoint((function(){r.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:i,immediately:n}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var i,n=this.getBoundsNoRotate(),r=n;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(i=e.x/this.containerSize.x,r.width=n.width*i,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t),n=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,i){return t.minus(i.getTopLeft()).times(this._containerInnerSize.x/i.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,i){var n=this.getBoundsNoRotate(i);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/n,i*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,i){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,i,!0)}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,i-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*n,i/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,i){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,i,!0)}var r=this._imageToViewportDelta(t,i);return r.x+=this._contentBoundsNoRotate.x,r.y+=this._contentBoundsNoRotate.y,r},imageToViewportRectangle:function(t,i,n,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,i,n,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,i,n,r,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,i,n,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,i,n,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,i,n,r,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(i)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===i)return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}var n=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/n*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===i)return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this}}}(t),function(e){e.TiledImage=function(i){var n=this;e.console.assert(i.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(i.drawer,"[TiledImage] options.drawer is required"),e.console.assert(i.viewer,"[TiledImage] options.viewer is required"),e.console.assert(i.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(i.source,"[TiledImage] options.source is required"),e.console.assert(!i.clip||i.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=i.tileCache,delete i.tileCache,this._drawer=i.drawer,delete i.drawer,this._imageLoader=i.imageLoader,delete i.imageLoader,i.clip instanceof e.Rect&&(this._clip=i.clip.clone()),delete i.clip;var r=i.x||0;delete i.x;var o=i.y||0;delete i.y,this.normHeight=i.source.dimensions.y/i.source.dimensions.x,this.contentAspectX=i.source.dimensions.x/i.source.dimensions.y;var a=1;i.width?(a=i.width,delete i.width,i.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete i.height)):i.height&&(a=i.height/this.normHeight,delete i.height);var s=i.fitBounds;delete i.fitBounds;var l=i.fitBoundsPlacement||t.Placement.CENTER;delete i.fitBoundsPlacement;var c=i.degrees||0;delete i.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency},i),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),s&&this.fitBounds(s,l,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),i=this._scaleSpring.update(),n=this._degreesSpring.update();return!!(e||t||i||n)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var i=this.getBoundsNoRotate(t);if(this._clip){var n=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,r=this._clip.times(n);i=new e.Rect(i.x+r.x,i.y+r.y,r.width,r.height)}return i.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,i){var n=this.source.getNumTiles(e),r=(n.x+t%n.x)%n.x,o=(n.y+i%n.y)%n.y,a=this.source.getTileBounds(e,r,o);return this.getFlip()&&(a.x=1-a.x-a.width),a.x+=(t-r)/n.x,a.y+=this._worldHeightCurrent/this._worldWidthCurrent*((i-o)/n.y),a},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),i=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(i.x-t.x,i.y-t.y)},_viewportToImageDelta:function(t,i,n){var r=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/r),i*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(t,i,n){var r;return t instanceof e.Point?(n=i,r=t):r=new e.Point(t,i),r=r.rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,i,n){var r=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*r,i/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(t,i,n){t instanceof e.Point&&(n=i,i=t.y,t=t.x);var r=this._imageToViewportDelta(t,i);return n?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,i,n,r,o){var a=t;a instanceof e.Rect?o=i:a=new e.Rect(t,i,n,r);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,i,n,r,o){var a=t;t instanceof e.Rect?o=i:a=new e.Rect(t,i,n,r);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var i=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(t.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var i=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/i,(t.y-this._ySpring.current.value)/i,t.width/i,t.height/i,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var i=function(t){return t.map((function(t){try{if(function(t){return t instanceof e.Point||"number"==typeof t.x&&"number"==typeof t.y}(t))return{x:t.x,y:t.y};throw new Error}catch(e){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return i(e)}))}catch(t){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(t),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(t,i,n){i=i||e.Placement.CENTER;var r=e.Placement.properties[i],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,h=0;r.isHorizontallyCentered?h=(t.width-t.height*o)/2:r.isRight&&(h=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+h,t.y-s),n),this.setHeight(u,n)}else{var d=t.width/l,p=0;r.isVerticallyCentered?p=(t.height-t.width/o)/2:r.isBottom&&(p=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+p),n),this.setWidth(d,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(e){this.flipped=!!e,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return i=Math.max(i,this.source.minLevel||0),{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var t=this.viewport,i=this._viewportToTiledImageRectangle(t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var n=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(i=i.intersection(n)))return}for(var r=this._getLevelsInterval(),o=r.lowestLevel,a=r.highestLevel,s=null,l=!1,c=e.now(),u=a;u>=o;u--){var h=!1,d=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!0).x*this._scaleSpring.current.value;if(u===o||!l&&d>=this.minPixelRatio)h=!0,l=!0;else if(!l)continue;var p=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!1).x*this._scaleSpring.current.value,g=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,f=this.immediateRender?1:g,A=Math.min(1,(d-.5)/.5),m=f/Math.abs(f-p);if(s=this._updateLevel(l,h,u,A,m,i,c,s),this._providesCoverage(this.coverage,u))break}this._drawTiles(this.lastDrawn),s&&!s.context2D?(this._loadTile(s,c),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,i,n){var r,o,a,s;this.wrapHorizontal?(r=e.positiveModulo(i.x,1),o=e.positiveModulo(n.x,1)):(r=Math.max(0,i.x),o=Math.min(1,n.x));var l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(i.y,l),s=e.positiveModulo(n.y,l)):(a=Math.max(0,i.y),s=Math.min(l,n.y));var c=this.source.getTileAtPoint(t,new e.Point(r,a)),u=this.source.getTileAtPoint(t,new e.Point(o,s)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=h.x*Math.floor(i.x),u.x+=h.x*Math.floor(n.x)),this.wrapVertical&&(c.y+=h.y*Math.floor(i.y/l),u.y+=h.y*Math.floor(n.y/l)),{topLeft:c,bottomRight:u}},_updateLevel:function(e,t,i,n,r,o,a,s){var l=o.getBoundingBox().getTopLeft(),c=o.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:e,level:i,opacity:n,visibility:r,drawArea:o,topleft:l,bottomright:c,currenttime:a,best:s}),this._resetCoverage(this.coverage,i),this._resetCoverage(this.loadingCoverage,i);var u=this._getCornerTiles(i,l,c),h=u.topLeft,d=u.bottomRight,p=this.source.getNumTiles(i),g=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(d.x+=1,this.wrapHorizontal||(d.x=Math.min(d.x,p.x-1)));for(var f=h.x;f<=d.x;f++)for(var A=h.y;A<=d.y;A++){var m;if(this.getFlip()){var v=(p.x+f%p.x)%p.x;m=f+p.x-v-v-1}else m=f;null!==o.intersection(this.getTileBounds(i,m,A))&&(s=this._updateTile(t,e,m,A,i,n,r,g,p,a,s))}return s},_updateTile:function(e,t,i,n,r,o,a,s,l,c,u){var h=this._getTile(i,n,r,c,l,this._worldWidthCurrent,this._worldHeightCurrent),d=t;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:h}),this._setCoverage(this.coverage,r,i,n,!1);var p=h.loaded||h.loading||this._isCovered(this.loadingCoverage,r,i,n);if(this._setCoverage(this.loadingCoverage,r,i,n,p),!h.exists)return u;if(e&&!d&&(this._isCovered(this.coverage,r,i,n)?this._setCoverage(this.coverage,r,i,n,!0):d=!0),!d)return u;if(this._positionTile(h,this.source.tileOverlap,this.viewport,s,a),!h.loaded)if(h.context2D)this._setTileLoaded(h);else{var g=this._tileCache.getImageRecord(h.cacheKey);if(g){var f=g.getImage();this._setTileLoaded(h,f)}}return h.loaded?this._blendTile(h,i,n,r,o,c)&&(this._needsDraw=!0):h.loading?this._tilesLoading++:p||(u=this._compareTiles(u,h)),u},_getTile:function(t,i,n,r,o,a,s){var l,c,u,h,d,p,g,f,A,m,v=this.tilesMatrix,y=this.source;return v[n]||(v[n]={}),v[n][t]||(v[n][t]={}),v[n][t][i]&&!v[n][t][i].flipped==!this.flipped||(l=(o.x+t%o.x)%o.x,c=(o.y+i%o.y)%o.y,u=this.getTileBounds(n,t,i),h=y.getTileBounds(n,l,c,!0),d=y.tileExists(n,l,c),p=y.getTileUrl(n,l,c),g=y.getTilePostData(n,l,c),this.loadTilesWithAjax?(f=y.getTileAjaxHeaders(n,l,c),e.isPlainObject(this.ajaxHeaders)&&(f=e.extend({},this.ajaxHeaders,f))):f=null,A=y.getContext2D?y.getContext2D(n,l,c):void 0,m=new e.Tile(n,t,i,u,d,p,A,this.loadTilesWithAjax,f,h,g,y.getTileHashKey(n,l,c,p,f,g)),this.getFlip()?0===l&&(m.isRightMost=!0):l===o.x-1&&(m.isRightMost=!0),c===o.y-1&&(m.isBottomMost=!0),m.flipped=this.flipped,v[n][t][i]=m),(m=v[n][t][i]).lastTouchTime=r,m},_loadTile:function(e,t){var i=this;e.loading=!0,this._imageLoader.addJob({src:e.url,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(n,r,o){i._onTileLoad(e,t,n,r,o)},abort:function(){e.loading=!1}})},_onTileLoad:function(t,i,n,r,o){if(!n)return e.console.error("Tile %s failed to load: %s - error: %s",t,t.url,r),this.viewer.raiseEvent("tile-load-failed",{tile:t,tiledImage:this,time:i,message:r,tileRequest:o}),t.loading=!1,void(t.exists=!1);if(i<this.lastResetTime)return e.console.warn("Ignoring tile %s loaded before reset: %s",t,t.url),void(t.loading=!1);var a=this,s=function(){var e=a.source.getClosestLevel();a._setTileLoaded(t,n,e,o)};this._midDraw?window.setTimeout(s,1):s()},_setTileLoaded:function(e,t,i,n){var r=0,o=this;function a(){return r++,s}function s(){0==--r&&(e.loading=!1,e.loaded=!0,e.context2D||o._tileCache.cacheTile({image:t,tile:e,cutoff:i,tiledImage:o}),o._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:this,tileRequest:n,image:t,getCompletionCallback:a}),a()()},_positionTile:function(t,i,n,r,o){var a=t.bounds.getTopLeft();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,a.x+=this._xSpring.current.value,a.y+=this._ySpring.current.value;var s=t.bounds.getSize();s.x*=this._scaleSpring.current.value,s.y*=this._scaleSpring.current.value;var l=n.pixelFromPointNoRotate(a,!0),c=n.pixelFromPointNoRotate(a,!1),u=n.deltaPixelsFromPointsNoRotate(s,!0),h=n.deltaPixelsFromPointsNoRotate(s,!1),d=c.plus(h.divide(2)),p=r.squaredDistanceTo(d);i||(u=u.plus(new e.Point(1,1))),t.isRightMost&&this.wrapHorizontal&&(u.x+=.75),t.isBottomMost&&this.wrapVertical&&(u.y+=.75),t.position=l,t.size=u,t.squaredDistance=p,t.visibility=o},_blendTile:function(e,t,i,n,r,o){var a,s,l=1e3*this.blendTime;if(e.blendStart||(e.blendStart=o),a=o-e.blendStart,s=l?Math.min(1,a/l):1,this.alwaysBlend&&(s*=r),e.opacity=s,this.lastDrawn.push(e),1===s)this._setCoverage(this.coverage,n,t,i,!0),this._hasOpaqueTile=!0;else if(a<l)return!0;return!1},_compareTiles:function(e,t){return e?t.visibility>e.visibility||t.visibility===e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t},_drawTiles:function(t){if(0!==this.opacity&&(0!==t.length||this.placeholderFillStyle)){var o,a,s,l=t[0];l&&(o=this.opacity<1||this.compositeOperation&&"source-over"!==this.compositeOperation||!this._isBottomItem()&&l._hasTransparencyChannel());var c,u=this.viewport.getZoom(!0),h=this.viewportToImageZoom(u);t.length>1&&h>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360==0&&e.supportsCanvas&&this.viewer.useCanvas&&(o=!0,a=l.getScaleForEdgeSmoothing(),s=l.getTranslationForEdgeSmoothing(a,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0))),o&&(a||(c=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(0===this.viewport.degrees&&this.getRotation(!0)%360==0||(c.x=this._drawer.viewer.container.clientWidth-(c.x+c.width))),c=c.times(e.pixelDensityRatio)),this._drawer._clear(!0,c)),a||(0!==this.viewport.degrees&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:o}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:o}),0===this.viewport.degrees&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var d=!1;if(this._clip){this._drawer.saveContext(o);var p=this.imageToViewportRectangle(this._clip,!0);p=p.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var g=this._drawer.viewportToDrawerRectangle(p);a&&(g=g.times(a)),s&&(g=g.translate(s)),this._drawer.setClip(g,o),d=!0}if(this._croppingPolygons){this._drawer.saveContext(o);try{var f=this._croppingPolygons.map((function(e){return e.map((function(e){var t=this.imageToViewportCoordinates(e.x,e.y,!0).rotate(-this.getRotation(!0),this._getRotationPoint(!0)),i=this._drawer.viewportCoordToDrawerCoord(t);return a&&(i=i.times(a)),i}))}));this._drawer.clipWithPolygons(f,o)}catch(t){e.console.error(t)}d=!0}if(this.placeholderFillStyle&&!1===this._hasOpaqueTile){var A=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));a&&(A=A.times(a)),s&&(A=A.translate(s));var m;m="function"==typeof this.placeholderFillStyle?this.placeholderFillStyle(this,this._drawer.context):this.placeholderFillStyle,this._drawer.drawRectangle(A,m,o)}var v=function(t){if("number"==typeof t)return r(t);if(!t||!e.Browser)return i;var o=t[e.Browser.vendor];return n(o)&&(o=t["*"]),r(o)}(this.subPixelRoundingForTransparency),y=!1;v===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS?y=!0:v===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&(y=!(this.viewer&&this.viewer.isAnimating()));for(var b=t.length-1;b>=0;b--)l=t[b],this._drawer.drawTile(l,this._drawingHandler,o,a,s,y),l.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:l});d&&this._drawer.restoreContext(o),a||(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(o),0!==this.viewport.degrees&&this._drawer._restoreRotationChanges(o)),o&&(a&&(0!==this.viewport.degrees&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:!1}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:a,translate:s,compositeOperation:this.compositeOperation,bounds:c}),a&&(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(!1),0!==this.viewport.degrees&&this._drawer._restoreRotationChanges(!1))),a||0===this.viewport.degrees&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(t)}},_drawDebugInfo:function(t){if(this.debugMode)for(var i=t.length-1;i>=0;i--){var n=t[i];try{this._drawer.drawDebugInfo(n,t.length,i,this)}catch(t){e.console.error(t)}}},_providesCoverage:function(e,t,i,n){var r,o,a,s;if(!e[t])return!1;if(void 0===i||void 0===n){for(a in r=e[t])if(Object.prototype.hasOwnProperty.call(r,a))for(s in o=r[a])if(Object.prototype.hasOwnProperty.call(o,s)&&!o[s])return!1;return!0}return void 0===e[t][i]||void 0===e[t][i][n]||!0===e[t][i][n]},_isCovered:function(e,t,i,n){return void 0===i||void 0===n?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*i,2*n)&&this._providesCoverage(e,t+1,2*i,2*n+1)&&this._providesCoverage(e,t+1,2*i+1,2*n)&&this._providesCoverage(e,t+1,2*i+1,2*n+1)},_setCoverage:function(t,i,n,r,o){t[i]?(t[i][n]||(t[i][n]={}),t[i][n][r]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",i)},_resetCoverage:function(e,t){e[t]={}}});var i=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function n(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function r(e){return n(e)?i:e}}(t),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},i=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};i.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var i=0;i<this._tiles.length;i++)if(this._tiles[i]===t)return void this._tiles.splice(i,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=n.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[n.tile.cacheKey];if(a||(e.console.assert(n.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[n.tile.cacheKey]=new i({image:n.image}),this._imagesLoadedCount++),a.addTile(n.tile),n.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,c,u,h,d,p=null,g=-1,f=null,A=this._tilesLoaded.length-1;A>=0;A--)(s=(d=this._tilesLoaded[A]).tile).level<=r||s.beingDrawn||(p?(u=s.lastTouchTime,l=p.lastTouchTime,h=s.level,c=p.level,(u<l||u===l&&h>c)&&(p=s,g=A,f=d)):(p=s,g=A,f=d));p&&g>=0&&(this._unloadTile(f),o=g)}this._tilesLoaded[o]=new t({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var i;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n=0;n<this._tilesLoaded.length;++n)(i=this._tilesLoaded[n]).tiledImage===t&&(this._unloadTile(i),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var i=t.tile,n=t.tiledImage;i.unload(),i.cacheImageRecord=null;var r=this._imagesLoaded[i.cacheKey];r.removeTile(i),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[i.cacheKey],this._imagesLoadedCount--),n.viewer.raiseEvent("tile-unloaded",{tile:i,tiledImage:n})}}}(t),function(e){e.World=function(t){var i=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){i._autoRefigureSizes?i._figureSizes():i._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,i){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(i=i||{}).index){var n=Math.max(0,Math.min(this._items.length,i.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,i){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==i,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(t);if(i>=this._items.length)throw new Error("Index bigger than number of layers.");i!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(i,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:n,newIndex:i}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var i=e.indexOf(this._items,t);-1!==i&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(i,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var i=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<i.length;t++)e=i[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var i,n=(t=t||{}).immediately||!1,r=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);i=!t.rows&&a?a:Math.ceil(this._items.length/o);var c,u,h,d,p,g=0,f=0;this.setAutoRefigureSizes(!1);for(var A=0;A<this._items.length;A++)A&&A%i==0&&("horizontal"===r?(f+=l,g=0):(g+=l,f=0)),d=(h=(u=(c=this._items[A]).getBounds()).width>u.height?s:s*(u.width/u.height))*(u.height/u.width),p=new e.Point(g+(s-h)/2,f+(s-d)/2),c.setPosition(p,n),c.setWidth(h,n),"horizontal"===r?g+=l:f+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,i=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var a=r.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,h=1;h<this._items.length;h++)o=(r=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),a=r.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new e.Rect(s,l,c-s,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(i)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(t)}(jo);var Vo=jo.exports;function Wo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Uo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Yo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(i),!0).forEach((function(t){qo(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Xo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ko={addCSS:!0,thumbWidth:15,watch:!0};function Go(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var Zo=function(e){return null!=e?e.constructor:null},Jo=function(e,t){return!!(e&&t&&e instanceof t)},$o=function(e){return Zo(e)===String},ea=function(e){return Array.isArray(e)},ta=function(e){return Jo(e,NodeList)},ia=$o,na=ea,ra=ta,oa=function(e){return Jo(e,Element)},aa=function(e){return Jo(e,Event)},sa=function(e){return function(e){return null==e}(e)||($o(e)||ea(e)||ta(e))&&!e.length||function(e){return Zo(e)===Object}(e)&&!Object.keys(e).length};var la=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),oa(t)?this.element=t:ia(t)&&(this.element=document.querySelector(t)),oa(this.element)&&sa(this.element.rangeTouch)&&(this.config=Yo({},Ko,{},i),this.init())}return function(e,t,i){t&&Uo(e.prototype,t),i&&Uo(e,i)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!aa(t))return null;var i,n=t.target,r=t.changedTouches[0],o=parseFloat(n.getAttribute("min"))||0,a=parseFloat(n.getAttribute("max"))||100,s=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(r.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),o+function(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}(i/100*(a-o),s)}},{key:"set",value:function(t){e.enabled&&aa(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(sa(t)||ia(t)?n=Array.from(document.querySelectorAll(ia(t)?t:'input[type="range"]')):oa(t)?n=[t]:ra(t)?n=Array.from(t):na(t)&&(n=t.filter(oa)),sa(n))return null;var r=Yo({},Ko,{},i);if(ia(t)&&r.watch){var o=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){oa(i)&&Go(i,t)&&new e(i,r)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return n.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const ca=e=>null!=e?e.constructor:null,ua=(e,t)=>Boolean(e&&t&&e instanceof t),ha=e=>null==e,da=e=>ca(e)===Object,pa=e=>ca(e)===String,ga=e=>ca(e)===Function,fa=e=>Array.isArray(e),Aa=e=>ua(e,NodeList),ma=e=>ha(e)||(pa(e)||fa(e)||Aa(e))&&!e.length||da(e)&&!Object.keys(e).length;var va=ha,ya=da,ba=e=>ca(e)===Number&&!Number.isNaN(e),wa=pa,Ea=e=>ca(e)===Boolean,Ca=ga,Ia=fa,Ba=Aa,xa=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,ka=e=>ua(e,Event),Qa=e=>ua(e,KeyboardEvent),_a=e=>ua(e,TextTrack)||!ha(e)&&pa(e.kind),Sa=e=>{if(ua(e,window.URL))return!0;if(!pa(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!ma(new URL(t).hostname)}catch(e){return!1}},Ta=ma;const Pa=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!wa(i)&&t[i]})();function Oa(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}const Da={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Na(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function Ra(e={},...t){if(!t.length)return e;const i=t.shift();return ya(i)?(Object.keys(i).forEach((t=>{ya(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),Ra(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),Ra(e,...t)):e}function za(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const n=i>0?t.cloneNode(!0):t,r=e.parentNode,o=e.nextSibling;n.appendChild(e),o?r.insertBefore(n,o):r.appendChild(n)}))}function La(e,t){xa(e)&&!Ta(t)&&Object.entries(t).filter((([,e])=>!va(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function Ma(e,t,i){const n=document.createElement(e);return ya(t)&&La(n,t),wa(i)&&(n.innerText=i),n}function Fa(e,t,i,n){xa(t)&&t.appendChild(Ma(e,i,n))}function Ha(e){Ba(e)||Ia(e)?Array.from(e).forEach(Ha):xa(e)&&xa(e.parentNode)&&e.parentNode.removeChild(e)}function ja(e){if(!xa(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function Va(e,t){return xa(t)&&xa(t.parentNode)&&xa(e)?(t.parentNode.replaceChild(e,t),e):null}function Wa(e,t){if(!wa(e)||Ta(e))return{};const i={},n=Ra({},t);return e.split(",").forEach((e=>{const t=e.trim(),r=t.replace(".",""),o=t.replace(/[[\]]/g,"").split("="),[a]=o,s=o.length>1?o[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":wa(n.class)?i.class=`${n.class} ${r}`:i.class=r;break;case"#":i.id=t.replace("#","");break;case"[":i[a]=s}})),Ra(n,i)}function Ua(e,t){if(!xa(e))return;let i=t;Ea(i)||(i=!e.hidden),e.hidden=i}function qa(e,t,i){if(Ba(e))return Array.from(e).map((e=>qa(e,t,i)));if(xa(e)){let n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function Xa(e,t){return xa(e)&&e.classList.contains(t)}function Ya(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Ka(e){return this.elements.container.querySelectorAll(e)}function Ga(e){return this.elements.container.querySelector(e)}function Za(e=null,t=!1){xa(e)&&(e.focus({preventScroll:!0}),t&&qa(e,this.config.classNames.tabFocus))}const Ja={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},$a={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t,i){const n=Da.isIPhone&&i&&$a.playsinline,r=$a[e]||"html5"!==t;return{api:r,ui:r&&$a.rangeInput&&("video"!==e||!Da.isIPhone||n)}},pip:!(Da.isIPhone||!Ca(Ma("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Ma("video").disablePictureInPicture)),airplay:Ca(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(Ta(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Ja).includes(i)&&(i+=`; codecs="${Ja[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==Pa,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},es=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function ts(e,t,i,n=!1,r=!0,o=!1){if(!e||!("addEventListener"in e)||Ta(t)||!Ca(i))return;const a=t.split(" ");let s=o;es&&(s={passive:r,capture:o}),a.forEach((t=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:e,type:t,callback:i,options:s}),e[n?"addEventListener":"removeEventListener"](t,i,s)}))}function is(e,t="",i,n=!0,r=!1){ts.call(this,e,t,i,!0,n,r)}function ns(e,t="",i,n=!0,r=!1){ts.call(this,e,t,i,!1,n,r)}function rs(e,t="",i,n=!0,r=!1){const o=(...a)=>{ns(e,t,o,n,r),i.apply(this,a)};ts.call(this,e,t,o,!0,n,r)}function os(e,t="",i=!1,n={}){if(!xa(e)||Ta(t))return;const r=new CustomEvent(t,{bubbles:i,detail:{...n,plyr:this}});e.dispatchEvent(r)}function as(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:n,options:r}=e;t.removeEventListener(i,n,r)})),this.eventListeners=[])}function ss(){return new Promise((e=>this.ready?setTimeout(e,0):is.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ls(e){(e=>ua(e,Promise)&&ga(e.then))(e)&&e.then(null,(()=>{}))}function cs(e){return Ia(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function us(e,t){return Ia(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}function hs(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const ds=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function ps(e){return!!(Ia(e)||wa(e)&&e.includes(":"))&&(Ia(e)?e:e.split(":")).map(Number).every(ba)}function gs(e){if(!Ia(e)||!e.every(ba))return null;const[t,i]=e,n=(e,t)=>0===t?e:n(t,e%t),r=n(t,i);return[t/r,i/r]}function fs(e){const t=e=>ps(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!Ta(this.embed)&&Ia(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return gs(i)}function As(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=fs.call(this,e);if(!Ia(i))return{};const[n,r]=gs(i),o=100/n*r;if(hs(`aspect-ratio: ${n}/${r}`)?t.style.aspectRatio=`${n}/${r}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-o)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:i}}function ms(e,t,i=.05){const n=e/t,r=us(Object.keys(ds),n);return Math.abs(r-n)<=i?ds[r]:[e,t]}const vs={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!Ta(t)||$a.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:vs.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,Ta(this.config.ratio)||As.call(e),Object.defineProperty(e.media,"quality",{get(){const t=vs.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Ca(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=vs.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:n,paused:r,preload:o,readyState:a,playbackRate:s}=e.media;e.media.src=i.getAttribute("src"),("none"!==o||a)&&(e.once("loadedmetadata",(()=>{e.speed=s,e.currentTime=n,r||ls(e.play())})),e.media.load())}os.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Ha(vs.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function ys(e){return`${e}-${Math.floor(1e4*Math.random())}`}function bs(e,...t){return Ta(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const ws=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),Es=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function Cs(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Is={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Bs={get(e="",t={}){if(Ta(e)||Ta(t))return"";let i=Na(t.i18n,e);if(Ta(i))return Object.keys(Is).includes(e)?Is[e]:"";const n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach((([e,t])=>{i=ws(i,e,t)})),i}};class xs{constructor(e){Wo(this,"get",(e=>{if(!xs.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(Ta(t))return null;const i=JSON.parse(t);return wa(e)&&e.length?i[e]:i})),Wo(this,"set",(e=>{if(!xs.supported||!this.enabled)return;if(!ya(e))return;let t=this.get();Ta(t)&&(t={}),Ra(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function ks(e,t="text"){return new Promise(((i,n)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(n.responseText))}catch(e){i(n.responseText)}else i(n.response)})),n.addEventListener("error",(()=>{throw new Error(n.status)})),n.open("GET",e,!0),n.responseType=t,n.send()}catch(e){n(e)}}))}function Qs(e,t){if(!wa(e))return;const i=wa(t);let n=!1;const r=()=>null!==document.getElementById(t),o=(e,t)=>{e.innerHTML=t,i&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!r()){const r=xs.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",t),r){const e=window.localStorage.getItem(`cache-${t}`);if(n=null!==e,n){const t=JSON.parse(e);o(a,t.content)}}ks(e).then((e=>{if(!Ta(e)){if(r)try{window.localStorage.setItem(`cache-${t}`,JSON.stringify({content:e}))}catch(e){}o(a,e)}})).catch((()=>{}))}}const _s=e=>Math.trunc(e/60/60%60,10);function Ss(e=0,t=!1,i=!1){if(!ba(e))return Ss(void 0,t,i);const n=e=>`0${e}`.slice(-2);let r=_s(e);const o=(a=e,Math.trunc(a/60%60,10));var a;const s=(e=>Math.trunc(e%60,10))(e);return r=t||r>0?`${r}:`:"",`${i&&e>0?"-":""}${r}${n(o)}:${n(s)}`}const Ts={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||Da.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=Ga.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Ka.call(this,this.config.selectors.buttons.play),pause:Ga.call(this,this.config.selectors.buttons.pause),restart:Ga.call(this,this.config.selectors.buttons.restart),rewind:Ga.call(this,this.config.selectors.buttons.rewind),fastForward:Ga.call(this,this.config.selectors.buttons.fastForward),mute:Ga.call(this,this.config.selectors.buttons.mute),pip:Ga.call(this,this.config.selectors.buttons.pip),airplay:Ga.call(this,this.config.selectors.buttons.airplay),settings:Ga.call(this,this.config.selectors.buttons.settings),captions:Ga.call(this,this.config.selectors.buttons.captions),fullscreen:Ga.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Ga.call(this,this.config.selectors.progress),this.elements.inputs={seek:Ga.call(this,this.config.selectors.inputs.seek),volume:Ga.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Ga.call(this,this.config.selectors.display.buffer),currentTime:Ga.call(this,this.config.selectors.display.currentTime),duration:Ga.call(this,this.config.selectors.display.duration)},xa(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",n=Ts.getIconUrl.call(this),r=`${n.cors?"":n.url}#${this.config.iconPrefix}`,o=document.createElementNS(i,"svg");La(o,Ra(t,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(i,"use"),s=`${r}-${e}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",s),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),o.appendChild(a),o},createLabel(e,t={}){const i=Bs.get(e,this.config);return Ma("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(Ta(e))return null;const t=Ma("span",{class:this.config.classNames.menu.value});return t.appendChild(Ma("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=Ra({},t);let n=function(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=ws(t,"-"," "),t=ws(t,"_"," "),t=Es(t),ws(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}(e);const r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(r[e]=i[e],delete i[e])})),"button"!==r.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||Ra(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,n="play",r.label="play",r.icon="play";break;default:Ta(r.label)&&(r.label=n),Ta(r.icon)&&(r.icon=e)}const o=Ma(r.element);return r.toggle?(o.appendChild(Ts.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),o.appendChild(Ts.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),o.appendChild(Ts.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),o.appendChild(Ts.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(o.appendChild(Ts.createIcon.call(this,r.icon)),o.appendChild(Ts.createLabel.call(this,r.label))),Ra(i,Wa(this.config.selectors.buttons[n],i)),La(o,i),"play"===n?(Ia(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(o)):this.elements.buttons[n]=o,o},createRange(e,t){const i=Ma("input",Ra(Wa(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Bs.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Ts.updateRangeFill.call(this,i),la.setup(i),i},createProgress(e,t){const i=Ma("progress",Ra(Wa(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(Ma("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],n=t?Bs.get(t,this.config):"";i.innerText=`% ${n.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=Wa(this.config.selectors.display[e],t),n=Ma("div",Ra(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Bs.get(e,this.config)}),"00:00");return this.elements.display[e]=n,n},bindMenuItemShortcuts(e,t){is.call(this,e,"keydown keyup",(i=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const n=Ya(e,'[role="menuitemradio"]');if(!n&&["Space","ArrowRight"].includes(i.key))Ts.showMenuPanel.call(this,t,!0);else{let t;"Space"!==i.key&&("ArrowDown"===i.key||n&&"ArrowRight"===i.key?(t=e.nextElementSibling,xa(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,xa(t)||(t=e.parentNode.lastElementChild)),Za.call(this,t,!0))}}),!1),is.call(this,e,"keyup",(e=>{"Return"===e.key&&Ts.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:n,badge:r=null,checked:o=!1}){const a=Wa(this.config.selectors.inputs[i]),s=Ma("button",Ra(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":o,value:e})),l=Ma("span");l.innerHTML=n,xa(r)&&l.appendChild(r),s.appendChild(l),Object.defineProperty(s,"checked",{enumerable:!0,get:()=>"true"===s.getAttribute("aria-checked"),set(e){e&&Array.from(s.parentNode.children).filter((e=>Ya(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),s.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(s,"click keyup",(t=>{if(!Qa(t)||"Space"===t.key){switch(t.preventDefault(),t.stopPropagation(),s.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Ts.showMenuPanel.call(this,"home",Qa(t))}}),i,!1),Ts.bindMenuItemShortcuts.call(this,s,i),t.appendChild(s)},formatTime(e=0,t=!1){return ba(e)?Ss(e,_s(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,i=!1){xa(e)&&ba(t)&&(e.innerText=Ts.formatTime(t,i))},updateVolume(){this.supported.ui&&(xa(this.elements.inputs.volume)&&Ts.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),xa(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){xa(e)&&(e.value=t,Ts.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!ka(e))return;let t=0;const i=(e,t)=>{const i=ba(t)?t:0,n=xa(e)?e:this.elements.display.buffer;if(xa(n)){n.value=i;const e=n.getElementsByTagName("span")[0];xa(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===e.type&&Ts.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=ka(e)?e.target:e;if(xa(t)&&"range"===t.getAttribute("type")){if(Ya(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Ts.formatTime(this.currentTime),i=Ts.formatTime(this.duration),n=Bs.get("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",e).replace("{duration}",i))}else if(Ya(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);Da.isWebkit&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!xa(this.elements.inputs.seek)||!xa(this.elements.display.seekTooltip)||0===this.duration)return;const n=this.elements.display.seekTooltip,r=`${this.config.classNames.tooltip}--visible`,o=e=>qa(n,r,e);if(this.touch)return void o(!1);let a=0;const s=this.elements.progress.getBoundingClientRect();if(ka(e))a=100/s.width*(e.pageX-s.left);else{if(!Xa(n,r))return;a=parseFloat(n.style.left,10)}a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;n.innerText=Ts.formatTime(l);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(l)));c&&n.insertAdjacentHTML("afterbegin",`${c.label}<br>`),n.style.left=`${a}%`,ka(e)&&["mouseenter","mouseleave"].includes(e.type)&&o("mouseenter"===e.type)},timeUpdate(e){const t=!xa(this.elements.display.duration)&&this.config.invertTime;Ts.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ts.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Ua(this.elements.display.currentTime,!0),void Ua(this.elements.progress,!0);xa(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=xa(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ts.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ts.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Ts.setMarkers.call(this),Ts.updateSeekTooltip.call(this)},toggleMenuButton(e,t){Ua(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const n=this.elements.settings.panels[e];let r=null,o=t;if("captions"===e)r=this.currentTrack;else{if(r=Ta(i)?this[e]:i,Ta(r)&&(r=this.config[e].default),!Ta(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn(`Unsupported value of '${r}' for ${e}`);if(!this.config[e].options.includes(r))return void this.debug.warn(`Disabled value of '${r}' for ${e}`)}if(xa(o)||(o=n&&n.querySelector('[role="menu"]')),!xa(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ts.getLabel.call(this,e,r);const a=o&&o.querySelector(`[value="${r}"]`);xa(a)&&(a.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?Bs.get("normal",this.config):`${t}&times;`;case"quality":if(ba(t)){const e=Bs.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return Es(t);case"captions":return Ds.getLabel.call(this);default:return null}},setQualityMenu(e){if(!xa(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');Ia(e)&&(this.options.quality=cs(e).filter((e=>this.config.quality.options.includes(e))));const n=!Ta(this.options.quality)&&this.options.quality.length>1;if(Ts.toggleMenuButton.call(this,t,n),ja(i),Ts.checkMenu.call(this),!n)return;const r=e=>{const t=Bs.get(`qualityBadge.${e}`,this.config);return t.length?Ts.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Ts.createMenuItem.call(this,{value:e,list:i,type:t,title:Ts.getLabel.call(this,"quality",e),badge:r(e)})})),Ts.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!xa(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=Ds.getTracks.call(this),n=Boolean(i.length);if(Ts.toggleMenuButton.call(this,e,n),ja(t),Ts.checkMenu.call(this),!n)return;const r=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:Ds.getLabel.call(this,e),badge:e.language&&Ts.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));r.unshift({value:-1,checked:!this.captions.toggled,title:Bs.get("disabled",this.config),list:t,type:"language"}),r.forEach(Ts.createMenuItem.bind(this)),Ts.updateSetting.call(this,e,t)},setSpeedMenu(){if(!xa(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!Ta(this.options.speed)&&this.options.speed.length>1;Ts.toggleMenuButton.call(this,e,i),ja(t),Ts.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Ts.createMenuItem.call(this,{value:i,list:t,type:e,title:Ts.getLabel.call(this,"speed",i)})})),Ts.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!Ta(e)&&Object.values(e).some((e=>!e.hidden));Ua(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;xa(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const n=i.querySelector('[role^="menuitem"]');Za.call(this,n,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!xa(t)||!xa(i))return;const{hidden:n}=t;let r=n;if(Ea(e))r=e;else if(Qa(e)&&"Escape"===e.key)r=!1;else if(ka(e)){const n=Ca(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(n);if(o||!o&&e.target!==i&&r)return}i.setAttribute("aria-expanded",r),Ua(t,!r),qa(this.elements.container,this.config.classNames.menu.open,r),r&&Qa(e)?Ts.focusFirstMenuItem.call(this,null,!0):r||n||Za.call(this,i,Qa(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,n=t.scrollHeight;return Ha(t),{width:i,height:n}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!xa(i))return;const n=i.parentNode,r=Array.from(n.children).find((e=>!e.hidden));if($a.transitions&&!$a.reducedMotion){n.style.width=`${r.scrollWidth}px`,n.style.height=`${r.scrollHeight}px`;const e=Ts.getMenuSize.call(this,i),t=e=>{e.target===n&&["width","height"].includes(e.propertyName)&&(n.style.width="",n.style.height="",ns.call(this,n,Pa,t))};is.call(this,n,Pa,t),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`}Ua(r,!0),Ua(i,!1),Ts.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;xa(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:n,createRange:r,createTime:o,setQualityMenu:a,setSpeedMenu:s,showMenuPanel:l}=Ts;this.elements.controls=null,Ia(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=Ma("div",Wa(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return cs(Ia(this.config.controls)?this.config.controls:[]).forEach((a=>{if("restart"===a&&c.appendChild(i.call(this,"restart",u)),"rewind"===a&&c.appendChild(i.call(this,"rewind",u)),"play"===a&&c.appendChild(i.call(this,"play",u)),"fast-forward"===a&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===a){const t=Ma("div",{class:`${u.class} plyr__progress__container`}),i=Ma("div",Wa(this.config.selectors.progress));if(i.appendChild(r.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const e=Ma("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===a&&c.appendChild(o.call(this,"currentTime",u)),"duration"===a&&c.appendChild(o.call(this,"duration",u)),"mute"===a||"volume"===a){let{volume:t}=this.elements;if(xa(t)&&c.contains(t)||(t=Ma("div",Ra({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===a&&t.appendChild(i.call(this,"mute")),"volume"===a&&!Da.isIos){const i={max:1,step:.05,value:this.config.volume};t.appendChild(r.call(this,"volume",Ra(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===a&&c.appendChild(i.call(this,"captions",u)),"settings"===a&&!Ta(this.config.settings)){const n=Ma("div",Ra({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));n.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const r=Ma("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),o=Ma("div"),a=Ma("div",{id:`plyr-settings-${e.id}-home`}),s=Ma("div",{role:"menu"});a.appendChild(s),o.appendChild(a),this.elements.settings.panels.home=a,this.config.settings.forEach((i=>{const n=Ma("button",Ra(Wa(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,n,i),is.call(this,n,"click",(()=>{l.call(this,i,!1)}));const r=Ma("span",null,Bs.get(i,this.config)),a=Ma("span",{class:this.config.classNames.menu.value});a.innerHTML=e[i],r.appendChild(a),n.appendChild(r),s.appendChild(n);const c=Ma("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),u=Ma("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(Ma("span",{"aria-hidden":!0},Bs.get(i,this.config))),u.appendChild(Ma("span",{class:this.config.classNames.hidden},Bs.get("menuBack",this.config))),is.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))}),!1),is.call(this,u,"click",(()=>{l.call(this,"home",!1)})),c.appendChild(u),c.appendChild(Ma("div",{role:"menu"})),o.appendChild(c),this.elements.settings.buttons[i]=n,this.elements.settings.panels[i]=c})),r.appendChild(o),n.appendChild(r),c.appendChild(n),this.elements.settings.popup=r,this.elements.settings.menu=n}if("pip"===a&&$a.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===a&&$a.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===a){const e=Ra({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!Sa(t)&&this.isEmbed&&Ra(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===a&&c.appendChild(i.call(this,"fullscreen",u))})),this.isHTML5&&a.call(this,vs.getQualityOptions.call(this)),s.call(this),c},inject(){if(this.config.loadSprite){const e=Ts.getIconUrl.call(this);e.cors&&Qs(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,n=!0;if(Ca(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),xa(this.config.controls)||wa(this.config.controls)?e=this.config.controls:(e=Ts.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ds.getLabel.call(this)}),n=!1),n&&wa(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=ws(i,`{${e}}`,t)})),i})(e)),wa(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),xa(i)||(i=this.elements.container),i[xa(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),xa(this.elements.controls)||Ts.findElements.call(this),!Ta(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:()=>Xa(e,t),set(i=!1){qa(e,t,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{Ia(t)||Ba(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(Da.isEdge&&Oa(i),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,n=Ka.call(this,i);Array.from(n).forEach((e=>{qa(e,this.config.classNames.hidden,!1),qa(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==i||!i.length)return;const n=document.createDocumentFragment(),r=document.createDocumentFragment();let o=null;const a=`${this.config.classNames.tooltip}--visible`,s=e=>qa(o,a,e);i.forEach((e=>{const t=Ma("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";o&&(t.addEventListener("mouseenter",(()=>{e.label||(o.style.left=i,o.innerHTML=e.label,s(!0))})),t.addEventListener("mouseleave",(()=>{s(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,r.appendChild(t)})),n.appendChild(r),this.config.tooltips.seek||(o=Ma("span",{class:this.config.classNames.tooltip},""),n.appendChild(o)),this.elements.markers={points:r,tip:o},this.elements.progress.appendChild(n)}};function Ps(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Os(e){const t=new URLSearchParams;return ya(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const Ds={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!$a.textTracks)return void(Ia(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ts.setCaptionsMenu.call(this));if(xa(this.elements.captions)||(this.elements.captions=Ma("div",Wa(this.config.selectors.captions)),function(e,t){xa(e)&&xa(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),Da.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=Ps(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&ks(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{Ha(e)}))}))}const e=cs((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===t&&([t]=e);let i=this.storage.get("captions");if(Ea(i)||({active:i}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:i,language:t,languages:e}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";is.call(this,this.media.textTracks,e,Ds.update.bind(this))}setTimeout(Ds.update.bind(this),0)},update(){const e=Ds.getTracks.call(this,!0),{active:t,language:i,meta:n,currentTrackNode:r}=this.captions,o=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!n.get(e))).forEach((e=>{this.debug.log("Track added",e),n.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),is.call(this,e,"cuechange",(()=>Ds.updateCues.call(this)))})),(o&&this.language!==i||!e.includes(r))&&(Ds.setLanguage.call(this,i),Ds.toggle.call(this,t&&o)),this.elements&&qa(this.elements.container,this.config.classNames.captions.enabled,!Ta(e)),Ia(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ts.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,n=this.config.classNames.captions.active,r=va(e)?!i:e;if(r!==i){if(t||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!t){const e=Ds.getTracks.call(this),t=Ds.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void Ds.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),qa(this.elements.container,n,r),this.captions.toggled=r,Ts.updateSetting.call(this,"captions"),os.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout((()=>{r&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=Ds.getTracks.call(this);if(-1!==e)if(ba(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const n=i[e],{language:r}=n||{};this.captions.currentTrackNode=n,Ts.updateSetting.call(this,"captions"),t||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),os.call(this,this.media,"languagechange")}Ds.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ds.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ds.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!wa(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const n=Ds.getTracks.call(this),r=Ds.findTrack.call(this,[i]);Ds.set.call(this,n.indexOf(r),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=Ds.getTracks.call(this),n=e=>Number((this.captions.meta.get(e)||{}).default),r=Array.from(i).sort(((e,t)=>n(t)-n(e)));let o;return e.every((e=>(o=r.find((t=>t.language===e)),!o))),o||(t?r[0]:void 0)},getCurrentTrack(){return Ds.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!_a(t)&&$a.textTracks&&this.captions.toggled&&(t=Ds.getCurrentTrack.call(this)),_a(t)?Ta(t.label)?Ta(t.language)?Bs.get("enabled",this.config):e.language.toUpperCase():t.label:Bs.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!xa(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!va(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=Ds.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(Cs)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){ja(this.elements.captions);const e=Ma("span",Wa(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),os.call(this,this.media,"cuechange")}}},Ns={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Rs="picture-in-picture",zs={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ls=()=>{};class Ms{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Ls}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ls}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Ls}}class Fs{constructor(e){Wo(this,"onChange",(()=>{if(!this.enabled)return;const e=this.player.elements.buttons.fullscreen;xa(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;os.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),Wo(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",qa(this.target,this.player.config.classNames.fullscreen.fallback,e),Da.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const n=wa(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!n,n||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),Wo(this,"trapFocus",(e=>{if(Da.isIos||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=Ka.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=i,r=i[i.length-1];t!==r||e.shiftKey?t===n&&e.shiftKey&&(r.focus(),e.preventDefault()):(n.focus(),e.preventDefault())})),Wo(this,"update",(()=>{if(this.enabled){let e;e=this.forceFallback?"Fallback (forced)":Fs.native?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");qa(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)})),Wo(this,"enter",(()=>{this.enabled&&(Da.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Fs.native||this.forceFallback?this.toggleFallback(!0):this.prefix?Ta(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),Wo(this,"exit",(()=>{if(this.enabled)if(Da.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),ls(this.player.play());else if(!Fs.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Ta(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),Wo(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=e,this.prefix=Fs.prefix,this.property=Fs.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(Ya.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),is.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),is.call(this.player,this.player.elements.container,"dblclick",(e=>{xa(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),is.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return Fs.native&&!this.forceFallback}static get prefix(){if(Ca(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!Ca(document[`${t}ExitFullscreen`])&&!Ca(document[`${t}CancelFullScreen`])||(e=t,0)))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(Fs.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!Fs.native||this.forceFallback)return Xa(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return Da.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function Hs(e,t=1){return new Promise(((i,n)=>{const r=new Image,o=()=>{delete r.onload,delete r.onerror,(r.naturalWidth>=t?i:n)(r)};Object.assign(r,{onload:o,onerror:o,src:e})}))}const js={addStyleHook(){qa(this.elements.container,this.config.selectors.container.replace(".",""),!0),qa(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void js.toggleNativeControls.call(this,!0);xa(this.elements.controls)||(Ts.inject.call(this),this.listeners.controls()),js.toggleNativeControls.call(this),this.isHTML5&&Ds.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ts.updateVolume.call(this),Ts.timeUpdate.call(this),Ts.durationUpdate.call(this),js.checkPlaying.call(this),qa(this.elements.container,this.config.classNames.pip.supported,$a.pip&&this.isHTML5&&this.isVideo),qa(this.elements.container,this.config.classNames.airplay.supported,$a.airplay&&this.isHTML5),qa(this.elements.container,this.config.classNames.isIos,Da.isIos),qa(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{os.call(this,this.media,"ready")}),0),js.setTitle.call(this),this.poster&&js.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Ts.durationUpdate.call(this),this.config.mediaMetadata&&Ts.setMediaMetadata.call(this)},setTitle(){let e=Bs.get("play",this.config);if(wa(this.config.title)&&!Ta(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=Ga.call(this,"iframe");if(!xa(e))return;const t=Ta(this.config.title)?"video":this.config.title,i=Bs.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){qa(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),ss.call(this).then((()=>Hs(e))).catch((t=>{throw e===this.poster&&js.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),js.togglePoster.call(this,!0),e))))},checkPlaying(e){qa(this.elements.container,this.config.classNames.playing,this.playing),qa(this.elements.container,this.config.classNames.paused,this.paused),qa(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",Bs.get(this.playing?"pause":"play",this.config))})),ka(e)&&"timeupdate"===e.type||js.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{qa(this.elements.container,this.config.classNames.loading,this.loading),js.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!Ta(e)&&wa(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),Ta(this.media.style)&&this.media.removeAttribute("style")}};class Vs{constructor(e){Wo(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,qa(t.container,e.config.classNames.isTouch,!0)})),Wo(this,"setTabFocus",(e=>{const{player:t}=this,{elements:i}=t,{key:n,type:r,timeStamp:o}=e;if(clearTimeout(this.focusTimer),"keydown"===r&&"Tab"!==n)return;"keydown"===r&&(this.lastKeyDown=o);const a=o-this.lastKeyDown<=20;("focus"!==r||a)&&((()=>{const e=t.config.classNames.tabFocus;qa(Ka.call(t,`.${e}`),e,!1)})(),"focusout"!==r&&(this.focusTimer=setTimeout((()=>{const e=document.activeElement;i.container.contains(e)&&qa(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))})),Wo(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&ts.call(t,window,"keydown keyup",this.handleKey,e,!1),ts.call(t,document.body,"click",this.toggleMenu,e),rs.call(t,document.body,"touchstart",this.firstTouch),ts.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)})),Wo(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:n}=e;!t.keyboard.global&&t.keyboard.focused&&is.call(e,i.container,"keydown keyup",this.handleKey,!1),is.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:r}=i;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);let o=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(js.toggleControls.call(e,!0),o=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout((()=>js.toggleControls.call(e,!1)),o)}));const r=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:n}=e.fullscreen,[r,o]=fs.call(e),a=hs(`aspect-ratio: ${r} / ${o}`);if(!n)return void(a?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[s,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=s/l>r/o;a?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?l/o*r+"px":null,t.style.margin=c?"0 auto":null)},o=()=>{clearTimeout(n.resized),n.resized=setTimeout(r,50)};is.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:n}=e.fullscreen;n===i.container&&(!e.isEmbed&&Ta(e.config.ratio)||(r(),("enterfullscreen"===t.type?is:ns).call(e,window,"resize",o)))}))})),Wo(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(is.call(e,e.media,"timeupdate seeking seeked",(t=>Ts.timeUpdate.call(e,t))),is.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Ts.durationUpdate.call(e,t))),is.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),is.call(e,e.media,"progress playing seeking seeked",(t=>Ts.updateProgress.call(e,t))),is.call(e,e.media,"volumechange",(t=>Ts.updateVolume.call(e,t))),is.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>js.checkPlaying.call(e,t))),is.call(e,e.media,"waiting canplay seeked playing",(t=>js.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=Ga.call(e,`.${e.config.classNames.video}`);if(!xa(i))return;is.call(e,t.container,"click",(n=>{([t.container,i].includes(n.target)||i.contains(n.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(n,e.restart,"restart"),this.proxy(n,(()=>{ls(e.play())}),"play")):this.proxy(n,(()=>{ls(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&is.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),is.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),is.call(e,e.media,"ratechange",(()=>{Ts.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),is.call(e,e.media,"qualitychange",(t=>{Ts.updateSetting.call(e,"quality",null,t.detail.quality)})),is.call(e,e.media,"ready qualitychange",(()=>{Ts.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");is.call(e,e.media,i,(i=>{let{detail:n={}}=i;"error"===i.type&&(n=e.media.error),os.call(e,t.container,i.type,!0,n)}))})),Wo(this,"proxy",((e,t,i)=>{const{player:n}=this,r=n.config.listeners[i];let o=!0;Ca(r)&&(o=r.call(n,e)),!1!==o&&Ca(t)&&t.call(n,e)})),Wo(this,"bind",((e,t,i,n,r=!0)=>{const{player:o}=this,a=o.config.listeners[n],s=Ca(a);is.call(o,e,t,(e=>this.proxy(e,i,n)),r&&!s)})),Wo(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=Da.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ls(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{os.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Ts.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{["Space","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Ts.toggleMenu.call(e,t)):Ts.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Ts.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),n=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",n)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,n="play-on-seeked";if(Qa(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const r=i.hasAttribute(n),o=["mouseup","touchend","keyup"].includes(t.type);r&&o?(i.removeAttribute(n),ls(e.play())):!o&&e.playing&&(i.setAttribute(n,""),e.pause())})),Da.isIos){const t=Ka.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>Oa(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let n=i.getAttribute("seek-value");Ta(n)&&(n=i.value),i.removeAttribute("seek-value"),e.currentTime=n/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Ts.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),Da.isWebkit&&Array.from(Ka.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Ts.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!xa(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Ts.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:n}=e;qa(t.controls,i.classNames.noTransition,!0),js.toggleControls.call(e,!0),setTimeout((()=>{qa(t.controls,i.classNames.noTransition,!1)}),0);const r=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout((()=>js.toggleControls.call(e,!1)),r)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[n,r]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),o=Math.sign(Math.abs(n)>Math.abs(r)?n:r);e.increaseVolume(o/50);const{volume:a}=e.media;(1===o&&a<1||-1===o&&a>0)&&t.preventDefault()}),"volume",!1)})),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:n,type:r,altKey:o,ctrlKey:a,metaKey:s,shiftKey:l}=e,c="keydown"===r,u=c&&n===this.lastKey;var h;if(!(o||a||s||l)&&n)if(c){const r=document.activeElement;if(xa(r)){const{editable:n}=t.config.selectors,{seek:o}=i.inputs;if(r!==o&&Ya(r,n))return;if("Space"===e.key&&Ya(r,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(n,10),t.currentTime=t.duration/10*h);break;case"Space":case"k":u||ls(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(e){Ts.toggleMenu.call(this.player,e)}}var Ws=function(e,t){return function(e,t){e.exports=function(){var e=function(){},t={},i={},n={};function r(e,t){if(e){var r=n[e];if(i[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function o(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function a(t,i,n,r){var o,s,l=document,c=n.async,u=(n.numRetries||0)+1,h=n.before||e,d=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(d)?((s=l.createElement("link")).rel="stylesheet",s.href=p,(o="hideFocus"in s)&&s.relList&&(o=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(s=l.createElement("img")).src=p:((s=l.createElement("script")).src=t,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(o)try{s.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((r+=1)<u)return a(t,i,n,r)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";i(t,l,e.defaultPrevented)},!1!==h(t,s)&&l.head.appendChild(s)}function s(e,t,i){var n,r,o=(e=e.push?e:[e]).length,s=o,l=[];for(n=function(e,i,n){if("e"==i&&l.push(e),"b"==i){if(!n)return;l.push(e)}--o||t(l)},r=0;r<s;r++)a(e[r],n,i)}function l(e,i,n){var a,l;if(i&&i.trim&&(a=i),l=(a?n:i)||{},a){if(a in t)throw"LoadJS";t[a]=!0}function c(t,i){s(e,(function(e){o(l,e),t&&o({success:t,error:i},e),r(a,e)}),l)}if(l.returnPromise)return new Promise(c);c()}return l.ready=function(e,t){return function(e,t){e=e.push?e:[e];var r,o,a,s=[],l=e.length,c=l;for(r=function(e,i){i.length&&s.push(e),--c||t(s)};l--;)o=e[l],(a=i[o])?r(o,a):(n[o]=n[o]||[]).push(r)}(e,(function(e){o(t,e)})),l},l.done=function(e){r(e,[])},l.reset=function(){t={},i={},n={}},l.isDefined=function(e){return e in t},l}()}(t={exports:{}}),t.exports}();function Us(e){return new Promise(((t,i)=>{Ws(e,{success:t,error:i})}))}function qs(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,os.call(this,this.media,e?"play":"pause"))}const Xs={setup(){const e=this;qa(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,As.call(e),ya(window.Vimeo)?Xs.ready.call(e):Us(e.config.urls.vimeo.sdk).then((()=>{Xs.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:n,...r}=t;let o=e.media.getAttribute("src"),a="";Ta(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),a=e.media.getAttribute(e.config.attributes.embed.hash)):a=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(o);const s=a?{h:a}:{};i&&Object.assign(r,{controls:!1,sidedock:!1});const l=Os({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...s,...r}),c=function(e){return Ta(e)?null:ba(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}(o),u=Ma("iframe"),h=bs(e.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Ta(n)||u.setAttribute("referrerPolicy",n),i||!t.customControls)u.setAttribute("data-poster",e.poster),e.media=Va(u,e.media);else{const t=Ma("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(u),e.media=Va(t,e.media)}t.customControls||ks(bs(e.config.urls.vimeo.api,h)).then((t=>{!Ta(t)&&t.thumbnail_url&&js.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(u,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(qs.call(e,!0),e.embed.play()),e.media.pause=()=>(qs.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:d}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>d,set(t){const{embed:i,media:n,paused:r,volume:o}=e,a=r&&!i.hasPlayed;n.seeking=!0,os.call(e,n,"seeking"),Promise.resolve(a&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>a&&i.pause())).then((()=>a&&i.setVolume(o))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,os.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:g}=e.config;Object.defineProperty(e.media,"volume",{get:()=>g,set(t){e.embed.setVolume(t).then((()=>{g=t,os.call(e,e.media,"volumechange")}))}});let{muted:f}=e.config;Object.defineProperty(e.media,"muted",{get:()=>f,set(t){const i=!!Ea(t)&&t;e.embed.setVolume(i?0:e.config.volume).then((()=>{f=i,os.call(e,e.media,"volumechange")}))}});let A,{loop:m}=e.config;Object.defineProperty(e.media,"loop",{get:()=>m,set(t){const i=Ea(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{m=i}))}}),e.embed.getVideoUrl().then((t=>{A=t,Ts.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>A}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,n]=t;e.embed.ratio=ms(i,n),As.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,js.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{d=t,os.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,os.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,Ds.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));Ds.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((t=>{qs.call(e,!t),t||os.call(e,e.media,"playing")})),xa(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{os.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{os.call(e,e.media,"playing")})),e.embed.on("play",(()=>{qs.call(e,!0),os.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{qs.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,d=t.seconds,os.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,os.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&os.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,os.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,os.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,os.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,os.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>js.build.call(e)),0)}};function Ys(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,os.call(this,this.media,e?"play":"pause"))}function Ks(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Gs={setup(){if(qa(this.elements.wrapper,this.config.classNames.embed,!0),ya(window.YT)&&Ca(window.YT.Player))Gs.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Ca(e)&&e(),Gs.ready.call(this)},Us(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){ks(bs(this.config.urls.youtube.api,e)).then((e=>{if(ya(e)){const{title:t,height:i,width:n}=e;this.config.title=t,js.setTitle.call(this),this.embed.ratio=ms(n,i)}As.call(this)})).catch((()=>{As.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!Ta(i)&&i.startsWith("youtube-"))return;let n=e.media.getAttribute("src");Ta(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));const r=function(e){return Ta(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}(n),o=Ma("div",{id:ys(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=Va(o,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${r}/${e}default.jpg`;Hs(t("maxres"),121).catch((()=>Hs(t("sd"),121))).catch((()=>Hs(t("hq")))).then((t=>js.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:r,host:Ks(t),playerVars:Ra({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";e.media.error={code:i,message:n},os.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),os.call(e,e.media,"ratechange")},onReady(i){if(Ca(e.media.play))return;const n=i.target;Gs.getTitle.call(e,r),e.media.play=()=>{Ys.call(e,!0),n.playVideo()},e.media.pause=()=>{Ys.call(e,!1),n.pauseVideo()},e.media.stop=()=>{n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,os.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(e){n.setPlaybackRate(e)}});let{volume:o}=e.config;Object.defineProperty(e.media,"volume",{get:()=>o,set(t){o=t,n.setVolume(100*o),os.call(e,e.media,"volumechange")}});let{muted:a}=e.config;Object.defineProperty(e.media,"muted",{get:()=>a,set(t){const i=Ea(t)?t:a;a=i,n[i?"mute":"unMute"](),n.setVolume(100*o),os.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const s=n.getAvailablePlaybackRates();e.options.speed=s.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),os.call(e,e.media,"timeupdate"),os.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&os.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),os.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>js.build.call(e)),50)},onStateChange(i){const n=i.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,os.call(e,e.media,"seeked")),i.data){case-1:os.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),os.call(e,e.media,"progress");break;case 0:Ys.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):os.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ys.call(e,!0),os.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{os.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),os.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ys.call(e,!1);break;case 3:os.call(e,e.media,"waiting")}os.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},Zs={setup(){this.media?(qa(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),qa(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&qa(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Ma("div",{class:this.config.classNames.video}),za(this.media,this.elements.wrapper),this.elements.poster=Ma("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?vs.setup.call(this):this.isYouTube?Gs.setup.call(this):this.isVimeo&&Xs.setup.call(this)):this.debug.warn("No media element found!")}};class Js{constructor(e){Wo(this,"load",(()=>{this.enabled&&(ya(window.google)&&ya(window.google.ima)?this.ready():Us(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),Wo(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),Wo(this,"setupIMA",(()=>{this.elements.container=Ma("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),Wo(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),Wo(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Ss(Math.max(this.manager.getRemainingTime(),0)),t=`${Bs.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),Wo(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),Wo(this,"addCuePoints",(()=>{Ta(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(xa(t)){const i=100/this.player.duration*e,n=Ma("span",{class:this.player.config.classNames.cues});n.style.left=`${i.toString()}%`,t.appendChild(n)}}}))})),Wo(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,i=e.getAd(),n=e.getAdData();switch((e=>{os.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`)}})),Wo(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),Wo(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;Ta(this.cuePoints)||this.cuePoints.forEach(((i,n)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),Wo(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),Wo(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,ls(this.player.media.play())})),Wo(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),Wo(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),Wo(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),Wo(this,"trigger",((e,...t)=>{const i=this.events[e];Ia(i)&&i.forEach((e=>{Ca(e)&&e.apply(this,t)}))})),Wo(this,"on",((e,t)=>(Ia(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),Wo(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),Wo(this,"clearSafetyTimer",(e=>{va(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Ta(e.publisherId)||Sa(e.tagUrl))}get tagUrl(){const{config:e}=this;return Sa(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Os({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function $s(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const el=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(ba(i.startTime)){if(!Ta(e.trim())&&Ta(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},tl=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class il{constructor(e){Wo(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)}))})),Wo(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(Ta(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(Ca(t))t((e=>{this.thumbnails=e,i()}));else{const e=(wa(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),Wo(this,"getThumbnail",(e=>new Promise((t=>{ks(e).then((i=>{const n={frames:el(i),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const r=new Image;r.onload=()=>{n.height=r.naturalHeight,n.width=r.naturalWidth,this.thumbnails.push(n),t()},r.src=n.urlPrefix+n.frames[0].text}))})))),Wo(this,"startMove",(e=>{if(this.loaded&&ka(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const n=this.player.elements.progress.getBoundingClientRect(),r=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(r/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ss(this.seekTime);const o=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));o&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${o.label}<br>`)}this.showImageAtCurrentTime()}})),Wo(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),Wo(this,"startScrubbing",(e=>{(va(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),Wo(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):rs.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),Wo(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),Wo(this,"render",(()=>{this.elements.thumb.container=Ma("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Ma("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=Ma("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Ma("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),xa(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Ma("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),Wo(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),Wo(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,n)=>{this.loadedImages.includes(t.frames[e].text)&&(i=n)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),Wo(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:n}=i,r=i.frames[t],o=i.frames[t].text,a=n+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,r,e,t,o,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=a,i.dataset.index=t,i.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log(`Loading image: ${a}`),i.onload=()=>this.showImage(i,r,e,t,o,!0),this.loadingImage=i,this.removeOldImages(i)}})),Wo(this,"showImage",((e,t,i,n,r,o=!0)=>{this.player.debug.log(`Showing thumb: ${r}. num: ${n}. qual: ${i}. newimg: ${o}`),this.setImageSizeAndOffset(e,t),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,e,t,r))})),Wo(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),Wo(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const n=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===n){let r;r=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let o=!1;r.forEach((e=>{const t=e.text;if(t!==n&&!this.loadedImages.includes(t)){o=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],n=e+t,r=new Image;r.src=n,r.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),o||i()}}),300)})))),Wo(this,"getHigherQuality",((e,t,i,n)=>{if(e<this.thumbnails.length-1){let r=t.naturalHeight;this.usingSprites&&(r=i.h),r<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(e+1))}),300)}})),Wo(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),Wo(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),Wo(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),Wo(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),Wo(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,n=t.left-e.left+10,r=t.right-e.left-i.clientWidth-10,o=this.mousePosX-e.left-i.clientWidth/2,a=$s(o,n,r);i.style.left=`${a}px`,i.style.setProperty("--preview-arrow-offset",o-a+"px")})),Wo(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=tl(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),Wo(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=tl(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const nl={insertElements(e,t){wa(t)?Fa(e,this.media,{src:t}):Ia(t)&&t.forEach((t=>{Fa(e,this.media,t)}))},change(e){Na(e,"sources.length")?(vs.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],Ha(this.media),this.media=null,xa(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:n=zs.html5,src:r}]=t,o="html5"===n?i:"div",a="html5"===n?{}:{src:r};Object.assign(this,{provider:n,type:i,supported:$a.check(i,n,this.config.playsinline),media:Ma(o,a)}),this.elements.container.appendChild(this.media),Ea(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Ta(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),js.addStyleHook.call(this),this.isHTML5&&nl.insertElements.call(this,"source",t),this.config.title=e.title,Zs.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&nl.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&js.build.call(this),this.isHTML5&&this.media.load(),Ta(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new il(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class rl{constructor(e,t){if(Wo(this,"play",(()=>Ca(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ls(this.media.play()))),this.media.play()):null)),Wo(this,"pause",(()=>this.playing&&Ca(this.media.pause)?this.media.pause():null)),Wo(this,"togglePlay",(e=>(Ea(e)?e:!this.playing)?this.play():this.pause())),Wo(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):Ca(this.media.stop)&&this.media.stop()})),Wo(this,"restart",(()=>{this.currentTime=0})),Wo(this,"rewind",(e=>{this.currentTime-=ba(e)?e:this.config.seekTime})),Wo(this,"forward",(e=>{this.currentTime+=ba(e)?e:this.config.seekTime})),Wo(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(ba(e)?e:0)})),Wo(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),Wo(this,"airplay",(()=>{$a.airplay&&this.media.webkitShowPlaybackTargetPicker()})),Wo(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=Xa(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=qa(this.elements.container,this.config.classNames.hideControls,i);if(n&&Ia(this.config.controls)&&this.config.controls.includes("settings")&&!Ta(this.config.settings)&&Ts.toggleMenu.call(this,!1),n!==t){const e=n?"controlshidden":"controlsshown";os.call(this,this.media,e)}return!n}return!1})),Wo(this,"on",((e,t)=>{is.call(this,this.elements.container,e,t)})),Wo(this,"once",((e,t)=>{rs.call(this,this.elements.container,e,t)})),Wo(this,"off",((e,t)=>{ns(this.elements.container,e,t)})),Wo(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(Ha(this.elements.buttons.play),Ha(this.elements.captions),Ha(this.elements.controls),Ha(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Ca(e)&&e()):(as.call(this),vs.cancelRequests.call(this),Va(this.elements.original,this.elements.container),os.call(this,this.elements.original,"destroyed",!0),Ca(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(js.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&Ca(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),Wo(this,"supports",(e=>$a.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=$a.touch,this.media=e,wa(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Ba(this.media)||Ia(this.media))&&(this.media=this.media[0]),this.config=Ra({},Ns,rl.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Ms(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",$a),va(this.media)||!xa(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!$a.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const n=this.media.tagName.toLowerCase();let r=null,o=null;switch(n){case"div":if(r=this.media.querySelector("iframe"),xa(r)){if(o=Ps(r.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?zs.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?zs.vimeo:null}(o.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",o.search.length){const e=["1","true"];e.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Ta(this.provider)||!Object.values(zs).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=n,this.provider=zs.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=$a.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Vs(this),this.storage=new xs(this),this.media.plyr=this,xa(this.elements.container)||(this.elements.container=Ma("div",{tabindex:0}),za(this.media,this.elements.container)),js.migrateStyles.call(this),js.addStyleHook.call(this),Zs.setup.call(this),this.config.debug&&is.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new Fs(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&js.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Js(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ls(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new il(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===zs.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===zs.youtube}get isVimeo(){return this.provider===zs.vimeo}get isVideo(){return"video"===this.type}get isAudio(){return"audio"===this.type}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=ba(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return ba(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=ba(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;wa(t)&&(t=Number(t)),ba(t)||(t=this.storage.get("volume")),ba(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Ta(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;Ea(t)||(t=this.storage.get("muted")),Ea(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;ba(e)&&(t=e),ba(t)||(t=this.storage.get("speed")),ba(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;t=$s(t,i,n),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!Ta(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(ba),r=!0;if(!i.includes(n)){const e=us(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${e} instead`),n=e,r=!1}t.selected=n,this.media.quality=n,r&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const t=Ea(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){nl.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return Sa(e)?e:this.source}set download(e){Sa(e)&&(this.config.urls.download=e,Ts.setDownloadUrl.call(this))}set poster(e){this.isVideo?js.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=gs(fs.call(this));return Ia(e)?e.join(":"):e}set ratio(e){this.isVideo?wa(e)&&ps(e)?(this.config.ratio=gs(e),As.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=Ea(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){Ds.toggle.call(this,e,!1)}set currentTrack(e){Ds.set.call(this,e,!1),Ds.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){Ds.setLanguage.call(this,e,!1)}get language(){return(Ds.getCurrentTrack.call(this)||{}).language}set pip(e){if(!$a.pip)return;const t=Ea(e)?e:!this.pip;Ca(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Rs:"inline"),Ca(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return $a.pip?Ta(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Rs:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new il(this))}static supported(e,t,i){return $a.check(e,t,i)}static loadSprite(e,t){return Qs(e,t)}static setup(e,t={}){let i=null;return wa(e)?i=Array.from(document.querySelectorAll(e)):Ba(e)?i=Array.from(e):Ia(e)&&(i=e.filter(xa)),Ta(i)?null:i.map((e=>new rl(e,t)))}}function ol(){return ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ol.apply(this,arguments)}rl.defaults=function(e){return JSON.parse(JSON.stringify(e))}(Ns);var al=function(e,t){var i=t.options,n=t.source,r=new rl(".plyr-react",i||{});return r.source=n,r},sl=function(e){e&&e.destroy()},ll=function(){},cl=function(e){return e?function(){return{plyr:e}}:function(){return new Proxy({plyr:{source:null}},{get:function(e,t){return"plyr"===t?e[t]:ll}})}},ul=c.default.forwardRef((function(e,t){var i=e.source,n=e.options,r=void 0===n?null:n,o=function(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}(e,["source","options"]),a=function(e,t,i){void 0===i&&(i=[]);var n=l.useState(null),r=n[0],o=n[1],a=l.useRef(null),s=t.instantiate,c=t.destroy,u=t.getAPI,h=t.params;l.useEffect((function(){var e=s(a.current,h);return o(e),function(){c&&c(e,h)}}),i);var d=l.useMemo((function(){return u(r,h)}),[r]);return l.useImperativeHandle(e,d,[d]),a}(t,{instantiate:al,getAPI:cl,destroy:sl,params:{options:r,source:i}},[r,i]);return c.default.createElement("video",ol({ref:a,className:"plyr-react plyr"},o))}));ul.displayName="Plyr",ul.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}};const hl=()=>c.default.createElement("svg",{className:"spinner",width:"48px",height:"48px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},c.default.createElement("circle",{cx:"50",cy:"50",fill:"none",stroke:"#e2e2e2",strokeWidth:"13",r:"40",strokeDasharray:"188.49555921538757 64.83185307179586"},c.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})));var dl={},pl={},gl={},fl={},Al={exports:{}},ml={exports:{}},vl=function(e){return null!=e},yl=vl,bl={object:!0,function:!0,undefined:!0},wl=function(e){if(!function(e){return!!yl(e)&&hasOwnProperty.call(bl,typeof e)}(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}},El=/^\s*class[\s{/}]/,Cl=Function.prototype.toString,Il=function(e){return null!=e},Bl=Il,xl=Object.keys,kl=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}()?Object.keys:function(e){return xl(Bl(e)?Object(e):e)},Ql=Il,_l=kl,Sl=function(e){if(!Ql(e))throw new TypeError("Cannot use null or undefined");return e},Tl=Math.max,Pl=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}()?Object.assign:function(e,t){var i,n,r,o=Tl(arguments.length,2);for(e=Object(Sl(e)),r=function(n){try{e[n]=t[n]}catch(e){i||(i=e)}},n=1;n<o;++n)_l(t=arguments[n]).forEach(r);if(void 0!==i)throw i;return e},Ol=Il,Dl=Array.prototype.forEach,Nl=Object.create,Rl=function(e,t){var i;for(i in e)t[i]=e[i]},zl="razdwatrzy",Ll=String.prototype.indexOf,Ml="function"==typeof zl.contains&&!0===zl.contains("dwa")&&!1===zl.contains("foo")?String.prototype.contains:function(e){return Ll.call(this,e,arguments[1])>-1},Fl=vl,Hl=function(e){return!!function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!wl(e)}(e)&&!El.test(Cl.call(e))},jl=Pl,Vl=function(e){var t=Nl(null);return Dl.call(arguments,(function(e){Ol(e)&&Rl(Object(e),t)})),t},Wl=Ml,Ul=ml.exports=function(e,t){var i,n,r,o,a;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],Fl(e)?(i=Wl.call(e,"c"),n=Wl.call(e,"e"),r=Wl.call(e,"w")):(i=r=!0,n=!1),a={value:t,configurable:i,enumerable:n,writable:r},o?jl(Vl(o),a):a};Ul.gs=function(e,t,i){var n,r,o,a;return"string"!=typeof e?(o=i,i=t,t=e,e=null):o=arguments[3],Fl(t)?Hl(t)?Fl(i)?Hl(i)||(o=i,i=void 0):i=void 0:(o=t,t=i=void 0):t=void 0,Fl(e)?(n=Wl.call(e,"c"),r=Wl.call(e,"e")):(n=!0,r=!1),a={get:t,set:i,configurable:n,enumerable:r},o?jl(Vl(o),a):a};var ql=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e};!function(e,t){var i,n,r,o,a,s,l,c=ml.exports,u=ql,h=Function.prototype.apply,d=Function.prototype.call,p=Object.create,g=Object.defineProperty,f=Object.defineProperties,A=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var i;return u(t),A.call(this,"__ee__")?i=this.__ee__:(i=m.value=p(null),g(this,"__ee__",m),m.value=null),i[e]?"object"==typeof i[e]?i[e].push(t):i[e]=[i[e],t]:i[e]=t,this},n=function(e,t){var n,o;return u(t),o=this,i.call(this,e,n=function(){r.call(o,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},r=function(e,t){var i,n,r,o;if(u(t),!A.call(this,"__ee__"))return this;if(!(i=this.__ee__)[e])return this;if("object"==typeof(n=i[e]))for(o=0;r=n[o];++o)r!==t&&r.__eeOnceListener__!==t||(2===n.length?i[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete i[e];return this},o=function(e){var t,i,n,r,o;if(A.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(i=arguments.length,o=new Array(i-1),t=1;t<i;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;n=r[t];++t)h.call(n,this,o)}else switch(arguments.length){case 1:d.call(r,this);break;case 2:d.call(r,this,arguments[1]);break;case 3:d.call(r,this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),t=1;t<i;++t)o[t-1]=arguments[t];h.call(r,this,o)}},a={on:i,once:n,off:r,emit:o},s={on:c(i),once:c(n),off:c(r),emit:c(o)},l=f({},s),e.exports=t=function(e){return null==e?p(l):f(Object(e),s)},t.methods=a}(Al,Al.exports);var Xl={},Yl={},Kl={},Gl={};function Zl(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var Jl=Zl({HTML:"text/html",isHTML:function(e){return e===Jl.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),$l=Zl({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===$l.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Gl.freeze=Zl,Gl.MIME_TYPE=Jl,Gl.NAMESPACE=$l;var ec=Gl.NAMESPACE;function tc(e){return""!==e}function ic(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function nc(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(tc):[]}(e);return Object.keys(t.reduce(ic,{}))}function rc(e,t){for(var i in e)t[i]=e[i]}function oc(e,t){var i=e.prototype;if(!(i instanceof t)){function n(){}n.prototype=t.prototype,rc(i,n=new n),e.prototype=i=n}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var ac={},sc=ac.ELEMENT_NODE=1,lc=ac.ATTRIBUTE_NODE=2,cc=ac.TEXT_NODE=3,uc=ac.CDATA_SECTION_NODE=4,hc=ac.ENTITY_REFERENCE_NODE=5,dc=ac.ENTITY_NODE=6,pc=ac.PROCESSING_INSTRUCTION_NODE=7,gc=ac.COMMENT_NODE=8,fc=ac.DOCUMENT_NODE=9,Ac=ac.DOCUMENT_TYPE_NODE=10,mc=ac.DOCUMENT_FRAGMENT_NODE=11,vc=ac.NOTATION_NODE=12,yc={},bc={};yc.INDEX_SIZE_ERR=(bc[1]="Index size error",1),yc.DOMSTRING_SIZE_ERR=(bc[2]="DOMString size error",2);var wc=yc.HIERARCHY_REQUEST_ERR=(bc[3]="Hierarchy request error",3);yc.WRONG_DOCUMENT_ERR=(bc[4]="Wrong document",4),yc.INVALID_CHARACTER_ERR=(bc[5]="Invalid character",5),yc.NO_DATA_ALLOWED_ERR=(bc[6]="No data allowed",6),yc.NO_MODIFICATION_ALLOWED_ERR=(bc[7]="No modification allowed",7);var Ec=yc.NOT_FOUND_ERR=(bc[8]="Not found",8);yc.NOT_SUPPORTED_ERR=(bc[9]="Not supported",9);var Cc=yc.INUSE_ATTRIBUTE_ERR=(bc[10]="Attribute in use",10);function Ic(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,bc[e]),this.message=bc[e],Error.captureStackTrace&&Error.captureStackTrace(this,Ic);return i.code=e,t&&(this.message=this.message+": "+t),i}function Bc(){}function xc(e,t){this._node=e,this._refresh=t,kc(this)}function kc(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);au(e,"length",i.length),rc(i,e),e._inc=t}}function Qc(){}function _c(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function Sc(e,t,i,n){if(n?t[_c(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var r=e.ownerDocument;r&&(n&&zc(r,e,n),function(e,t,i){e&&e._inc++,i.namespaceURI===ec.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}(r,e,i))}}function Tc(e,t,i){var n=_c(t,i);if(!(n>=0))throw Ic(Ec,new Error(e.tagName+"@"+i));for(var r=t.length-1;n<r;)t[n]=t[++n];if(t.length=r,e){var o=e.ownerDocument;o&&(zc(o,e,i),i.ownerElement=null)}}function Pc(){}function Oc(){}function Dc(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function Nc(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Nc(e,t))return!0}while(e=e.nextSibling)}function Rc(){}function zc(e,t,i,n){e&&e._inc++,i.namespaceURI===ec.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function Lc(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var r=t.firstChild,o=0;r;)n[o++]=r,r=r.nextSibling;n.length=o}}}function Mc(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,Lc(e.ownerDocument,e),t}function Fc(e,t,i){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===mc){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;var a=i?i.previousSibling:e.lastChild;r.previousSibling=a,o.nextSibling=i,a?a.nextSibling=r:e.firstChild=r,null==i?e.lastChild=o:i.previousSibling=o;do{r.parentNode=e}while(r!==o&&(r=r.nextSibling));return Lc(e.ownerDocument||e,e),t.nodeType==mc&&(t.firstChild=t.lastChild=null),t}function Hc(){this._nsMap={}}function jc(){}function Vc(){}function Wc(){}function Uc(){}function qc(){}function Xc(){}function Yc(){}function Kc(){}function Gc(){}function Zc(){}function Jc(){}function $c(){}function eu(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&null==r&&null==(r=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return nu(this,i,e,t,a),i.join("")}function tu(e,t,i){var n=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===n&&r===ec.XML||r===ec.XMLNS)return!1;for(var o=i.length;o--;){var a=i[o];if(a.prefix===n)return a.namespace!==r}return!0}function iu(e,t,i){e.push(" ",t,'="',i.replace(/[<&"]/g,Dc),'"')}function nu(e,t,i,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case sc:var o=e.attributes,a=o.length,s=e.firstChild,l=e.tagName,c=l;if(!(i=ec.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var u,h=0;h<o.length;h++)if("xmlns"===o.item(h).name){u=o.item(h).value;break}if(!u)for(var d=r.length-1;d>=0;d--)if(""===(p=r[d]).prefix&&p.namespace===e.namespaceURI){u=p.namespace;break}if(u!==e.namespaceURI)for(d=r.length-1;d>=0;d--){var p;if((p=r[d]).namespace===e.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}}t.push("<",c);for(var g=0;g<a;g++)"xmlns"==(f=o.item(g)).prefix?r.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&r.push({prefix:"",namespace:f.value});for(g=0;g<a;g++){var f,A,m;tu(f=o.item(g),0,r)&&(iu(t,(A=f.prefix||"")?"xmlns:"+A:"xmlns",m=f.namespaceURI),r.push({prefix:A,namespace:m})),nu(f,t,i,n,r)}if(l===c&&tu(e,0,r)&&(iu(t,(A=e.prefix||"")?"xmlns:"+A:"xmlns",m=e.namespaceURI),r.push({prefix:A,namespace:m})),s||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;s;)s.data?t.push(s.data):nu(s,t,i,n,r.slice()),s=s.nextSibling;else for(;s;)nu(s,t,i,n,r.slice()),s=s.nextSibling;t.push("</",c,">")}else t.push("/>");return;case fc:case mc:for(s=e.firstChild;s;)nu(s,t,i,n,r.slice()),s=s.nextSibling;return;case lc:return iu(t,e.name,e.value);case cc:return t.push(e.data.replace(/[<&]/g,Dc).replace(/]]>/g,"]]&gt;"));case uc:return t.push("<![CDATA[",e.data,"]]>");case gc:return t.push("\x3c!--",e.data,"--\x3e");case Ac:var v=e.publicId,y=e.systemId;if(t.push("<!DOCTYPE ",e.name),v)t.push(" PUBLIC ",v),y&&"."!=y&&t.push(" ",y),t.push(">");else if(y&&"."!=y)t.push(" SYSTEM ",y,">");else{var b=e.internalSubset;b&&t.push(" [",b,"]"),t.push(">")}return;case pc:return t.push("<?",e.target," ",e.data,"?>");case hc:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ru(e,t,i){var n;switch(t.nodeType){case sc:(n=t.cloneNode(!1)).ownerDocument=e;case mc:break;case lc:i=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,i)for(var r=t.firstChild;r;)n.appendChild(ru(e,r,i)),r=r.nextSibling;return n}function ou(e,t,i){var n=new t.constructor;for(var r in t){var o=t[r];"object"!=typeof o&&o!=n[r]&&(n[r]=o)}switch(t.childNodes&&(n.childNodes=new Bc),n.ownerDocument=e,n.nodeType){case sc:var a=t.attributes,s=n.attributes=new Qc,l=a.length;s._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(ou(e,a.item(c),!0));break;case lc:i=!0}if(i)for(var u=t.firstChild;u;)n.appendChild(ou(e,u,i)),u=u.nextSibling;return n}function au(e,t,i){e[t]=i}yc.INVALID_STATE_ERR=(bc[11]="Invalid state",11),yc.SYNTAX_ERR=(bc[12]="Syntax error",12),yc.INVALID_MODIFICATION_ERR=(bc[13]="Invalid modification",13),yc.NAMESPACE_ERR=(bc[14]="Invalid namespace",14),yc.INVALID_ACCESS_ERR=(bc[15]="Invalid access",15),Ic.prototype=Error.prototype,rc(yc,Ic),Bc.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)nu(this[n],i,e,t);return i.join("")}},xc.prototype.item=function(e){return kc(this),this[e]},oc(xc,Bc),Qc.prototype={length:0,item:Bc.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Ic(Cc);var i=this.getNamedItem(e.nodeName);return Sc(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new Ic(Cc);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Sc(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return Tc(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return Tc(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},Pc.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var n=new Rc;if(n.implementation=this,n.childNodes=new Bc,n.doctype=i||null,i&&n.appendChild(i),t){var r=n.createElementNS(e,t);n.appendChild(r)}return n},createDocumentType:function(e,t,i){var n=new Xc;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},Oc.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Fc(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return Mc(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ou(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==cc&&e.nodeType==cc?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(i[n]==e)return n;t=t.nodeType==lc?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=t.nodeType==lc?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},rc(ac,Oc),rc(ac,Oc.prototype),Rc.prototype={nodeName:"#document",nodeType:fc,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==mc){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return null==this.documentElement&&e.nodeType==sc&&(this.documentElement=e),Fc(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),Mc(this,e)},importNode:function(e,t){return ru(this,e,t)},getElementById:function(e){var t=null;return Nc(this.documentElement,(function(i){if(i.nodeType==sc&&i.getAttribute("id")==e)return t=i,!0})),t},getElementsByClassName:function(e){var t=nc(e);return new xc(this,(function(i){var n=[];return t.length>0&&Nc(i.documentElement,(function(r){if(r!==i&&r.nodeType===sc){var o=r.getAttribute("class");if(o){var a=e===o;if(!a){var s=nc(o);a=t.every((l=s,function(e){return l&&-1!==l.indexOf(e)}))}a&&n.push(r)}}var l})),n}))},createElement:function(e){var t=new Hc;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Bc,(t.attributes=new Qc)._ownerElement=t,t},createDocumentFragment:function(){var e=new Zc;return e.ownerDocument=this,e.childNodes=new Bc,e},createTextNode:function(e){var t=new Wc;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Uc;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new qc;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new Jc;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new jc;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Gc;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new Hc,n=t.split(":"),r=i.attributes=new Qc;return i.childNodes=new Bc,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,r._ownerElement=i,i},createAttributeNS:function(e,t){var i=new jc,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},oc(Rc,Oc),Hc.prototype={nodeType:sc,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===mc?this.insertBefore(e,null):function(e,t){var i=t.parentNode;if(i){var n=e.lastChild;i.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,Lc(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new xc(this,(function(t){var i=[];return Nc(t,(function(n){n===t||n.nodeType!=sc||"*"!==e&&n.tagName!=e||i.push(n)})),i}))},getElementsByTagNameNS:function(e,t){return new xc(this,(function(i){var n=[];return Nc(i,(function(r){r===i||r.nodeType!==sc||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||n.push(r)})),n}))}},Rc.prototype.getElementsByTagName=Hc.prototype.getElementsByTagName,Rc.prototype.getElementsByTagNameNS=Hc.prototype.getElementsByTagNameNS,oc(Hc,Oc),jc.prototype.nodeType=lc,oc(jc,Oc),Vc.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(bc[wc])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},oc(Vc,Oc),Wc.prototype={nodeName:"#text",nodeType:cc,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},oc(Wc,Vc),Uc.prototype={nodeName:"#comment",nodeType:gc},oc(Uc,Vc),qc.prototype={nodeName:"#cdata-section",nodeType:uc},oc(qc,Vc),Xc.prototype.nodeType=Ac,oc(Xc,Oc),Yc.prototype.nodeType=vc,oc(Yc,Oc),Kc.prototype.nodeType=dc,oc(Kc,Oc),Gc.prototype.nodeType=hc,oc(Gc,Oc),Zc.prototype.nodeName="#document-fragment",Zc.prototype.nodeType=mc,oc(Zc,Oc),Jc.prototype.nodeType=pc,oc(Jc,Oc),$c.prototype.serializeToString=function(e,t,i){return eu.call(e,t,i)},Oc.prototype.toString=eu;try{if(Object.defineProperty){function su(e){switch(e.nodeType){case sc:case mc:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(su(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(xc.prototype,"length",{get:function(){return kc(this),this.$$length}}),Object.defineProperty(Oc.prototype,"textContent",{get:function(){return su(this)},set:function(e){switch(this.nodeType){case sc:case mc:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),au=function(e,t,i){e["$$"+t]=i}}}catch(yi){}Kl.DocumentType=Xc,Kl.DOMException=Ic,Kl.DOMImplementation=Pc,Kl.Element=Hc,Kl.Node=Oc,Kl.NodeList=Bc,Kl.XMLSerializer=$c;var lu={},cu={};!function(e){var t=Gl.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),e.entityMap=e.HTML_ENTITIES}(cu);var uu={},hu=Gl.NAMESPACE,du=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,pu=new RegExp("[\\-\\.0-9"+du.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),gu=new RegExp("^"+du.source+pu.source+"*(?::"+du.source+pu.source+"*)?$");function fu(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,fu)}function Au(){}function mu(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function vu(e,t,i,n,r,o){function a(e,t,n){i.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),i.addValue(e,t,n)}for(var s,l=++t,c=0;;){var u=e.charAt(l);switch(u){case"=":if(1===c)s=e.slice(t,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),s=e.slice(t,l)),t=l+1,!((l=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");a(s,h=e.slice(t,l).replace(/&#?\w+;/g,r),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(s,h=e.slice(t,l).replace(/&#?\w+;/g,r),t),o.warning('attribute "'+s+'" missed start quot('+u+")!!"),t=l+1,c=5}break;case"/":switch(c){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,i.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&i.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,l)).slice(-1)&&(i.closed=!0,h=h.slice(0,-1));case 2:2===c&&(h=s),4==c?(o.warning('attribute "'+h+'" missed quot(")!'),a(s,h.replace(/&#?\w+;/g,r),t)):(hu.isHTML(n[""])&&h.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),a(h,h,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":u=" ";default:if(u<=" ")switch(c){case 0:i.setTagName(e.slice(t,l)),c=6;break;case 1:s=e.slice(t,l),c=2;break;case 4:var h=e.slice(t,l).replace(/&#?\w+;/g,r);o.warning('attribute "'+h+'" missed quot(")!!'),a(s,h,t);case 5:c=6}else switch(c){case 2:i.tagName,hu.isHTML(n[""])&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,t),t=l,c=1;break;case 5:o.warning('attribute space is required"'+s+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function yu(e,t,i){for(var n=e.tagName,r=null,o=e.length;o--;){var a=e[o],s=a.qName,l=a.value;if((d=s.indexOf(":"))>0)var c=a.prefix=s.slice(0,d),u=s.slice(d+1),h="xmlns"===c&&u;else u=s,c=null,h="xmlns"===s&&"";a.localName=u,!1!==h&&(null==r&&(r={},Eu(i,i={})),i[h]=r[h]=l,a.uri=hu.XMLNS,t.startPrefixMapping(h,l))}for(o=e.length;o--;)(c=(a=e[o]).prefix)&&("xml"===c&&(a.uri=hu.XML),"xmlns"!==c&&(a.uri=i[c||""]));var d;(d=n.indexOf(":"))>0?(c=e.prefix=n.slice(0,d),u=e.localName=n.slice(d+1)):(c=null,u=e.localName=n);var p=e.uri=i[c||""];if(t.startElement(p,u,n,e),!e.closed)return e.currentNSMap=i,e.localNSMap=r,!0;if(t.endElement(p,u,n),r)for(c in r)t.endPrefixMapping(c)}function bu(e,t,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var o=e.indexOf("</"+i+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),o)}return t+1}function wu(e,t,i,n){var r=n[i];return null==r&&((r=e.lastIndexOf("</"+i+">"))<t&&(r=e.lastIndexOf("</"+i)),n[i]=r),r<t}function Eu(e,t){for(var i in e)t[i]=e[i]}function Cu(e,t,i,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,r-t-4),r+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,r-t-9),i.endCDATA(),r+3}var o=function(e,t){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);i=r.exec(e);)if(n.push(i),i[1])return n}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var u=o[a-1];return i.startDTD(s,l,c),i.endDTD(),u.index+u[0].length}return-1}function Iu(e,t,i){var n=e.indexOf("?>",t);if(n){var r=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function Bu(){this.attributeNames={}}fu.prototype=new Error,fu.prototype.name=fu.name,Au.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),Eu(t,t={}),function(e,t,i,n,r){function o(e){var t=e.slice(1,-1);return t in i?i[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function a(t){if(t>g){var i=e.substring(g,t).replace(/&#?\w+;/g,o);h&&s(g),n.characters(i,0,t-g),g=t}}function s(t,i){for(;t>=c&&(i=u.exec(e));)l=i.index,c=l+i[0].length,h.lineNumber++;h.columnNumber=t-l+1}for(var l=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,d=[{currentNSMap:t}],p={},g=0;;){try{var f=e.indexOf("<",g);if(f<0){if(!e.substr(g).match(/^\s*$/)){var A=n.doc,m=A.createTextNode(e.substr(g));A.appendChild(m),n.currentElement=m}return}switch(f>g&&a(f),e.charAt(f+1)){case"/":var v=e.indexOf(">",f+3),y=e.substring(f+2,v).replace(/[ \t\n\r]+$/g,""),b=d.pop();v<0?(y=e.substring(f+2).replace(/[\s<].*/,""),r.error("end tag name: "+y+" is not complete:"+b.tagName),v=f+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),r.error("end tag name: "+y+" maybe not complete"),v=f+1+y.length);var w=b.localNSMap,E=b.tagName==y;if(E||b.tagName&&b.tagName.toLowerCase()==y.toLowerCase()){if(n.endElement(b.uri,b.localName,y),w)for(var C in w)n.endPrefixMapping(C);E||r.fatalError("end tag name: "+y+" is not match the current start tagName:"+b.tagName)}else d.push(b);v++;break;case"?":h&&s(f),v=Iu(e,f,n);break;case"!":h&&s(f),v=Cu(e,f,n,r);break;default:h&&s(f);var I=new Bu,B=d[d.length-1].currentNSMap,x=(v=vu(e,f,I,B,o,r),I.length);if(!I.closed&&wu(e,v,I.tagName,p)&&(I.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&x){for(var k=mu(h,{}),Q=0;Q<x;Q++){var _=I[Q];s(_.offset),_.locator=mu(h,{})}n.locator=k,yu(I,n,B)&&d.push(I),n.locator=h}else yu(I,n,B)&&d.push(I);hu.isHTML(I.uri)&&!I.closed?v=bu(e,v,I.tagName,o,n):v++}}catch(e){if(e instanceof fu)throw e;r.error("element parse error: "+e),v=-1}v>g?g=v:a(Math.max(f,g)+1)}}(e,t,i,n,this.errorHandler),n.endDocument()}},Bu.prototype={setTagName:function(e){if(!gu.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!gu.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},uu.XMLReader=Au,uu.ParseError=fu;var xu=Gl,ku=Kl,Qu=cu,_u=uu,Su=ku.DOMImplementation,Tu=xu.NAMESPACE,Pu=_u.ParseError,Ou=_u.XMLReader;function Du(e){this.options=e||{locator:{}}}function Nu(){this.cdata=!1}function Ru(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function zu(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function Lu(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function Mu(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}Du.prototype.parseFromString=function(e,t){var i=this.options,n=new Ou,r=i.domBuilder||new Nu,o=i.errorHandler,a=i.locator,s=i.xmlns||{},l=/\/x?html?$/.test(t),c=l?Qu.HTML_ENTITIES:Qu.XML_ENTITIES;return a&&r.setDocumentLocator(a),n.errorHandler=function(e,t,i){if(!e){if(t instanceof Nu)return t;e=t}var n={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(i){e(t,i)}:e),n[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+zu(i))}||function(){}}return i=i||{},o("warning"),o("error"),o("fatalError"),n}(o,r,a),n.domBuilder=i.domBuilder||r,l&&(s[""]=Tu.HTML),s.xml=s.xml||Tu.XML,e&&"string"==typeof e?n.parse(e,s,c):n.errorHandler.error("invalid doc source"),r.doc},Nu.prototype={startDocument:function(){this.doc=(new Su).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var r=this.doc,o=r.createElementNS(e,i||t),a=n.length;Mu(this,o),this.currentElement=o,this.locator&&Ru(this.locator,o);for(var s=0;s<a;s++){e=n.getURI(s);var l=n.getValue(s),c=(i=n.getQName(s),r.createAttributeNS(e,i));this.locator&&Ru(n.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&Ru(this.locator,i),Mu(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=Lu.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&Ru(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=Lu.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&Ru(this.locator,n),Mu(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(e,t,i);this.locator&&Ru(this.locator,r),Mu(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,zu(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,zu(this.locator))},fatalError:function(e){throw new Pu(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){Nu.prototype[e]=function(){return null}})),lu.__DOMHandler=Nu,lu.DOMParser=Du,lu.DOMImplementation=ku.DOMImplementation,lu.XMLSerializer=ku.XMLSerializer;var Fu=Kl;Yl.DOMImplementation=Fu.DOMImplementation,Yl.XMLSerializer=Fu.XMLSerializer,Yl.DOMParser=lu.DOMParser,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.RangeObject=void 0,Xl.blob2base64=function(e){return new Promise((function(t,i){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){t(n.result)}}))},Xl.borders=function(e){var t=window.getComputedStyle(e),i=0,n=0;return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),{height:n,width:i}},Xl.bounds=function(e){var t=window.getComputedStyle(e),i=0,n=0;return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),{height:n,width:i}},Xl.createBase64Url=function(e,t){if("string"==typeof e)return"data:"+t+";base64,"+btoa(e)},Xl.createBlob=Yu,Xl.createBlobUrl=function(e,t){var i=Yu(e,t);return Vu.createObjectURL(i)},Xl.defaults=function(e){for(var t=1,i=arguments.length;t<i;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e},Xl.defer=function(){this.resolve=null,this.reject=null,this.id=Wu(),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Object.freeze(this)},Xl.documentHeight=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},Xl.extend=function(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){t&&Object.getOwnPropertyNames(t).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))})),e},Xl.filterChildren=function(e,t,i){for(var n=[],r=e.childNodes,o=0;o<r.length;o++){let e=r[o];if(1===e.nodeType&&e.nodeName.toLowerCase()===t){if(i)return e;n.push(e)}}if(!i)return n},Xl.findChildren=function(e){for(var t=[],i=e.childNodes,n=0;n<i.length;n++){let e=i[n];1===e.nodeType&&t.push(e)}return t},Xl.getParentByTagName=function(e,t){let i;if(null!==e&&""!==t)for(i=e.parentNode;1===i.nodeType;){if(i.tagName.toLowerCase()===t)return i;i=i.parentNode}},Xl.indexOfElementNode=function(e){return Xu(e,1)},Xl.indexOfNode=Xu,Xl.indexOfSorted=function e(t,i,n,r,o){var a,s=r||0,l=o||i.length,c=parseInt(s+(l-s)/2);return n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),l-s<=0?-1:(a=n(i[c],t),l-s==1?0===a?c:-1:0===a?c:-1===a?e(t,i,n,c,l):e(t,i,n,s,c))},Xl.indexOfTextNode=function(e){return Xu(e,3)},Xl.insert=function(e,t,i){var n=qu(e,t,i);return t.splice(n,0,e),n},Xl.isElement=function(e){return!(!e||1!=e.nodeType)},Xl.isFloat=function(e){let t=parseFloat(e);return!1!==Uu(e)&&("string"==typeof e&&e.indexOf(".")>-1||Math.floor(t)!==t)},Xl.isNumber=Uu,Xl.isXml=function(e){return["xml","opf","ncx"].indexOf(e)>-1},Xl.locationOf=qu,Xl.nodeBounds=function(e){let t,i=e.ownerDocument;if(e.nodeType==Node.TEXT_NODE){let n=i.createRange();n.selectNodeContents(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();return t},Xl.parents=Ju,Xl.parse=function(e,t,i){var n;return n="undefined"==typeof DOMParser||i?Hu.DOMParser:DOMParser,65279===e.charCodeAt(0)&&(e=e.slice(1)),(new n).parseFromString(e,t)},Xl.prefixed=function(e){var t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=e.toLowerCase(),n=["Webkit","webkit","Moz","O","ms"].length;if("undefined"==typeof document||void 0!==document.body.style[i])return e;for(var r=0;r<n;r++)if(void 0!==document.body.style[t[r]+i])return t[r]+i;return e},Xl.qs=function(e,t){var i;if(!e)throw new Error("No Element Provided");return void 0!==e.querySelector?e.querySelector(t):(i=e.getElementsByTagName(t)).length?i[0]:void 0},Xl.qsa=Ku,Xl.qsp=function(e,t,i){var n,r;if(void 0!==e.querySelector){for(var o in t+="[",i)t+=o+"~='"+i[o]+"'";return t+="]",e.querySelector(t)}if(n=e.getElementsByTagName(t),r=Array.prototype.slice.call(n,0).filter((function(e){for(var t in i)if(e.getAttribute(t)===i[t])return!0;return!1})),r)return r[0]},Xl.querySelectorByType=function(e,t,i){var n;if(void 0!==e.querySelector&&(n=e.querySelector(`${t}[*|type="${i}"]`)),n&&0!==n.length)return n;n=Ku(e,t);for(var r=0;r<n.length;r++)if(n[r].getAttributeNS("http://www.idpf.org/2007/ops","type")===i||n[r].getAttribute("epub:type")===i)return n[r]},Xl.requestAnimationFrame=void 0,Xl.revokeBlobUrl=function(e){return Vu.revokeObjectURL(e)},Xl.sprint=function(e,t){void 0!==(e.ownerDocument||e).createTreeWalker?Gu(e,t,NodeFilter.SHOW_TEXT):Zu(e,(function(e){e&&3===e.nodeType&&t(e)}))},Xl.treeWalker=Gu,Xl.type=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Xl.uuid=Wu,Xl.walk=Zu,Xl.windowBounds=function(){var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}};var Hu=Yl;const ju="undefined"!=typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);Xl.requestAnimationFrame=ju;const Vu="undefined"!=typeof URL?URL:"undefined"!=typeof window?window.URL||window.webkitURL||window.mozURL:void 0;function Wu(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:7&i|8).toString(16)}));return t}function Uu(e){return!isNaN(parseFloat(e))&&isFinite(e)}function qu(e,t,i,n,r){var o,a=n||0,s=r||t.length,l=parseInt(a+(s-a)/2);return i||(i=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-a<=0?l:(o=i(t[l],e),s-a==1?o>=0?l:l+1:0===o?l:-1===o?qu(e,t,i,l,s):qu(e,t,i,a,l))}function Xu(e,t){for(var i,n=e.parentNode.childNodes,r=-1,o=0;o<n.length&&((i=n[o]).nodeType===t&&r++,i!=e);o++);return r}function Yu(e,t){return new Blob([e],{type:t})}function Ku(e,t){return void 0!==e.querySelector?e.querySelectorAll(t):e.getElementsByTagName(t)}function Gu(e,t,i){var n=document.createTreeWalker(e,i,null,!1);let r;for(;r=n.nextNode();)t(r)}function Zu(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Zu(e,t))return!0;e=e.nextSibling}while(e)}function Ju(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t}Xl.RangeObject=class{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,i=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,i),this.setEnd(t,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=3===e.nodeType?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var i=Ju(e||this.startContainer),n=Ju(t||this.endContainer);if(i[0]==n[0])for(var r=0;r<i.length;r++)if(i[r]!=n[r])return i[r-1]}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}};var $u={},eh={};if(!th)var th={cwd:function(){return"/"}};function ih(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+e)}function nh(e,t){for(var i,n="",r=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)i=e.charCodeAt(a);else{if(47===i)break;i=47}if(47===i){if(r===a-1||1===o);else if(r!==a-1&&2===o){if(n.length<2||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){for(var s=n.length-1,l=s;l>=0&&47!==n.charCodeAt(l);--l);if(l!==s){n=-1===l?"":n.slice(0,l),r=a,o=0;continue}}else if(2===n.length||1===n.length){n="",r=a,o=0;continue}t&&(n.length>0?n+="/..":n="..")}else n.length>0?n+="/"+e.slice(r+1,a):n=e.slice(r+1,a);r=a,o=0}else 46===i&&-1!==o?++o:o=-1}return n}var rh={resolve:function(){for(var e,t="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var r;n>=0?r=arguments[n]:(void 0===e&&(e=th.cwd()),r=e),ih(r),0!==r.length&&(t=r+"/"+t,i=47===r.charCodeAt(0))}return t=nh(t,!i),i?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(ih(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=nh(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return ih(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var i=arguments[t];ih(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":rh.normalize(e)},relative:function(e,t){if(ih(e),ih(t),e===t)return"";if((e=rh.resolve(e))===(t=rh.resolve(t)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var n=e.length,r=n-i,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var a=t.length-o,s=r<a?r:a,l=-1,c=0;c<=s;++c){if(c===s){if(a>s){if(47===t.charCodeAt(o+c))return t.slice(o+c+1);if(0===c)return t.slice(o+c)}else r>s&&(47===e.charCodeAt(i+c)?l=c:0===c&&(l=0));break}var u=e.charCodeAt(i+c);if(u!==t.charCodeAt(o+c))break;47===u&&(l=c)}var h="";for(c=i+l+1;c<=n;++c)c!==n&&47!==e.charCodeAt(c)||(0===h.length?h+="..":h+="/..");return h.length>0?h+t.slice(o+l):(o+=l,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(ih(e),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){n=o;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');ih(e);var i,n=0,r=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,s=-1;for(i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(47===l){if(!o){n=i+1;break}}else-1===s&&(o=!1,s=i+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(r=i):(a=-1,r=s))}return n===r?r=s:-1===r&&(r=e.length),e.slice(n,r)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!o){n=i+1;break}}else-1===r&&(o=!1,r=i+1);return-1===r?"":e.slice(n,r)},extname:function(e){ih(e);for(var t=-1,i=0,n=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(r=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){i=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===i+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return function(e,t){var i=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return i?i===t.root?i+n:i+"/"+n:n}(0,e)},parse:function(e){ih(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var i,n=e.charCodeAt(0),r=47===n;r?(t.root="/",i=1):i=0;for(var o=-1,a=0,s=-1,l=!0,c=e.length-1,u=0;c>=i;--c)if(47!==(n=e.charCodeAt(c)))-1===s&&(l=!1,s=c+1),46===n?-1===o?o=c:1!==u&&(u=1):-1!==o&&(u=-1);else if(!l){a=c+1;break}return-1===o||-1===s||0===u||1===u&&o===s-1&&o===a+1?-1!==s&&(t.base=t.name=0===a&&r?e.slice(1,s):e.slice(a,s)):(0===a&&r?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),a>0?t.dir=e.slice(0,a-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",posix:null},oh=rh;Object.defineProperty(eh,"__esModule",{value:!0}),eh.default=void 0;var ah,sh=(ah=oh)&&ah.__esModule?ah:{default:ah};eh.default=class{constructor(e){var t;e.indexOf("://")>-1&&(e=new URL(e).pathname),t=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=t.dir+"/",this.filename=t.base,this.extension=t.ext.slice(1)}parse(e){return sh.default.parse(e)}isAbsolute(e){return sh.default.isAbsolute(e||this.path)}isDirectory(e){return"/"===e.charAt(e.length-1)}resolve(e){return sh.default.resolve(this.directory,e)}relative(e){return e&&e.indexOf("://")>-1?e:sh.default.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}},Object.defineProperty($u,"__esModule",{value:!0}),$u.default=void 0;var lh=uh(eh),ch=uh(oh);function uh(e){return e&&e.__esModule?e:{default:e}}$u.default=class{constructor(e,t){var i=e.indexOf("://")>-1,n=e;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!i&&!1!==t&&"string"!=typeof t&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(e){this.Url=void 0,this.base&&(n=new lh.default(this.base).resolve(n))}this.Path=new lh.default(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t;return e.indexOf("://")>-1?e:(t=ch.default.resolve(this.directory,e),this.origin+t)}relative(e){return ch.default.relative(e,this.directory)}toString(){return this.href}};var hh={},dh={};Object.defineProperty(dh,"__esModule",{value:!0}),dh.default=void 0;var ph=Xl;class gh{constructor(e,t,i){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof gh))return new gh(e,t,i);if("string"==typeof t?this.base=this.parseComponent(t):"object"==typeof t&&t.steps&&(this.base=t),"string"===(n=this.checkType(e)))return this.str=e,(0,ph.extend)(this,this.parse(e));if("range"===n)return(0,ph.extend)(this,this.fromRange(e,this.base,i));if("node"===n)return(0,ph.extend)(this,this.fromNode(e,this.base,i));if("EpubCFI"===n&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":!e||"object"!=typeof e||"Range"!==(0,ph.type)(e)&&void 0===e.startContainer?e&&"object"==typeof e&&void 0!==e.nodeType?"node":!!(e&&"object"==typeof e&&e instanceof gh)&&"EpubCFI":"range"}parse(e){var t,i,n,r={spinePos:-1,range:!1,base:{},path:{},start:null,end:null};return"string"!=typeof e?{spinePos:-1}:(0===e.indexOf("epubcfi(")&&")"===e[e.length-1]&&(e=e.slice(8,e.length-1)),(t=this.getChapterComponent(e))?(r.base=this.parseComponent(t),i=this.getPathComponent(e),r.path=this.parseComponent(i),(n=this.getRange(e))&&(r.range=!0,r.start=this.parseComponent(n[0]),r.end=this.parseComponent(n[1])),r.spinePos=r.base.steps[1].index,r):{spinePos:-1})}parseComponent(e){var t,i={steps:[],terminal:{offset:null,assertion:null}},n=e.split(":"),r=n[0].split("/");return n.length>1&&(t=n[1],i.terminal=this.parseTerminal(t)),""===r[0]&&r.shift(),i.steps=r.map(function(e){return this.parseStep(e)}.bind(this)),i}parseStep(e){var t,i,n,r,o;if((r=e.match(/\[(.*)\]/))&&r[1]&&(o=r[1]),i=parseInt(e),!isNaN(i))return i%2==0?(t="element",n=i/2-1):(t="text",n=(i-1)/2),{type:t,index:n,id:o||null}}parseTerminal(e){var t,i,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),i=n[1]):t=parseInt(e),(0,ph.isNumber)(t)||(t=null),{offset:t,assertion:i}}getChapterComponent(e){return e.split("!")[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return 3===t.length&&[t[1],t[2]]}getCharecterOffsetComponent(e){return e.split(":")[1]||""}joinSteps(e){return e?e.map((function(e){var t="";return"element"===e.type&&(t+=2*(e.index+1)),"text"===e.type&&(t+=1+2*e.index),e.id&&(t+="["+e.id+"]"),t})).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&null!=e.terminal.offset&&(t+=":"+e.terminal.offset),e.terminal&&null!=e.terminal.assertion&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+")"}compare(e,t){var i,n,r,o;if("string"==typeof e&&(e=new gh(e)),"string"==typeof t&&(t=new gh(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),r=e.start.terminal):(i=e.path.steps,r=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),o=t.start.terminal):(n=t.path.steps,o=t.path.terminal);for(var a=0;a<i.length;a++){if(!i[a])return-1;if(!n[a])return 1;if(i[a].index>n[a].index)return 1;if(i[a].index<n[a].index)return-1}return i.length<n.length?-1:r.offset>o.offset?1:r.offset<o.offset?-1:0}step(e){var t=3===e.nodeType?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var i,n=this.filter(e,t);if(n)return i=3===n.nodeType?"text":"element",{id:n.id,tagName:n.tagName,type:i,index:this.filteredPosition(n,t)}}pathTo(e,t,i){for(var n,r={steps:[],terminal:{offset:null,assertion:null}},o=e;o&&o.parentNode&&9!=o.parentNode.nodeType;)(n=i?this.filteredStep(o,i):this.step(o))&&r.steps.unshift(n),o=o.parentNode;return null!=t&&t>=0&&(r.terminal.offset=t,"text"!=r.steps[r.steps.length-1].type&&r.steps.push({type:"text",index:0})),r}equalStep(e,t){return!(!e||!t)&&e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null},r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=!1;if(i&&(l=null!=r.ownerDocument.querySelector("."+i)),"string"==typeof t?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):"object"==typeof t&&(n.base=t),e.collapsed)l&&(a=this.patchOffset(r,a,i)),n.path=this.pathTo(r,a,i);else{n.range=!0,l&&(a=this.patchOffset(r,a,i)),n.start=this.pathTo(r,a,i),l&&(s=this.patchOffset(o,s,i)),n.end=this.pathTo(o,s,i),n.path={steps:[],terminal:null};var c,u=n.start.steps.length;for(c=0;c<u&&this.equalStep(n.start.steps[c],n.end.steps[c]);c++)c===u-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[c]),n.range=!1):n.path.steps.push(n.start.steps[c]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null};return"string"==typeof t?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):"object"==typeof t&&(n.base=t),n.path=this.pathTo(e,null,i),n}filter(e,t){var i,n,r,o,a,s=!1;return 3===e.nodeType?(s=!0,r=e.parentNode,i=e.parentNode.classList.contains(t)):(s=!1,i=e.classList.contains(t)),i&&s?(o=r.previousSibling,a=r.nextSibling,o&&3===o.nodeType?n=o:a&&3===a.nodeType&&(n=a),n||e):!(i&&!s)&&e}patchOffset(e,t,i){if(3!=e.nodeType)throw new Error("Anchor must be a text node");var n=e,r=t;for(e.parentNode.classList.contains(i)&&(n=e.parentNode);n.previousSibling;){if(1===n.previousSibling.nodeType){if(!n.previousSibling.classList.contains(i))break;r+=n.previousSibling.textContent.length}else r+=n.previousSibling.textContent.length;n=n.previousSibling}return r}normalizedMap(e,t,i){var n,r,o,a={},s=-1,l=e.length;for(n=0;n<l;n++)1===(r=e[n].nodeType)&&e[n].classList.contains(i)&&(r=3),n>0&&3===r&&3===o?a[n]=s:t===r&&(s+=1,a[n]=s),o=r;return a}position(e){var t,i;return 1===e.nodeType?((t=e.parentNode.children)||(t=(0,ph.findChildren)(e.parentNode)),i=Array.prototype.indexOf.call(t,e)):i=(t=this.textNodes(e.parentNode)).indexOf(e),i}filteredPosition(e,t){var i,n;return 1===e.nodeType?(i=e.parentNode.children,n=this.normalizedMap(i,1,t)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(i=(e=e.parentNode).parentNode.childNodes),n=this.normalizedMap(i,3,t)),n[Array.prototype.indexOf.call(i,e)]}stepsToXpath(e){var t=[".","*"];return e.forEach((function(e){var i=e.index+1;e.id?t.push("*[position()="+i+" and @id='"+e.id+"']"):"text"===e.type?t.push("text()["+i+"]"):t.push("*["+i+"]")})),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach((function(e){var i=e.index+1;e.id?t.push("#"+e.id):"text"===e.type||t.push("*:nth-child("+i+")")})),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter((function(e){return 3===e.nodeType||!(!t||!e.classList.contains(t))}))}walkToNode(e,t,i){var n,r,o=t||document,a=o.documentElement,s=e.length;for(r=0;r<s&&("element"===(n=e[r]).type?a=n.id?o.getElementById(n.id):(a.children||(0,ph.findChildren)(a))[n.index]:"text"===n.type&&(a=this.textNodes(a,i)[n.index]),a);r++);return a}findNode(e,t,i){var n,r,o=t||document;return i||void 0===o.evaluate?n=i?this.walkToNode(e,o,i):this.walkToNode(e,o):(r=this.stepsToXpath(e),n=o.evaluate(r,o,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),n}fixMiss(e,t,i,n){var r,o,a=this.findNode(e.slice(0,-1),i,n),s=a.childNodes,l=this.normalizedMap(s,3,n),c=e[e.length-1].index;for(let e in l){if(!l.hasOwnProperty(e))return;if(l[e]===c){if(!(t>(o=(r=s[e]).textContent.length))){a=1===r.nodeType?r.childNodes[0]:r;break}t-=o}}return{container:a,offset:t}}toRange(e,t){var i,n,r,o,a,s,l,c,u=e||document,h=this,d=!!t&&null!=u.querySelector("."+t);if(i=void 0!==u.createRange?u.createRange():new ph.RangeObject,h.range?(n=h.start,s=h.path.steps.concat(n.steps),o=this.findNode(s,u,d?t:null),r=h.end,l=h.path.steps.concat(r.steps),a=this.findNode(l,u,d?t:null)):(n=h.path,s=h.path.steps,o=this.findNode(h.path.steps,u,d?t:null)),!o)return console.log("No startContainer found for",this.toString()),null;try{null!=n.terminal.offset?i.setStart(o,n.terminal.offset):i.setStart(o,0)}catch(e){c=this.fixMiss(s,n.terminal.offset,u,d?t:null),i.setStart(c.container,c.offset)}if(a)try{null!=r.terminal.offset?i.setEnd(a,r.terminal.offset):i.setEnd(a,0)}catch(e){c=this.fixMiss(l,h.end.terminal.offset,u,d?t:null),i.setEnd(c.container,c.offset)}return i}isCfiString(e){return"string"==typeof e&&0===e.indexOf("epubcfi(")&&")"===e[e.length-1]}generateChapterComponent(e,t,i){var n="/"+2*(e+1)+"/";return n+=2*(parseInt(t)+1),i&&(n+="["+i+"]"),n}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}var fh=gh;dh.default=fh;var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.default=void 0;Ah.default=class{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if("function"==typeof arguments[e])this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let i=0;i<this.hooks.length;i++)if(t=this.hooks[i],t===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,t=this.context,i=[];return this.hooks.forEach((function(n){try{var r=n.apply(t,e)}catch(e){console.log(e)}r&&"function"==typeof r.then&&i.push(r)})),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}};var mh={},vh={};Object.defineProperty(vh,"__esModule",{value:!0}),vh.replaceBase=function(e,t){var i,n,r=t.url,o=r.indexOf("://")>-1;e&&(n=(0,yh.qs)(e,"head"),(i=(0,yh.qs)(n,"base"))||(i=e.createElement("base"),n.insertBefore(i,n.firstChild)),!o&&window&&window.location&&(r=window.location.origin+r),i.setAttribute("href",r))},vh.replaceCanonical=function(e,t){var i,n,r=t.canonical;e&&(i=(0,yh.qs)(e,"head"),(n=(0,yh.qs)(i,"link[rel='canonical']"))?n.setAttribute("href",r):((n=e.createElement("link")).setAttribute("rel","canonical"),n.setAttribute("href",r),i.appendChild(n)))},vh.replaceLinks=function(e,t){var i=e.querySelectorAll("a[href]");if(i.length)for(var n=(0,yh.qs)(e.ownerDocument,"base"),r=n?n.getAttribute("href"):void 0,o=function(e){var i=e.getAttribute("href");if(0!==i.indexOf("mailto:"))if(i.indexOf("://")>-1)e.setAttribute("target","_blank");else{var n;try{n=new bh.default(i,r)}catch(e){}e.onclick=function(){return n&&n.hash?t(n.Path.path+n.hash):t(n?n.Path.path:i),!1}}}.bind(this),a=0;a<i.length;a++)o(i[a])},vh.replaceMeta=function(e,t){var i,n,r=t.idref;e&&(i=(0,yh.qs)(e,"head"),(n=(0,yh.qs)(i,"link[property='dc.identifier']"))?n.setAttribute("content",r):((n=e.createElement("meta")).setAttribute("name","dc.identifier"),n.setAttribute("content",r),i.appendChild(n)))},vh.substitute=function(e,t,i){return t.forEach((function(t,n){t&&i[n]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),e=e.replace(new RegExp(t,"g"),i[n]))})),e};var yh=Xl,bh=wh($u);function wh(e){return e&&e.__esModule?e:{default:e}}wh(eh);var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.default=void 0;var Ch=Xl,Ih=function(e){return e&&e.__esModule?e:{default:e}}(eh);Eh.default=function(e,t,i,n){var r,o="undefined"!=typeof window&&window.URL,a=o?"blob":"arraybuffer",s=new Ch.defer,l=new XMLHttpRequest,c=XMLHttpRequest.prototype;for(r in"overrideMimeType"in c||Object.defineProperty(c,"overrideMimeType",{value:function(){}}),i&&(l.withCredentials=!0),l.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var e=!1;if(""!==this.responseType&&"document"!==this.responseType||(e=this.responseXML),200===this.status||0===this.status||e){var i;if(!this.response&&!e)return s.reject({status:this.status,message:"Empty Response",stack:(new Error).stack}),s.promise;if(403===this.status)return s.reject({status:this.status,response:this.response,message:"Forbidden",stack:(new Error).stack}),s.promise;i=e?this.responseXML:(0,Ch.isXml)(t)?(0,Ch.parse)(this.response,"text/xml"):"xhtml"==t?(0,Ch.parse)(this.response,"application/xhtml+xml"):"html"==t||"htm"==t?(0,Ch.parse)(this.response,"text/html"):"json"==t?JSON.parse(this.response):"blob"==t?o?this.response:new Blob([this.response]):this.response,s.resolve(i)}else s.reject({status:this.status,message:this.response,stack:(new Error).stack})}},l.onerror=function(e){s.reject(e)},l.open("GET",e,!0),n)l.setRequestHeader(r,n[r]);return"json"==t&&l.setRequestHeader("Accept","application/json"),t||(t=new Ih.default(e).extension),"blob"==t&&(l.responseType=a),(0,Ch.isXml)(t)&&l.overrideMimeType("text/xml"),"binary"==t&&(l.responseType="arraybuffer"),l.send(),s.promise},Object.defineProperty(mh,"__esModule",{value:!0}),mh.default=void 0;var Bh=Xl,xh=Th(dh),kh=Th(Ah),Qh=vh,_h=Th(Eh),Sh=Yl;function Th(e){return e&&e.__esModule?e:{default:e}}mh.default=class{constructor(e,t){this.idref=e.idref,this.linear="yes"===e.linear,this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new kh.default(this),this.hooks.content=new kh.default(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||_h.default,i=new Bh.defer,n=i.promise;return this.contents?i.resolve(this.contents):t(this.url).then(function(e){return this.document=e,this.contents=e.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){i.resolve(this.contents)}.bind(this)).catch((function(e){i.reject(e)})),n}base(){return(0,Qh.replaceBase)(this.document,this)}render(e){var t=new Bh.defer,i=t.promise;return this.output,this.load(e).then(function(e){var t=("undefined"!=typeof navigator&&navigator.userAgent||"").indexOf("Trident")>=0,i=new("undefined"==typeof XMLSerializer||t?Sh.DOMParser:XMLSerializer);return this.output=i.serializeToString(e),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch((function(e){t.reject(e)})),i}find(e){var t=this,i=[],n=e.toLowerCase();return(0,Bh.sprint)(t.document,(function(e){!function(e){for(var r,o,a,s=e.textContent.toLowerCase(),l=t.document.createRange(),c=-1;-1!=o;)-1!=(o=s.indexOf(n,c+1))&&((l=t.document.createRange()).setStart(e,o),l.setEnd(e,o+n.length),r=t.cfiFromRange(l),a=e.textContent.length<150?e.textContent:"..."+(a=e.textContent.substring(o-75,o+75))+"...",i.push({cfi:r,excerpt:a})),c=o}(e)})),i}search(e,t=5){if(void 0===document.createTreeWalker)return this.find(e);let i=[];const n=this,r=e.toLowerCase(),o=function(e){const t=e.reduce(((e,t)=>e+t.textContent),"").toLowerCase().indexOf(r);if(-1!=t){const o=0,a=t+r.length;let s=0,l=0;if(t<e[o].length){let r;for(;s<e.length-1&&(l+=e[s].length,!(a<=l));)s+=1;let c=e[o],u=e[s],h=n.document.createRange();h.setStart(c,t);let d=e.slice(0,s).reduce(((e,t)=>e+t.textContent.length),0);h.setEnd(u,d>a?a:a-d),r=n.cfiFromRange(h);let p=e.slice(0,s+1).reduce(((e,t)=>e+t.textContent),"");p.length>150&&(p=p.substring(t-75,t+75),p="..."+p+"..."),i.push({cfi:r,excerpt:p})}}},a=document.createTreeWalker(n.document,NodeFilter.SHOW_TEXT,null,!1);let s,l=[];for(;s=a.nextNode();)l.push(s),l.length==t&&(o(l.slice(0,t)),l=l.slice(1,t));return l.length>0&&o(l),i}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach((function(e){var i,n,r=e.replace("rendition:",""),o=r.indexOf("-");-1!=o&&(i=r.slice(0,o),n=r.slice(o+1),t[i]=n)})),t}cfiFromRange(e){return new xh.default(e,this.cfiBase).toString()}cfiFromElement(e){return new xh.default(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}},Object.defineProperty(hh,"__esModule",{value:!0}),hh.default=void 0;var Ph=Rh(dh),Oh=Rh(Ah),Dh=Rh(mh),Nh=vh;function Rh(e){return e&&e.__esModule?e:{default:e}}hh.default=class{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Oh.default,this.hooks.content=new Oh.default,this.hooks.content.register(Nh.replaceBase),this.hooks.content.register(Nh.replaceCanonical),this.hooks.content.register(Nh.replaceMeta),this.epubcfi=new Ph.default,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach(((e,n)=>{var r,o=this.manifest[e.idref];e.index=n,e.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,e.index,e.id),e.href&&(e.url=t(e.href,!0),e.canonical=i(e.href)),o&&(e.href=o.href,e.url=t(e.href,!0),e.canonical=i(e.href),o.properties.length&&e.properties.push.apply(e.properties,o.properties)),"yes"===e.linear?(e.prev=function(){let t=e.index;for(;t>0;){let e=this.get(t-1);if(e&&e.linear)return e;t-=1}}.bind(this),e.next=function(){let t=e.index;for(;t<this.spineItems.length-1;){let e=this.get(t+1);if(e&&e.linear)return e;t+=1}}.bind(this)):(e.prev=function(){},e.next=function(){}),r=new Dh.default(e,this.hooks),this.append(r)})),this.loaded=!0}get(e){var t=0;if(void 0===e)for(;t<this.spineItems.length;){let e=this.spineItems[t];if(e&&e.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Ph.default(e).spinePos:"number"==typeof e||!1===isNaN(e)?t=e:"string"==typeof e&&0===e.indexOf("#")?t=this.spineById[e.substring(1)]:"string"==typeof e&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach((function(e,t){e.index=t})),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each((e=>e.destroy())),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}};var zh={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.default=Lh.Task=void 0;var Mh=Xl;Lh.Task=class{constructor(e,t,i){return function(){var t=arguments||[];return new Promise(((n,r)=>{t.push((function(e,t){!e&&t?r(t):n(e)})),e.apply(i||this,t)}))}}};Lh.default=class{constructor(e){this._q=[],this.context=e,this.tick=Mh.requestAnimationFrame,this.running=!1,this.paused=!1}enqueue(){var e,t,i=[].shift.call(arguments),n=arguments;if(!i)throw new Error("No Task Provided");return t="function"==typeof i?{task:i,args:n,deferred:e=new Mh.defer,promise:e.promise}:{promise:i},this._q.push(t),0!=this.paused||this.running||this.run(),t.promise}dequeue(){var e,t,i;return!this._q.length||this.paused?((e=new Mh.defer).deferred.resolve(),e.promise):(t=(e=this._q.shift()).task)?(i=t.apply(this.context,e.args))&&"function"==typeof i.then?i.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise):e.promise?e.promise:void 0}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Mh.defer),this.tick.call(window,(()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)})),1==this.paused&&(this.paused=!1),this.defered.promise}flush(){return this.running?this.running:this._q.length?(this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running):void 0}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}};var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.EVENTS=Fh.EPUBJS_VERSION=Fh.DOM_EVENTS=void 0,Fh.EPUBJS_VERSION="0.3",Fh.DOM_EVENTS=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Fh.EVENTS={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}},Object.defineProperty(zh,"__esModule",{value:!0}),zh.default=void 0;var Hh=Xl,jh=qh(Lh),Vh=qh(dh),Wh=Fh,Uh=qh(Al.exports);function qh(e){return e&&e.__esModule?e:{default:e}}class Xh{constructor(e,t,i){this.spine=e,this.request=t,this.pause=i||100,this.q=new jh.default(this),this.epubcfi=new Vh.default,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(t){var i=new Hh.defer,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout((()=>i.resolve(n)),this.pause),i.promise}.bind(this))}parse(e,t,i){var n,r,o=[],a=e.ownerDocument,s=(0,Hh.qs)(a,"body"),l=0,c=i||this.break;if((0,Hh.sprint)(s,function(e){var i,a=e.length,s=0;if(0===e.textContent.trim().length)return!1;for(0==l&&((n=this.createRange()).startContainer=e,n.startOffset=0),(i=c-l)>a&&(l+=a,s=a);s<a;)if(i=c-l,0===l&&(s+=1,(n=this.createRange()).startContainer=e,n.startOffset=s),s+i>=a)l+=a-s,s=a;else{s+=i,n.endContainer=e,n.endOffset=s;let r=new Vh.default(n,t).toString();o.push(r),l=0}r=e}.bind(this)),n&&n.startContainer&&r){n.endContainer=r,n.endOffset=r.length;let e=new Vh.default(n,t).toString();o.push(e),l=0}return o}generateFromWords(e,t,i){var n=e?new Vh.default(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(e){e.linear&&(n?e.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),e,t,n,i):this.q.enqueue(this.processWords.bind(this),e,t,n,i))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,t,i,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then(function(r){var o=new Hh.defer,a=this.parseWords(r,e,t,i),s=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(a.length>=n?a.slice(0,s):a),e.unload(),this.processingTimeout=setTimeout((()=>o.resolve(a)),this.pause),o.promise}.bind(this))}countWords(e){return(e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}parseWords(e,t,i,n){var r,o=t.cfiBase,a=[],s=e.ownerDocument,l=(0,Hh.qs)(s,"body"),c=i,u=!n||n.spinePos!==t.index;return n&&t.index===n.spinePos&&(r=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument)),(0,Hh.sprint)(l,function(e){if(!u){if(e!==r)return!1;u=!0}if(e.textContent.length<10&&0===e.textContent.trim().length)return!1;var t,i=this.countWords(e.textContent),n=0;if(0===i)return!1;for((t=c-this._wordCounter)>i&&(this._wordCounter+=i,n=i);n<i;)if(n+(t=c-this._wordCounter)>=i)this._wordCounter+=i-n,n=i;else{n+=t;let i=new Vh.default(e,o);a.push({cfi:i.toString(),wordCount:this._wordCounter}),this._wordCounter=0}}.bind(this)),a}locationFromCfi(e){let t;return Vh.default.prototype.isCfiString(e)&&(e=new Vh.default(e)),0===this._locations.length?-1:(t=(0,Hh.locationOf)(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(0===this._locations.length)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return e&&this.total?e/this.total:0}cfiFromLocation(e){var t=-1;return"number"!=typeof e&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let e=new Vh.default(this._locations[this.total]);return e.collapse(),e.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return this._locations="string"==typeof e?JSON.parse(e):e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if("string"==typeof e)this._currentCfi=e;else{if("number"!=typeof e)return;this._current=e}0!==this._locations.length&&("string"==typeof e?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(Wh.EVENTS.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}(0,Uh.default)(Xh.prototype);var Yh=Xh;zh.default=Yh;var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.default=void 0;var Gh=function(e){return e&&e.__esModule?e:{default:e}}(oh),Zh=Xl;Kh.default=class{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(!(t=(0,Zh.qs)(e,"rootfile")))throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Gh.default.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}};var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.default=void 0;var $h=Xl;Jh.default=class{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,i,n;if(!e)throw new Error("Package File Not Found");if(!(t=(0,$h.qs)(e,"metadata")))throw new Error("No Metadata Found");if(!(i=(0,$h.qs)(e,"manifest")))throw new Error("No Manifest Found");if(!(n=(0,$h.qs)(e,"spine")))throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=(0,$h.indexOfElementNode)(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},i=(0,$h.qsa)(e,"item");return Array.prototype.slice.call(i).forEach((function(e){var i=e.getAttribute("id"),n=e.getAttribute("href")||"",r=e.getAttribute("media-type")||"",o=e.getAttribute("media-overlay")||"",a=e.getAttribute("properties")||"";t[i]={href:n,type:r,overlay:o,properties:a.length?a.split(" "):[]}})),t}parseSpine(e,t){var i=[],n=(0,$h.qsa)(e,"itemref");return Array.prototype.slice.call(n).forEach((function(e,t){var n=e.getAttribute("idref"),r=e.getAttribute("properties")||"",o=r.length?r.split(" "):[],a={id:e.getAttribute("id"),idref:n,linear:e.getAttribute("linear")||"yes",properties:o,index:t};i.push(a)})),i}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var i=e.getElementById(t);return i&&"identifier"===i.localName&&"http://purl.org/dc/elements/1.1/"===i.namespaceURI&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=(0,$h.qsp)(e,"item",{properties:"nav"});return!!t&&t.getAttribute("href")}findNcxPath(e,t){var i,n=(0,$h.qsp)(e,"item",{"media-type":"application/x-dtbncx+xml"});return n||(i=t.getAttribute("toc"))&&(n=e.querySelector(`#${i}`)),!!n&&n.getAttribute("href")}findCoverPath(e){(0,$h.qs)(e,"package").getAttribute("version");var t=(0,$h.qsp)(e,"item",{properties:"cover-image"});if(t)return t.getAttribute("href");var i=(0,$h.qsp)(e,"meta",{name:"cover"});if(i){var n=i.getAttribute("content"),r=e.getElementById(n);return r?r.getAttribute("href"):""}return!1}getElementText(e,t){var i,n=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t);return n&&0!==n.length&&(i=n[0]).childNodes.length?i.childNodes[0].nodeValue:""}getPropertyText(e,t){var i=(0,$h.qsp)(e,"meta",{property:t});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map(((e,t)=>(e.index=t,e.linear=e.linear||"yes",e))),e.resources.forEach(((e,t)=>{this.manifest[t]=e,e.rel&&"cover"===e.rel[0]&&(this.coverPath=e.href)})),this.spineNodeIndex=0,this.toc=e.toc.map(((e,t)=>(e.label=e.title,e))),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}};var ed={};Object.defineProperty(ed,"__esModule",{value:!0}),ed.default=void 0;var td=Xl;ed.default=class{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t,i,n=e.nodeType;n&&(t=(0,td.qs)(e,"html"),i=(0,td.qs)(e,"ncx")),n?t?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,i=0;i<e.length;i++)(t=e[i]).href&&(this.tocByHref[t.href]=i),t.id&&(this.tocById[t.id]=i),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(0===e.indexOf("#")?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,i){if(0===i.length)return;const n=i[t];if(!n||e!==n.id&&e!==n.href){let n;for(let r=0;r<i.length&&(n=this.getByIndex(e,t,i[r].subitems),!n);++r);return n}return n}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=(0,td.querySelectorByType)(e,"nav","toc"),i=[];if(!t)return i;let n=(0,td.filterChildren)(t,"ol",!0);return n?i=this.parseNavList(n):i}parseNavList(e,t){const i=[];if(!e)return i;if(!e.children)return i;for(let n=0;n<e.children.length;n++){const r=this.navItem(e.children[n],t);r&&i.push(r)}return i}navItem(e,t){let i=e.getAttribute("id")||void 0,n=(0,td.filterChildren)(e,"a",!0)||(0,td.filterChildren)(e,"span",!0);if(!n)return;let r=n.getAttribute("href")||"";i||(i=r);let o=n.textContent||"",a=[],s=(0,td.filterChildren)(e,"ol",!0);return s&&(a=this.parseNavList(s,i)),{id:i,href:r,label:o,subitems:a,parent:t}}parseLandmarks(e){var t,i,n=(0,td.querySelectorByType)(e,"nav","landmarks"),r=n?(0,td.qsa)(n,"li"):[],o=r.length,a=[];if(!r||0===o)return a;for(t=0;t<o;++t)(i=this.landmarkItem(r[t]))&&(a.push(i),this.landmarksByType[i.type]=t);return a}landmarkItem(e){let t=(0,td.filterChildren)(e,"a",!0);if(!t)return;let i=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0;return{href:t.getAttribute("href")||"",label:t.textContent||"",type:i}}parseNcx(e){var t,i,n=(0,td.qsa)(e,"navPoint"),r=n.length,o={},a=[];if(!n||0===r)return a;for(t=0;t<r;++t)o[(i=this.ncxItem(n[t])).id]=i,i.parent?o[i.parent].subitems.push(i):a.push(i);return a}ncxItem(e){var t,i=e.getAttribute("id")||!1,n=(0,td.qs)(e,"content").getAttribute("src"),r=(0,td.qs)(e,"navLabel"),o=r.textContent?r.textContent:"",a=e.parentNode;return!a||"navPoint"!==a.nodeName&&"navPoint"!==a.nodeName.split(":").slice(-1)[0]||(t=a.getAttribute("id")),{id:i,href:n,label:o,subitems:[],parent:t}}load(e){return e.map((e=>(e.label=e.title,e.subitems=e.children?this.load(e.children):[],e)))}forEach(e){return this.toc.forEach(e)}};var id={},nd={};Object.defineProperty(nd,"__esModule",{value:!0}),nd.default=void 0;var rd={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},od=function(){var e,t,i,n,r={};for(e in rd)if(rd.hasOwnProperty(e))for(t in rd[e])if(rd[e].hasOwnProperty(t))if("string"==typeof(i=rd[e][t]))r[i]=e+"/"+t;else for(n=0;n<i.length;n++)r[i[n]]=e+"/"+t;return r}(),ad={lookup:function(e){return e&&od[e.split(".").pop().toLowerCase()]||"text/plain"}};nd.default=ad,Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var sd=vh,ld=Xl,cd=pd($u),ud=pd(nd),hd=pd(eh),dd=pd(oh);function pd(e){return e&&e.__esModule?e:{default:e}}id.default=class{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map((function(t){return e[t]})),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter((function(e){if("application/xhtml+xml"===e.type||"text/html"===e.type)return!0})),this.assets=this.resources.filter((function(e){if("application/xhtml+xml"!==e.type&&"text/html"!==e.type)return!0})),this.css=this.resources.filter((function(e){if("text/css"===e.type)return!0}))}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map((function(e){return e.href}))}createUrl(e){var t=new cd.default(e),i=ud.default.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:"base64"===this.settings.replacements}):"base64"===this.settings.replacements?this.settings.request(e,"blob").then((e=>(0,ld.blob2base64)(e))).then((e=>(0,ld.createBase64Url)(e,i))):this.settings.request(e,"blob").then((e=>(0,ld.createBlobUrl)(e,i)))}replacements(){if("none"===this.settings.replacements)return new Promise(function(e){e(this.urls)}.bind(this));var e=this.urls.map((e=>{var t=this.settings.resolver(e);return this.createUrl(t).catch((e=>(console.error(e),null)))}));return Promise.all(e).then((e=>(this.replacementUrls=e.filter((e=>"string"==typeof e)),e)))}replaceCss(e,t){var i=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach(function(n){var r=this.createCssFile(n,e,t).then(function(e){var t=this.urls.indexOf(n);t>-1&&(this.replacementUrls[t]=e)}.bind(this));i.push(r)}.bind(this)),Promise.all(i)}createCssFile(e){if(dd.default.isAbsolute(e))return new Promise((function(e){e()}));var t,i=this.settings.resolver(e);t=this.settings.archive?this.settings.archive.getText(i):this.settings.request(i,"text");var n=this.urls.map((e=>{var t=this.settings.resolver(e);return new hd.default(i).relative(t)}));return t?t.then((e=>(e=(0,sd.substitute)(e,n,this.replacementUrls),"base64"===this.settings.replacements?(0,ld.createBase64Url)(e,"text/css"):(0,ld.createBlobUrl)(e,"text/css"))),(e=>new Promise((function(e){e()})))):new Promise((function(e){e()}))}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map(function(i){var n=t(i);return new hd.default(e).relative(n)}.bind(this))}get(e){var t=this.urls.indexOf(e);if(-1!==t)return this.replacementUrls.length?new Promise(function(e,i){e(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}substitute(e,t){var i;return i=t?this.relativeTo(t):this.urls,(0,sd.substitute)(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}};var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.default=void 0;var fd=function(e){return e&&e.__esModule?e:{default:e}}(dh),Ad=Xl;gd.default=class{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new fd.default,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=(0,Ad.qs)(e,"html"),i=(0,Ad.qs)(e,"ncx");return t?this.parseNav(e):i?this.parseNcx(e):void 0}parseNav(e){var t,i,n=(0,Ad.querySelectorByType)(e,"nav","page-list"),r=n?(0,Ad.qsa)(n,"li"):[],o=r.length,a=[];if(!r||0===o)return a;for(t=0;t<o;++t)i=this.item(r[t]),a.push(i);return a}parseNcx(e){var t,i,n,r,o=[],a=0;if(!(i=(0,Ad.qs)(e,"pageList")))return o;if(r=(n=(0,Ad.qsa)(i,"pageTarget")).length,!n||0===n.length)return o;for(a=0;a<r;++a)t=this.ncxItem(n[a]),o.push(t);return o}ncxItem(e){var t=(0,Ad.qs)(e,"navLabel"),i=(0,Ad.qs)(t,"text").textContent;return{href:(0,Ad.qs)(e,"content").getAttribute("src"),page:parseInt(i,10)}}item(e){var t,i,n=(0,Ad.qs)(e,"a"),r=n.getAttribute("href")||"",o=n.textContent||"",a=parseInt(o);return-1!=r.indexOf("epubcfi")?(i=(t=r.split("#"))[0],{cfi:t.length>1&&t[1],href:r,packageUrl:i,page:a}):{href:r,page:a}}process(e){e.forEach((function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)}),this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(0===this.locations.length)return-1;var i=(0,Ad.indexOfSorted)(e,this.locations,this.epubcfi.compare);return-1!=i?t=this.pages[i]:void 0!==(t=(i=(0,Ad.locationOf)(e,this.locations,this.epubcfi.compare))-1>=0?this.pages[i-1]:this.pages[0])||(t=-1),t}cfiFromPage(e){var t=-1;"number"!=typeof e&&(e=parseInt(e));var i=this.pages.indexOf(e);return-1!=i&&(t=this.locations[i]),t}pageFromPercentage(e){return Math.round(this.totalPages*e)}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(1e3*t)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e);return this.percentageFromPage(t)}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}};var md={},vd={};Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var yd=Xl,bd=Fh,wd=function(e){return e&&e.__esModule?e:{default:e}}(Al.exports);class Ed{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread="none"!==e.spread,this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,"scrolled"===e.flow||"scrolled-continuous"===e.flow||"scrolled-doc"===e.flow?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return void 0!==e&&(this._flow="scrolled"===e||"scrolled-continuous"===e||"scrolled-doc"===e?"scrolled":"paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread="none"!==e,this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,i){var n,r,o,a,s,l=i||0,c=e,u=t,h=Math.floor(c/12);s=this._spread&&c>=this._minSpreadWidth?2:1,"reflowable"!==this.name||"paginated"!==this._flow||i>=0||(l=h%2==0?h:h-1),"pre-paginated"===this.name&&(l=0),s>1?o=(n=c/s-l)+l:(n=c,o=c),"pre-paginated"===this.name&&s>1&&(c=n),r=n*s+l,a=c,this.width=c,this.height=u,this.spreadWidth=r,this.pageWidth=o,this.delta=a,this.columnWidth=n,this.gap=l,this.divisor=s,this.update({width:c,height:u,spreadWidth:r,pageWidth:o,delta:a,columnWidth:n,gap:l,divisor:s})}format(e,t,i){return"pre-paginated"===this.name?e.fit(this.columnWidth,this.height,t):"paginated"===this._flow?e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&"horizontal"===i?e.size(null,this.height):e.size(this.width,null)}count(e,t){let i,n;return"pre-paginated"===this.name?(i=1,n=1):"paginated"===this._flow?(t=t||this.delta,i=Math.ceil(e/t),n=i*this.divisor):(t=t||this.height,i=Math.ceil(e/t),n=i),{spreads:i,pages:n}}update(e){if(Object.keys(e).forEach((t=>{this.props[t]===e[t]&&delete e[t]})),Object.keys(e).length>0){let t=(0,yd.extend)(this.props,e);this.emit(bd.EVENTS.LAYOUT.UPDATED,t,e)}}}(0,wd.default)(Ed.prototype);var Cd=Ed;vd.default=Cd;var Id={};Object.defineProperty(Id,"__esModule",{value:!0}),Id.default=void 0;var Bd=function(e){return e&&e.__esModule?e:{default:e}}($u);Id.default=class{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(0!==arguments.length)return 1===arguments.length&&"object"==typeof arguments[0]?this.registerThemes(arguments[0]):1===arguments.length&&"string"==typeof arguments[0]?this.default(arguments[0]):2===arguments.length&&"string"==typeof arguments[1]?this.registerUrl(arguments[0],arguments[1]):2===arguments.length&&"object"==typeof arguments[1]?this.registerRules(arguments[0],arguments[1]):void 0}default(e){if(e)return"string"==typeof e?this.registerUrl("default",e):"object"==typeof e?this.registerRules("default",e):void 0}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&("string"==typeof e[t]?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||"default"==e)&&this.update(e)}registerUrl(e,t){var i=new Bd.default(t);this._themes[e]={url:i.toString()},(this._injected[e]||"default"==e)&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||"default"==e)&&this.update(e)}select(e){var t=this._current;this._current=e,this.update(e),this.rendition.getContents().forEach((i=>{i.removeClass(t),i.addClass(e)}))}update(e){this.rendition.getContents().forEach((t=>{this.add(e,t)}))}inject(e){var t,i=[],n=this._themes;for(var r in n)!n.hasOwnProperty(r)||r!==this._current&&"default"!==r||(((t=n[r]).rules&&Object.keys(t.rules).length>0||t.url&&-1===i.indexOf(t.url))&&this.add(r,e),this._injected.push(r));"default"!=this._current&&e.addClass(this._current)}add(e,t){var i=this._themes[e];i&&t&&(i.url?t.addStylesheet(i.url):i.serialized?(t.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(t.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,t,i){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:!0===i},n.forEach((t=>{t.css(e,this._overrides[e].value,this._overrides[e].priority)}))}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach((t=>{t.css(e)}))}overrides(e){var t=this._overrides;for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i].value,t[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}};var xd={},kd={};Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=void 0;var Qd=function(e){return e&&e.__esModule?e:{default:e}}(dh),_d=Xl;kd.default=class{constructor(e,t,i,n=!1){this.layout=e,this.horizontal="horizontal"===i,this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e);return this.rangeListToCfiList(e.section.cfiBase,t)}page(e,t,i,n){var r,o=!(!e||!e.document)&&e.document.body;if(o){if(r=this.rangePairToCfiPair(t,{start:this.findStart(o,i,n),end:this.findEnd(o,i,n)}),!0===this._dev){let t=e.document,i=new Qd.default(r.start).toRange(t),n=new Qd.default(r.end).toRange(t),o=t.defaultView.getSelection(),a=t.createRange();o.removeAllRanges(),a.setStart(i.startContainer,i.startOffset),a.setEnd(n.endContainer,n.endOffset),o.addRange(a)}return r}}walk(e,t){if(!e||e.nodeType!==Node.TEXT_NODE){var i=function(e){return e.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},n=i;n.acceptNode=i;for(var r,o,a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1);(r=a.nextNode())&&!(o=t(r)););return o}}findRanges(e){for(var t,i,n=[],r=e.contents.scrollWidth(),o=Math.ceil(r/this.layout.spreadWidth)*this.layout.divisor,a=this.layout.columnWidth,s=this.layout.gap,l=0;l<o.pages;l++)t=(a+s)*l,i=a*(l+1)+s*l,n.push({start:this.findStart(e.document.body,t,i),end:this.findEnd(e.document.body,t,i)});return n}findStart(e,t,i){for(var n,r,o=[e],a=e;o.length;)if(n=o.shift(),r=this.walk(n,(e=>{var n,r,s,l,c;if(c=(0,_d.nodeBounds)(e),this.horizontal&&"ltr"===this.direction){if(n=this.horizontal?c.left:c.top,r=this.horizontal?c.right:c.bottom,n>=t&&n<=i)return e;if(r>t)return e;a=e,o.push(e)}else if(this.horizontal&&"rtl"===this.direction){if(n=c.left,(r=c.right)<=i&&r>=t)return e;if(n<i)return e;a=e,o.push(e)}else{if(s=c.top,l=c.bottom,s>=t&&s<=i)return e;if(l>t)return e;a=e,o.push(e)}})))return this.findTextStartRange(r,t,i);return this.findTextStartRange(a,t,i)}findEnd(e,t,i){for(var n,r,o=[e],a=e;o.length;)if(n=o.shift(),r=this.walk(n,(e=>{var n,r,s,l,c;if(c=(0,_d.nodeBounds)(e),this.horizontal&&"ltr"===this.direction){if(n=Math.round(c.left),r=Math.round(c.right),n>i&&a)return a;if(r>i)return e;a=e,o.push(e)}else if(this.horizontal&&"rtl"===this.direction){if(n=Math.round(this.horizontal?c.left:c.top),(r=Math.round(this.horizontal?c.right:c.bottom))<t&&a)return a;if(n<t)return e;a=e,o.push(e)}else{if(s=Math.round(c.top),l=Math.round(c.bottom),s>i&&a)return a;if(l>i)return e;a=e,o.push(e)}})))return this.findTextEndRange(r,t,i);return this.findTextEndRange(a,t,i)}findTextStartRange(e,t,i){for(var n,r,o=this.splitTextNodeIntoRanges(e),a=0;a<o.length;a++)if(r=(n=o[a]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(r.left>=t)return n}else if(this.horizontal&&"rtl"===this.direction){if(r.right<=i)return n}else if(r.top>=t)return n;return o[0]}findTextEndRange(e,t,i){for(var n,r,o,a,s,l,c,u=this.splitTextNodeIntoRanges(e),h=0;h<u.length;h++){if(o=(r=u[h]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(a=o.left,s=o.right,a>i&&n)return n;if(s>i)return r}else if(this.horizontal&&"rtl"===this.direction){if(a=o.left,(s=o.right)<t&&n)return n;if(a<t)return r}else{if(l=o.top,c=o.bottom,l>i&&n)return n;if(c>i)return r}n=r}return u[u.length-1]}splitTextNodeIntoRanges(e,t){var i,n=[],r=(e.textContent||"").trim(),o=e.ownerDocument,a=t||" ",s=r.indexOf(a);if(-1===s||e.nodeType!=Node.TEXT_NODE)return(i=o.createRange()).selectNodeContents(e),[i];for((i=o.createRange()).setStart(e,0),i.setEnd(e,s),n.push(i),i=!1;-1!=s;)(s=r.indexOf(a,s+1))>0&&(i&&(i.setEnd(e,s),n.push(i)),(i=o.createRange()).setStart(e,s+1));return i&&(i.setEnd(e,r.length),n.push(i)),n}rangePairToCfiPair(e,t){var i=t.start,n=t.end;return i.collapse(!0),n.collapse(!1),{start:new Qd.default(i,e).toString(),end:new Qd.default(n,e).toString()}}rangeListToCfiList(e,t){for(var i,n=[],r=0;r<t.length;r++)i=this.rangePairToCfiPair(e,t[r]),n.push(i);return n}axis(e){return e&&(this.horizontal="horizontal"===e),this.horizontal}},Object.defineProperty(xd,"__esModule",{value:!0}),xd.default=void 0;var Sd=Rd(Al.exports),Td=Xl,Pd=Rd(dh),Od=Rd(kd),Dd=vh,Nd=Fh;function Rd(e){return e&&e.__esModule?e:{default:e}}const zd="undefined"!=typeof navigator,Ld=zd&&/Chrome/.test(navigator.userAgent),Md=zd&&!Ld&&/AppleWebKit/.test(navigator.userAgent);class Fd{constructor(e,t,i,n){this.epubcfi=new Pd.default,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",Nd.EPUBJS_VERSION),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Nd.DOM_EVENTS}width(e){var t=this.content;return e&&(0,Td.isNumber)(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&(0,Td.isNumber)(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&(0,Td.isNumber)(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&(0,Td.isNumber)(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,i=this.document.createRange(),n=this.content||this.document.body,r=(0,Td.borders)(n);return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.width,r&&r.width&&(t+=r.width),Math.round(t)}textHeight(){let e,t,i=this.document.createRange(),n=this.content||this.document.body;return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){return this.documentElement.scrollWidth}scrollHeight(){return this.documentElement.scrollHeight}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,i){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,i?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t,i=this.document.querySelector("meta[name='viewport']"),n={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[];if(i&&i.hasAttribute("content")){let e=i.getAttribute("content"),t=e.match(/width\s*=\s*([^,]*)/),r=e.match(/height\s*=\s*([^,]*)/),o=e.match(/initial-scale\s*=\s*([^,]*)/),a=e.match(/minimum-scale\s*=\s*([^,]*)/),s=e.match(/maximum-scale\s*=\s*([^,]*)/),l=e.match(/user-scalable\s*=\s*([^,]*)/);t&&t.length&&void 0!==t[1]&&(n.width=t[1]),r&&r.length&&void 0!==r[1]&&(n.height=r[1]),o&&o.length&&void 0!==o[1]&&(n.scale=o[1]),a&&a.length&&void 0!==a[1]&&(n.minimum=a[1]),s&&s.length&&void 0!==s[1]&&(n.maximum=s[1]),l&&l.length&&void 0!==l[1]&&(n.scalable=l[1])}return t=(0,Td.defaults)(e||{},n),e&&(t.width&&r.push("width="+t.width),t.height&&r.push("height="+t.height),t.scale&&r.push("initial-scale="+t.scale),"no"===t.scalable?(r.push("minimum-scale="+t.scale),r.push("maximum-scale="+t.scale),r.push("user-scalable="+t.scalable)):(t.scalable&&r.push("user-scalable="+t.scalable),t.minimum&&r.push("minimum-scale="+t.minimum),t.maximum&&r.push("minimum-scale="+t.maximum)),i||((i=this.document.createElement("meta")).setAttribute("name","viewport"),this.document.querySelector("head").appendChild(i)),i.setAttribute("content",r.join(", ")),this.window.scrollTo(0,0)),t}expand(){this.emit(Nd.EVENTS.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),"undefined"==typeof ResizeObserver?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();e==this._size.width&&t==this._size.height||(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(Nd.EVENTS.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&!1===this.active?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))}))}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),i=0;i<e.length;i+=1){var n;try{n=e[i].cssRules}catch(e){return}if(!n)return;for(var r=0;r<n.length;r+=1)n[r].media&&this.window.matchMedia(n[r].media.mediaText).addListener(t)}}resizeObservers(){this.observer=new ResizeObserver((e=>{requestAnimationFrame(this.resizeCheck.bind(this))})),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver((e=>{this.resizeCheck()})),this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}imageLoadListeners(){for(var e,t=this.document.querySelectorAll("img"),i=0;i<t.length;i++)void 0!==(e=t[i]).naturalWidth&&0===e.naturalWidth&&(e.onload=this.expand.bind(this))}fontLoadListeners(){this.document&&this.document.fonts&&this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var i,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let r=new Pd.default(e).toRange(this.document,t);if(r){try{if(!r.endContainer||r.startContainer==r.endContainer&&r.startOffset==r.endOffset){let e=r.startContainer.textContent.indexOf(" ",r.startOffset);-1==e&&(e=r.startContainer.textContent.length),r.setEnd(r.startContainer,e)}}catch(e){console.error("setting end offset to start container length failed",e)}if(r.startContainer.nodeType===Node.ELEMENT_NODE)i=r.startContainer.getBoundingClientRect(),n.left=i.left,n.top=i.top;else if(Md){let t=r.startContainer,n=new Range;try{1===t.nodeType?i=t.getBoundingClientRect():r.startOffset+2<t.length?(n.setStart(t,r.startOffset),n.setEnd(t,r.startOffset+2),i=n.getBoundingClientRect()):r.startOffset-2>0?(n.setStart(t,r.startOffset-2),n.setEnd(t,r.startOffset),i=n.getBoundingClientRect()):i=t.parentNode.getBoundingClientRect()}catch(e){console.error(e,e.stack)}}else i=r.getBoundingClientRect()}}else if("string"==typeof e&&e.indexOf("#")>-1){let t=e.substring(e.indexOf("#")+1),n=this.document.getElementById(t);if(n)if(Md){let e=new Range;e.selectNode(n),i=e.getBoundingClientRect()}else i=n.getBoundingClientRect()}return i&&(n.left=i.left,n.top=i.top),n}addStylesheet(e){return new Promise(function(t,i){var n,r=!1;this.document?(n=this.document.querySelector("link[href='"+e+"']"))?t(!0):((n=this.document.createElement("link")).type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((()=>{t(!0)}),1))},this.document.head.appendChild(n)):t(!1)}.bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),!!this.document&&((t=this.document.getElementById(e))||((t=this.document.createElement("style")).id=e,this.document.head.appendChild(t)),t)}addStylesheetCss(e,t){return!(!this.document||!e||(this._getStylesheetNode(t).innerHTML=e,0))}addStylesheetRules(e,t){var i;if(this.document&&e&&0!==e.length)if(i=this._getStylesheetNode(t).sheet,"[object Array]"===Object.prototype.toString.call(e))for(var n=0,r=e.length;n<r;n++){var o=1,a=e[n],s=e[n][0],l="";"[object Array]"===Object.prototype.toString.call(a[1][0])&&(a=a[1],o=0);for(var c=a.length;o<c;o++){var u=a[o];l+=u[0]+":"+u[1]+(u[2]?" !important":"")+";\n"}i.insertRule(s+"{"+l+"}",i.cssRules.length)}else Object.keys(e).forEach((t=>{const n=e[t];if(Array.isArray(n))n.forEach((e=>{const n=Object.keys(e).map((t=>`${t}:${e[t]}`)).join(";");i.insertRule(`${t}{${n}}`,i.cssRules.length)}));else{const e=Object.keys(n).map((e=>`${e}:${n[e]}`)).join(";");i.insertRule(`${t}{${e}}`,i.cssRules.length)}}))}addScript(e){return new Promise(function(t,i){var n,r=!1;this.document?((n=this.document.createElement("script")).type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((function(){t(!0)}),1))},this.document.head.appendChild(n)):t(!1)}.bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.add(e)}removeClass(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.remove(e)}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Nd.DOM_EVENTS.forEach((function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})}),this))}removeEventListeners(){this.document&&(Nd.DOM_EVENTS.forEach((function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})}),this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}.bind(this),250)}triggerSelectedEvent(e){var t,i;e&&e.rangeCount>0&&((t=e.getRangeAt(0)).collapsed||(i=new Pd.default(t,this.cfiBase).toString(),this.emit(Nd.EVENTS.CONTENTS.SELECTED,i),this.emit(Nd.EVENTS.CONTENTS.SELECTED_RANGE,t)))}range(e,t){return new Pd.default(e).toRange(this.document,t)}cfiFromRange(e,t){return new Pd.default(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Pd.default(e,this.cfiBase,t).toString()}map(e){return new Od.default(e).section()}size(e,t){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),i.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,t,i,n,r){let o=(0,Td.prefixed)("column-axis"),a=(0,Td.prefixed)("column-gap"),s=(0,Td.prefixed)("column-width"),l=(0,Td.prefixed)("column-fill"),c=0===this.writingMode().indexOf("vertical")?"vertical":"horizontal";this.layoutStyle("paginated"),"rtl"===r&&"horizontal"===c&&this.direction(r),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),"vertical"===c?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(a,n+"px"),this.css(s,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,i){var n="scale("+e+")",r="";this.css("transform-origin","top left"),(t>=0||i>=0)&&(r=" translate("+(t||0)+"px, "+(i||0)+"px )"),this.css("transform",n+r)}fit(e,t,i){var n=this.viewport(),r=parseInt(n.width),o=parseInt(n.height),a=e/r,s=t/o,l=a<s?a:s;if(this.layoutStyle("paginated"),this.width(r),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",r*l+"px "+o*l+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var c=e-r*l;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,i,n,r){return new Od.default(t,r).page(this,e,i,n)}linksHandler(){(0,Dd.replaceLinks)(this.content,(e=>{this.emit(Nd.EVENTS.CONTENTS.LINK_CLICKED,e)}))}writingMode(e){let t=(0,Td.prefixed)("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(e){switch(e){case"dom-manipulation":case"layout-changes":case"touch-events":case"mouse-events":case"keyboard-events":return!0;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}(0,Sd.default)(Fd.prototype);var Hd=Fd;xd.default=Hd;var jd={};Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=void 0;var Vd=qd(Al.exports),Wd=qd(dh),Ud=Fh;function qd(e){return e&&e.__esModule?e:{default:e}}class Xd{constructor({type:e,cfiRange:t,data:i,sectionIndex:n,cb:r,className:o,styles:a}){this.type=e,this.cfiRange=t,this.data=i,this.sectionIndex=n,this.mark=void 0,this.cb=r,this.className=o,this.styles=a}update(e){this.data=e}attach(e){let t,{cfiRange:i,data:n,type:r,mark:o,cb:a,className:s,styles:l}=this;return"highlight"===r?t=e.highlight(i,n,a,s,l):"underline"===r?t=e.underline(i,n,a,s,l):"mark"===r&&(t=e.mark(i,n,a)),this.mark=t,this.emit(Ud.EVENTS.ANNOTATION.ATTACH,t),t}detach(e){let t,{cfiRange:i,type:n}=this;return e&&("highlight"===n?t=e.unhighlight(i):"underline"===n?t=e.ununderline(i):"mark"===n&&(t=e.unmark(i))),this.mark=void 0,this.emit(Ud.EVENTS.ANNOTATION.DETACH,t),t}text(){}}(0,Vd.default)(Xd.prototype);jd.default=class{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,i,n,r,o){let a=encodeURI(t+e),s=new Wd.default(t).spinePos,l=new Xd({type:e,cfiRange:t,data:i,sectionIndex:s,cb:n,className:r,styles:o});return this._annotations[a]=l,s in this._annotationsBySectionIndex?this._annotationsBySectionIndex[s].push(a):this._annotationsBySectionIndex[s]=[a],this.rendition.views().forEach((e=>{l.sectionIndex===e.index&&l.attach(e)})),l}remove(e,t){let i=encodeURI(e+t);if(i in this._annotations){let e=this._annotations[i];if(t&&e.type!==t)return;this.rendition.views().forEach((t=>{this._removeFromAnnotationBySectionIndex(e.sectionIndex,i),e.sectionIndex===t.index&&e.detach(t)})),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter((e=>e!==t))}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,i,n,r){return this.add("highlight",e,t,i,n,r)}underline(e,t,i,n,r){return this.add("underline",e,t,i,n,r)}mark(e,t,i){return this.add("mark",e,t,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach((t=>{this._annotations[t].attach(e)}))}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach((t=>{this._annotations[t].detach(e)}))}show(){}hide(){}};var Yd={},Kd={},Gd={};function Zd(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.createElement=Zd,Gd.default={createElement:Zd};var Jd={};function $d(e,t){function i(i){for(var n=t.length-1;n>=0;n--){var r=t[n],o=i.clientX,a=i.clientY;if(i.touches&&i.touches.length&&(o=i.touches[0].clientX,a=i.touches[0].clientY),tp(r,e,o,a)){r.dispatchEvent(ep(i));break}}}if("iframe"===e.nodeName||"IFRAME"===e.nodeName)try{this.target=e.contentDocument}catch(t){this.target=e}else this.target=e;for(var n=["mouseup","mousedown","click","touchstart"],r=0;r<n.length;r++){var o=n[r];this.target.addEventListener(o,(function(e){return i(e)}),!1)}}function ep(e){var t=Object.assign({},e,{bubbles:!1});try{return new MouseEvent(e.type,t)}catch(n){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e.type,!1,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i}}function tp(e,t,i,n){var r=t.getBoundingClientRect();function o(e,t,i){var n=e.top-r.top,o=e.left-r.left,a=n+e.height,s=o+e.width;return n<=i&&o<=t&&a>i&&s>t}if(!o(e.getBoundingClientRect(),i,n))return!1;for(var a=e.getClientRects(),s=0,l=a.length;s<l;s++)if(o(a[s],i,n))return!0;return!1}Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.proxyMouse=$d,Jd.clone=ep,Jd.default={proxyMouse:$d},Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.Underline=Kd.Highlight=Kd.Mark=Kd.Pane=void 0;var ip=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},np=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),rp=ap(Gd),op=ap(Jd);function ap(e){return e&&e.__esModule?e:{default:e}}function sp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function lp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Kd.Pane=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;cp(this,e),this.target=t,this.element=rp.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),op.default.proxyMouse(this.target,this.marks),this.container=i,this.container.appendChild(this.element),this.render()}return np(e,[{key:"addMark",value:function(e){var t=rp.default.createElement("g");return this.element.appendChild(t),e.bind(t,this.container),this.marks.push(e),e.render(),e}},{key:"removeMark",value:function(e){var t=this.marks.indexOf(e);if(-1!==t){var i=e.unbind();this.element.removeChild(i),this.marks.splice(t,1)}}},{key:"render",value:function(){!function(e,t){e.style.setProperty("top",t.top+"px","important"),e.style.setProperty("left",t.left+"px","important"),e.style.setProperty("height",t.height+"px","important"),e.style.setProperty("width",t.width+"px","important")}(this.element,function(e,t){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left,height:e.scrollHeight,width:e.scrollWidth}}(this.target,this.container));var e=!0,t=!1,i=void 0;try{for(var n,r=this.marks[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.render()}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}}]),e}();var up=Kd.Mark=function(){function e(){cp(this,e),this.element=null}return np(e,[{key:"bind",value:function(e,t){this.element=e,this.container=t}},{key:"unbind",value:function(){var e=this.element;return this.element=null,e}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(e){this.element&&this.element.dispatchEvent(e)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var e=[],t=this.element.firstChild;t;)e.push(t.getBoundingClientRect()),t=t.nextSibling;return e}},{key:"filteredRanges",value:function(){var e=Array.from(this.range.getClientRects());return e.filter((function(t){for(var i=0;i<e.length;i++){if(e[i]===t)return!0;if(n=e[i],(r=t).right<=n.right&&r.left>=n.left&&r.top>=n.top&&r.bottom<=n.bottom)return!1}var n,r;return!0}))}}]),e}(),hp=Kd.Highlight=function(e){function t(e,i,n,r){cp(this,t);var o=sp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.range=e,o.className=i,o.data=n||{},o.attributes=r||{},o}return lp(t,up),np(t,[{key:"bind",value:function(e,i){for(var n in ip(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bind",this).call(this,e,i),this.data)this.data.hasOwnProperty(n)&&(this.element.dataset[n]=this.data[n]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&this.element.setAttribute(n,this.attributes[n]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),i=this.element.getBoundingClientRect(),n=this.container.getBoundingClientRect(),r=0,o=t.length;r<o;r++){var a=t[r],s=rp.default.createElement("rect");s.setAttribute("x",a.left-i.left+n.left),s.setAttribute("y",a.top-i.top+n.top),s.setAttribute("height",a.height),s.setAttribute("width",a.width),e.appendChild(s)}this.element.appendChild(e)}}]),t}();Kd.Underline=function(e){function t(e,i,n,r){return cp(this,t),sp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n,r))}return lp(t,hp),np(t,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),i=this.element.getBoundingClientRect(),n=this.container.getBoundingClientRect(),r=0,o=t.length;r<o;r++){var a=t[r],s=rp.default.createElement("rect");s.setAttribute("x",a.left-i.left+n.left),s.setAttribute("y",a.top-i.top+n.top),s.setAttribute("height",a.height),s.setAttribute("width",a.width),s.setAttribute("fill","none");var l=rp.default.createElement("line");l.setAttribute("x1",a.left-i.left+n.left),l.setAttribute("x2",a.left-i.left+n.left+a.width),l.setAttribute("y1",a.top-i.top+n.top+a.height-1),l.setAttribute("y2",a.top-i.top+n.top+a.height-1),l.setAttribute("stroke-width",1),l.setAttribute("stroke","black"),l.setAttribute("stroke-linecap","square"),e.appendChild(s),e.appendChild(l)}this.element.appendChild(e)}}]),t}(),Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.default=void 0;var dp=vp(Al.exports),pp=Xl,gp=vp(dh),fp=vp(xd),Ap=Fh,mp=Kd;function vp(e){return e&&e.__esModule?e:{default:e}}class yp{constructor(e,t){this.settings=(0,pp.extend)({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+(0,pp.uuid)(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new gp.default,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",t.style.flex=e&&"horizontal"==e?"none":"initial",t}create(){return this.iframe||(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=(0,pp.bounds)(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write")),this.iframe}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(e){return this.load(e)}.bind(this)).then(function(){let e,t=this.contents.writingMode();return e="scrolled"===this.settings.flow?0===t.indexOf("vertical")?"horizontal":"vertical":0===t.indexOf("vertical")?"vertical":"horizontal",0===t.indexOf("vertical")&&"paginated"===this.settings.flow&&(this.layout.delta=this.layout.height),this.setAxis(e),this.emit(Ap.EVENTS.VIEWS.AXIS,e),this.setWritingMode(t),this.emit(Ap.EVENTS.VIEWS.WRITING_MODE,t),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise(((e,t)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),e()}))}.bind(this),function(e){return this.emit(Ap.EVENTS.VIEWS.LOAD_ERROR,e),new Promise(((t,i)=>{i(e)}))}.bind(this)).then(function(){this.emit(Ap.EVENTS.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var i=e||this.settings.width,n=t||this.settings.height;"pre-paginated"===this.layout.name?this.lock("both",i,n):"horizontal"===this.settings.axis?this.lock("height",i,n):this.lock("width",i,n),this.settings.width=i,this.settings.height=n}lock(e,t,i){var n,r=(0,pp.borders)(this.element);n=this.iframe?(0,pp.borders)(this.iframe):{width:0,height:0},"width"==e&&(0,pp.isNumber)(t)&&(this.lockedWidth=t-r.width-n.width),"height"==e&&(0,pp.isNumber)(i)&&(this.lockedHeight=i-r.height-n.height),"both"===e&&(0,pp.isNumber)(t)&&(0,pp.isNumber)(i)&&(this.lockedWidth=t-r.width-n.width,this.lockedHeight=i-r.height-n.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t,i=this.lockedWidth,n=this.lockedHeight;this.iframe&&!this._expanding&&(this._expanding=!0,"pre-paginated"===this.layout.name?(i=this.layout.columnWidth,n=this.layout.height):"horizontal"===this.settings.axis?((i=this.contents.textWidth())%this.layout.pageWidth>0&&(i=Math.ceil(i/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(t=i/this.layout.pageWidth,this.layout.divisor>1&&"reflowable"===this.layout.name&&t%2>0&&(i+=this.layout.pageWidth))):"vertical"===this.settings.axis&&(n=this.contents.textHeight(),"paginated"===this.settings.flow&&n%this.layout.height>0&&(n=Math.ceil(n/this.layout.height)*this.layout.height)),(this._needsReframe||i!=this._width||n!=this._height)&&this.reframe(i,n),this._expanding=!1)}reframe(e,t){var i;(0,pp.isNumber)(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),(0,pp.isNumber)(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t),i={width:e,height:t,widthDelta:this.prevBounds?e-this.prevBounds.width:e,heightDelta:this.prevBounds?t-this.prevBounds.height:t},this.pane&&this.pane.render(),requestAnimationFrame((()=>{let e;for(let t in this.marks)this.marks.hasOwnProperty(t)&&(e=this.marks[t],this.placeMark(e.element,e.range))})),this.onResize(this,i),this.emit(Ap.EVENTS.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=(0,pp.bounds)(this.element)}load(e){var t=new pp.defer,i=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=function(e){this.onLoad(e,t)}.bind(this),"blobUrl"===this.settings.method)this.blobUrl=(0,pp.createBlobUrl)(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.settings.method)this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction((function(){n.iframe.contentDocument.write(e)}))}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new fp.default(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):((i=this.document.createElement("link")).setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(Ap.EVENTS.CONTENTS.EXPAND,(()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))})),this.contents.on(Ap.EVENTS.CONTENTS.RESIZE,(e=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))})),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,this.element.style.flex="horizontal"==e?"none":"initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new pp.defer;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(Ap.EVENTS.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),(function(e){t.reject(e,this)})),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Ap.EVENTS.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Ap.EVENTS.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return!e&&this.elementBounds||(this.elementBounds=(0,pp.bounds)(this.element)),this.elementBounds}highlight(e,t={},i,n="epubjs-hl",r={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},r);let a=this.contents.range(e),s=()=>{this.emit(Ap.EVENTS.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new mp.Pane(this.iframe,this.element));let l=new mp.Highlight(a,n,t,o),c=this.pane.addMark(l);return this.highlights[e]={mark:c,element:c.element,listeners:[s,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",s),c.element.addEventListener("touchstart",s),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}underline(e,t={},i,n="epubjs-ul",r={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},r);let a=this.contents.range(e),s=()=>{this.emit(Ap.EVENTS.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new mp.Pane(this.iframe,this.element));let l=new mp.Underline(a,n,t,o),c=this.pane.addMark(l);return this.underlines[e]={mark:c,element:c.element,listeners:[s,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",s),c.element.addEventListener("touchstart",s),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}mark(e,t={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let r=n.commonAncestorContainer,o=1===r.nodeType?r:r.parentNode,a=i=>{this.emit(Ap.EVENTS.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&1===r.nodeType?(n=new Range,n.selectNodeContents(r)):n.collapsed&&(n=new Range,n.selectNodeContents(o));let s=this.document.createElement("a");return s.setAttribute("ref","epubjs-mk"),s.style.position="absolute",s.dataset.epubcfi=e,t&&Object.keys(t).forEach((e=>{s.dataset[e]=t[e]})),i&&(s.addEventListener("click",i),s.addEventListener("touchstart",i)),s.addEventListener("click",a),s.addEventListener("touchstart",a),this.placeMark(s,n),this.element.appendChild(s),this.marks[e]={element:s,range:n,listeners:[a,i]},o}placeMark(e,t){let i,n,r;if("pre-paginated"===this.layout.name||"horizontal"!==this.settings.axis){let e=t.getBoundingClientRect();i=e.top,n=e.right}else{let e,a=t.getClientRects();for(var o=0;o!=a.length;o++)e=a[o],(!r||e.left<r)&&(r=e.left,n=Math.ceil(r/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=e.top)}e.style.top=`${i}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach((e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach((e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach((e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&(0,pp.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}(0,dp.default)(yp.prototype);var bp=yp;Yd.default=bp;var wp={},Ep={};function Cp(){var e=document.createElement("div");e.dir="rtl",e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="0px",e.style.left="0px",e.style.overflow="hidden";var t=document.createElement("div");t.style.width="2px";var i=document.createElement("span");i.style.width="1px",i.style.display="inline-block";var n=document.createElement("span");return n.style.width="1px",n.style.display="inline-block",t.appendChild(i),t.appendChild(n),e.appendChild(t),e}Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.createDefiner=Cp,Ep.default=function(){var e="reverse",t=Cp();return document.body.appendChild(t),t.scrollLeft>0?e="default":"undefined"!=typeof Element&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(e="negative")):(t.scrollLeft=1,0===t.scrollLeft&&(e="negative")),document.body.removeChild(t),e};var Ip={},Bp=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},xp="object"==typeof hi&&hi&&hi.Object===Object&&hi,kp="object"==typeof self&&self&&self.Object===Object&&self,Qp=xp||kp||Function("return this")(),_p=Qp,Sp=/\s/,Tp=function(e){for(var t=e.length;t--&&Sp.test(e.charAt(t)););return t},Pp=/^\s+/,Op=Qp.Symbol,Dp=Op,Np=Object.prototype,Rp=Np.hasOwnProperty,zp=Np.toString,Lp=Dp?Dp.toStringTag:void 0,Mp=Object.prototype.toString,Fp=function(e){var t=Rp.call(e,Lp),i=e[Lp];try{e[Lp]=void 0;var n=!0}catch(e){}var r=zp.call(e);return n&&(t?e[Lp]=i:delete e[Lp]),r},Hp=function(e){return Mp.call(e)},jp=Op?Op.toStringTag:void 0,Vp=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jp&&jp in Object(e)?Fp(e):Hp(e)},Wp=function(e){return null!=e&&"object"==typeof e},Up=function(e){return e?e.slice(0,Tp(e)+1).replace(Pp,""):e},qp=Bp,Xp=function(e){return"symbol"==typeof e||Wp(e)&&"[object Symbol]"==Vp(e)},Yp=/^[-+]0x[0-9a-f]+$/i,Kp=/^0b[01]+$/i,Gp=/^0o[0-7]+$/i,Zp=parseInt,Jp=Bp,$p=function(){return _p.Date.now()},eg=function(e){if("number"==typeof e)return e;if(Xp(e))return NaN;if(qp(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qp(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Up(e);var i=Kp.test(e);return i||Gp.test(e)?Zp(e.slice(2),i?2:8):Yp.test(e)?NaN:+e},tg=Math.max,ig=Math.min,ng=function(e,t,i){var n,r,o,a,s,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,o=r;return n=r=void 0,c=t,a=e.apply(o,i)}function g(e){return c=e,s=setTimeout(A,t),u?p(e):a}function f(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-c>=o}function A(){var e=$p();if(f(e))return m(e);s=setTimeout(A,function(e){var i=t-(e-l);return h?ig(i,o-(e-c)):i}(e))}function m(e){return s=void 0,d&&n?p(e):(n=r=void 0,a)}function v(){var e=$p(),i=f(e);if(n=arguments,r=this,l=e,i){if(void 0===s)return g(l);if(h)return clearTimeout(s),s=setTimeout(A,t),p(l)}return void 0===s&&(s=setTimeout(A,t)),a}return t=eg(t)||0,Jp(i)&&(u=!!i.leading,o=(h="maxWait"in i)?tg(eg(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=r=s=void 0},v.flush=function(){return void 0===s?a:m($p())},v},rg=ng,og=Bp,ag=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return og(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),rg(e,t,{leading:n,maxWait:t,trailing:r})};Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.default=void 0;var sg=Xl,lg=ag&&ag.__esModule?ag:{default:ag};Ip.default=class{constructor(e){this.settings=e||{},this.id="epubjs-container-"+(0,sg.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,i=e.width,n=e.overflow||!1,r=e.axis||"vertical",o=e.direction;(0,sg.extend)(this.settings,e),e.height&&(0,sg.isNumber)(e.height)&&(t=e.height+"px"),e.width&&(0,sg.isNumber)(e.width)&&(i=e.width+"px");let a=document.createElement("div");return a.id=this.id,a.classList.add("epub-container"),a.style.wordSpacing="0",a.style.lineHeight="0",a.style.verticalAlign="top",a.style.position="relative","horizontal"===r&&(a.style.display="flex",a.style.flexDirection="row",a.style.flexWrap="nowrap"),i&&(a.style.width=i),t&&(a.style.height=t),n&&("scroll"===n&&"vertical"===r?(a.style["overflow-y"]=n,a.style["overflow-x"]="hidden"):"scroll"===n&&"horizontal"===r?(a.style["overflow-y"]="hidden",a.style["overflow-x"]=n):a.style.overflow=n),o&&(a.dir=o,a.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),a}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if((0,sg.isElement)(e)?t=e:"string"==typeof e&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t,i=this.getElement(e);if(i)return t=this.settings.hidden?this.wrapper:this.container,i.appendChild(t),this.element=i,i}getContainer(){return this.container}onResize(e){(0,sg.isNumber)(this.settings.width)&&(0,sg.isNumber)(this.settings.height)||(this.resizeFunc=(0,lg.default)(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var i;let n=e||this.settings.width,r=t||this.settings.height;null===e?(i=this.element.getBoundingClientRect()).width&&(e=Math.floor(i.width),this.container.style.width=e+"px"):(0,sg.isNumber)(e)?this.container.style.width=e+"px":this.container.style.width=e,null===t?(i=i||this.element.getBoundingClientRect()).height&&(t=i.height,this.container.style.height=t+"px"):(0,sg.isNumber)(t)?this.container.style.height=t+"px":this.container.style.height=t,(0,sg.isNumber)(e)||(e=this.container.clientWidth),(0,sg.isNumber)(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=(0,sg.windowBounds)(),a=window.getComputedStyle(document.body),s=parseFloat(a["padding-left"])||0,l=parseFloat(a["padding-right"])||0,c=parseFloat(a["padding-top"])||0,u=parseFloat(a["padding-bottom"])||0;return n||(e=o.width-s-l),(this.settings.fullsize&&!r||!r)&&(t=o.height-c-u),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return"visible"!==this.container.style.overflow&&(e=this.container&&this.container.getBoundingClientRect()),e&&e.width&&e.height?e:(0,sg.windowBounds)()}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var i="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";")})),this.sheet.insertRule(i+e+" {"+n+"}",0)}axis(e){"horizontal"===e?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&("scroll"===e&&"vertical"===this.settings.axis?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):"scroll"===e&&"horizontal"===this.settings.axis?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}};var cg={};Object.defineProperty(cg,"__esModule",{value:!0}),cg.default=void 0;cg.default=class{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var i=0;i<t;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,i=this.length,n=0;n<i;n++)if((t=this._views[n]).displayed&&t.section.index==e.index)return t}displayed(){for(var e,t=[],i=this.length,n=0;n<i;n++)(e=this._views[n]).displayed&&t.push(e);return t}show(){for(var e,t=this.length,i=0;i<t;i++)(e=this._views[i]).displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,i=0;i<t;i++)(e=this._views[i]).displayed&&e.hide();this.hidden=!0}},Object.defineProperty(wp,"__esModule",{value:!0}),wp.default=void 0;var ug=vg(Al.exports),hg=Xl,dg=vg(Ep),pg=vg(kd),gg=vg(Lh),fg=vg(Ip),Ag=vg(cg),mg=Fh;function vg(e){return e&&e.__esModule?e:{default:e}}class yg{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new gg.default(this),this.settings=(0,hg.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),(0,hg.extend)(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let i=e.tagName;void 0!==this.settings.fullsize||!i||"body"!=i.toLowerCase()&&"html"!=i.toLowerCase()||(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=(0,dg.default)(),this.stage=new fg.default({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Ag.default(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(e){this.destroy()}.bind(this)),e=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(mg.EVENTS.MANAGERS.ORIENTATION_CHANGE,t)}.bind(this),500)}onResized(e){this.resize()}resize(e,t,i){let n=this.stage.size(e,t);this.winBounds=(0,hg.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height?this._stageSize=void 0:this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(mg.EVENTS.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,t){return new this.View(e,(0,hg.extend)(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,i){let n;if("pre-paginated"===this.layout.name&&this.layout.divisor>1){if(e||0===t.index)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return i.call(this,n)}}display(e,t){var i=new hg.defer,n=i.promise;(t===e.href||(0,hg.isNumber)(t))&&(t=void 0);var r=this.views.find(e);if(r&&e&&"pre-paginated"!==this.layout.name){let e=r.offset();if("ltr"===this.settings.direction)this.scrollTo(e.left,e.top,!0);else{let t=r.width();this.scrollTo(e.left+t,e.top,!0)}if(t){let e=r.locationOf(t),i=r.width();this.moveTo(e,i)}return i.resolve(),n}this.clear();let o=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(o=!0),this.add(e,o).then(function(e){if(t){let i=e.locationOf(t),n=e.width();this.moveTo(i,n)}}.bind(this),(e=>{i.reject(e)})).then(function(){return this.handleNextPrePaginated(o,e,this.add)}.bind(this)).then(function(){this.views.show(),i.resolve()}.bind(this)),n}afterDisplayed(e){this.emit(mg.EVENTS.MANAGERS.ADDED,e)}afterResized(e){this.emit(mg.EVENTS.MANAGERS.RESIZE,e.section)}moveTo(e,t){var i=0,n=0;this.isPaginated?((i=Math.floor(e.left/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),(n=Math.floor(e.top/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,"rtl"===this.settings.direction&&(i+=this.layout.delta,i-=t),this.scrollTo(i,n,!0)}add(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(mg.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),i.on(mg.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),i.display(this.request)}append(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(mg.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),i.on(mg.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),i.display(this.request)}prepend(e,t){var i=this.createView(e,t);return i.on(mg.EVENTS.VIEWS.RESIZED,(e=>{this.counter(e)})),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(mg.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),i.on(mg.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),i.display(this.request)}counter(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e;let t=this.settings.direction;if(this.views.length&&(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t?this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next():this.container.scrollLeft+-1*this.layout.delta>-1*this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next():(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft+this.container.offsetWidth+this.layout.delta<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()),e)){this.clear(),this.updateLayout();let t=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(t=!0),this.append(e,t).then(function(){return this.handleNextPrePaginated(t,e,this.append)}.bind(this),(e=>e)).then(function(){this.isPaginated||"horizontal"!==this.settings.axis||"rtl"!==this.settings.direction||"default"!==this.settings.rtlScrollType||this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e;let t=this.settings.direction;if(this.views.length&&(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t?this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft+this.container.offsetWidth<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev():this.container.scrollLeft<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev():(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()),e)){this.clear(),this.updateLayout();let t=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!=typeof e.prev()&&(t=!0),this.prepend(e,t).then(function(){var t;if("pre-paginated"===this.layout.name&&this.layout.divisor>1&&(t=e.prev()))return this.prepend(t)}.bind(this),(e=>e)).then(function(){this.isPaginated&&"horizontal"===this.settings.axis&&("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?this.scrollTo(0,0,!0):this.scrollTo(-1*this.container.scrollWidth+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&"horizontal"===this.settings.axis?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,r="vertical"===this.settings.axis;this.settings.direction;let o=0;this.settings.fullsize&&(o=r?window.scrollY:window.scrollX);let a=e.map((e=>{let a,s,l,c,{index:u,href:h}=e.section,d=e.position(),p=e.width(),g=e.height();r?(a=o+t.top-d.top+0,s=a+i-0,c=this.layout.count(g,i).pages,l=i):(a=o+t.left-d.left+0,s=a+n-0,c=this.layout.count(p,n).pages,l=n);let f=Math.ceil(a/l),A=[],m=Math.ceil(s/l);if("rtl"===this.settings.direction&&!r){let e=f;f=c-m,m=c-e}A=[];for(var v=f;v<=m;v++){let e=v+1;A.push(e)}return{index:u,href:h,pages:A,totalPages:c,mapping:this.mapping.page(e.contents,e.section.cfiBase,a,s)}}));return a}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=0,n=0;this.settings.fullsize&&(i=window.scrollX);let r=e.map((e=>{let r,o,a,s,{index:l,href:c}=e.section,u=e.position(),h=e.width();"rtl"===this.settings.direction?(r=t.right-i,s=Math.min(Math.abs(r-u.left),this.layout.width)-n,a=u.width-(u.right-r)-n,o=a-s):(r=t.left+i,s=Math.min(u.right-r,this.layout.width)-n,o=r-u.left+n,a=o+s),n+=s;let d=this.mapping.page(e.contents,e.section.cfiBase,o,a),p=this.layout.count(h).pages,g=Math.floor(o/this.layout.pageWidth),f=[],A=Math.floor(a/this.layout.pageWidth);if(g<0&&(g=0,A+=1),"rtl"===this.settings.direction){let e=g;g=p-A,A=p-e}for(var m=g+1;m<=A;m++){let e=m;f.push(e)}return{index:l,href:c,pages:f,totalPages:p,mapping:d}}));return r}isVisible(e,t,i,n){var r=e.position(),o=n||this.bounds();return"horizontal"===this.settings.axis&&r.right>o.left-t&&r.left<o.right+i||"vertical"===this.settings.axis&&r.bottom>o.top-t&&r.top<o.bottom+i}visible(){for(var e,t=this.bounds(),i=this.views.displayed(),n=i.length,r=[],o=0;o<n;o++)e=i[o],!0===this.isVisible(e,0,0,t)&&r.push(e);return r}scrollBy(e,t,i){let n="rtl"===this.settings.direction?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(mg.EVENTS.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(mg.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){return this.stage.bounds()}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&"pre-paginated"===this.layout.name&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new pg.default(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach((function(t){t&&t.setLayout(e)}))}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){(t||e!==this.settings.axis)&&(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new pg.default(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&("vertical"===e?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let i="paginated"===e||"auto"===e;this.isPaginated=i,"scrolled-doc"===e||"scrolled-continuous"===e||"scrolled"===e?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views?(this.views.forEach((function(t){const i=t&&t.contents;i&&e.push(i)})),e):e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}(0,ug.default)(yg.prototype);var bg=yg;wp.default=bg;var wg={},Eg={};Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.default=void 0;var Cg=Xl,Ig=Fh,Bg=function(e){return e&&e.__esModule?e:{default:e}}(Al.exports);const xg=Math.PI/2,kg={easeOutSine:function(e){return Math.sin(e*xg)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInCubic:function(e){return Math.pow(e,3)}};class Qg{constructor(e,t){this.settings=(0,Cg.extend)({duration:80,minVelocity:.2,minDistance:10,easing:kg.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.settings.axis,this.manager.isPaginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Ig.EVENTS.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Ig.EVENTS.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach((e=>{t.on(e,(e=>this.triggerViewEvent(e,t)))}))}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:i}=e.touches[0],n=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();0!==t?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,i=Math.abs(t),n=t/(this.endTime-this.startTime),r=this.settings.minVelocity;return i<=this.settings.minDistance||i>=e?0:n>r?-1:n<-r?1:void 0}needsSnap(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!=0}snap(e=0){let t=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/i)*i;return e&&(n+=e*i),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Cg.defer,i=this.scrollLeft,n=this.now(),r=this.settings.duration,o=this.settings.easing;return this.snapping=!0,function a(){const s=this.now(),l=Math.min(1,(s-n)/r);if(o(l),this.touchCanceler||this.resizeCanceler)return this.resizeCanceler=!1,this.snapping=!1,void t.resolve();l<1?(window.requestAnimationFrame(a.bind(this)),this.scrollTo(i+(e-i)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():(new Date).getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}(0,Bg.default)(Qg.prototype);var _g=Qg;Eg.default=_g,Object.defineProperty(wg,"__esModule",{value:!0}),wg.default=void 0;var Sg=Xl,Tg=Ng(wp),Pg=Ng(Eg),Og=Fh,Dg=Ng(ng);function Ng(e){return e&&e.__esModule?e:{default:e}}class Rg extends Tg.default{constructor(e){super(e),this.name="continuous",this.settings=(0,Sg.extend)(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),(0,Sg.extend)(this.settings,e.settings||{}),"undefined"!=e.settings.gap&&0===e.settings.gap&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return Tg.default.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}fill(e){var t=e||new Sg.defer;return this.q.enqueue((()=>this.check())).then((e=>{e?this.fill(t):t.resolve()})),t.promise}moveTo(e){var t=0,i=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,this.settings.offsetDelta):(i=e.top,e.top,this.settings.offsetDelta),(t>0||i>0)&&this.scrollBy(t,i,!0)}afterResized(e){this.emit(Og.EVENTS.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(Og.EVENTS.VIEWS.RESIZED,(e=>{t.expanded=!0})),t.on(Og.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),t.on(Og.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(Og.EVENTS.VIEWS.RESIZED,(e=>{t.expanded=!0})),t.on(Og.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),t.on(Og.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(Og.EVENTS.VIEWS.RESIZED,(e=>{this.counter(e),t.expanded=!0})),t.on(Og.EVENTS.VIEWS.AXIS,(e=>{this.updateAxis(e)})),t.on(Og.EVENTS.VIEWS.WRITING_MODE,(e=>{this.updateWritingMode(e)})),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t,i=this.bounds(),n=this.views.all(),r=n.length,o=void 0!==e?e:this.settings.offset||0,a=new Sg.defer,s=[],l=0;l<r;l++)if(t=n[l],!0===this.isVisible(t,o,o,i))if(t.displayed)t.show();else{let e=t.display(this.request).then((function(e){e.show()}),(e=>{t.hide()}));s.push(e)}else this.q.enqueue(t.destroy.bind(t)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return s.length?Promise.all(s).catch((e=>{a.reject(e)})):(a.resolve(),a.promise)}check(e,t){var i=new Sg.defer,n=[],r="horizontal"===this.settings.axis,o=this.settings.offset||0;e&&r&&(o=e),t&&!r&&(o=t);var a=this._bounds;let s=r?this.scrollLeft:this.scrollTop,l=r?Math.floor(a.width):a.height,c=r?this.container.scrollWidth:this.container.scrollHeight,u=this.writingMode&&0===this.writingMode.indexOf("vertical")?"vertical":"horizontal",h=this.settings.rtlScrollType,d="rtl"===this.settings.direction;this.settings.fullsize?(r&&d&&"negative"===h||!r&&d&&"default"===h)&&(s*=-1):(d&&"default"===h&&"horizontal"===u&&(s=c-l-s),d&&"negative"===h&&"horizontal"===u&&(s*=-1));let p=s-o;s+l+o>=c&&(()=>{let e=this.views.last(),t=e&&e.section.next();t&&n.push(this.append(t))})(),p<0&&(()=>{let e=this.views.first(),t=e&&e.section.prev();t&&n.push(this.prepend(t))})();let g=n.map((e=>e.display(this.request)));return n.length?Promise.all(g).then((()=>this.check())).then((()=>this.update(o)),(e=>e)):(this.q.enqueue(function(){this.update()}.bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Sg.defer,t=this.views.displayed(),i=t[0],n=t[t.length-1],r=this.views.indexOf(i),o=this.views.indexOf(n),a=this.views.slice(0,r),s=this.views.slice(o+1),l=0;l<a.length-1;l++)this.erase(a[l],a);for(var c=1;c<s.length;c++)this.erase(s[c]);return e.resolve(),e.promise}erase(e,t){var i,n;this.settings.fullsize?(i=window.scrollY,n=window.scrollX):(i=this.container.scrollTop,n=this.container.scrollLeft);var r=e.bounds();this.views.remove(e),t&&("vertical"===this.settings.axis?this.scrollTo(0,i-r.height,!0):"rtl"===this.settings.direction?this.settings.fullsize?this.scrollTo(n+Math.floor(r.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(r.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(e){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Pg.default(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}addScrollListeners(){var e;this.tick=Sg.requestAnimationFrame;let t="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=(0,Dg.default)(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,i="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.settings.fullsize?(e=window.scrollY*i,t=window.scrollX*i):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(Og.EVENTS.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Og.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Pg.default(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}var zg=Rg;wg.default=zg,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var Lg=Gg(Al.exports),Mg=Xl,Fg=Gg(Ah),Hg=Gg(dh),jg=Gg(Lh),Vg=Gg(vd),Wg=Gg(Id);Gg(xd);var Ug=Gg(jd),qg=Fh,Xg=Gg(Yd),Yg=Gg(wp),Kg=Gg(wg);function Gg(e){return e&&e.__esModule?e:{default:e}}class Zg{constructor(e,t){this.settings=(0,Mg.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),(0,Mg.extend)(this.settings,t),"object"==typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Fg.default(this),this.hooks.serialize=new Fg.default(this),this.hooks.content=new Fg.default(this),this.hooks.unloaded=new Fg.default(this),this.hooks.layout=new Fg.default(this),this.hooks.render=new Fg.default(this),this.hooks.show=new Fg.default(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Wg.default(this),this.annotations=new Ug.default(this),this.epubcfi=new Hg.default,this.q=new jg.default(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Mg.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){return"string"==typeof e&&"default"===e?Yg.default:"string"==typeof e&&"continuous"===e?Kg.default:e}requireView(e){return"string"==typeof e&&"iframe"===e?Xg.default:e}start(){switch(this.settings.layout||"pre-paginated"!==this.book.package.metadata.layout&&"true"!==this.book.displayOptions.fixedLayout||(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(qg.EVENTS.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(qg.EVENTS.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(qg.EVENTS.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(qg.EVENTS.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(qg.EVENTS.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(qg.EVENTS.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(qg.EVENTS.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t,i=new Mg.defer,n=i.promise;return this.displaying=i,this.book.locations.length()&&(0,Mg.isFloat)(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),(t=this.book.spine.get(e))?(this.manager.display(t,e).then((()=>{i.resolve(t),this.displaying=void 0,this.emit(qg.EVENTS.RENDITION.DISPLAYED,t),this.reportLocation()}),(e=>{this.emit(qg.EVENTS.RENDITION.DISPLAY_ERROR,e)})),n):(i.reject(new Error("No Section Found")),n)}}afterDisplayed(e){e.on(qg.EVENTS.VIEWS.MARK_CLICKED,((t,i)=>this.triggerMarkEvent(t,i,e.contents))),this.hooks.render.trigger(e,this).then((()=>{e.contents?this.hooks.content.trigger(e.contents,this).then((()=>{this.emit(qg.EVENTS.RENDITION.RENDERED,e.section,e)})):this.emit(qg.EVENTS.RENDITION.RENDERED,e.section,e)}))}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then((()=>{this.emit(qg.EVENTS.RENDITION.REMOVED,e.section,e)}))}onResized(e,t){this.emit(qg.EVENTS.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(qg.EVENTS.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,i){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",n=this.settings.orientation||e.orientation||"auto",r=this.settings.flow||e.flow||"auto",o=e.viewport||"",a=this.settings.minSpreadWidth||e.minSpreadWidth||800,s=this.settings.direction||e.direction||"ltr";return(0===this.settings.width||this.settings.width>0)&&(0===this.settings.height||this.settings.height),{layout:t,spread:i,orientation:n,flow:r,viewport:o,minSpreadWidth:a,direction:s}}flow(e){var t=e;"scrolled"!==e&&"scrolled-doc"!==e&&"scrolled-continuous"!==e||(t="scrolled"),"auto"!==e&&"paginated"!==e||(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Vg.default(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(qg.EVENTS.LAYOUT.UPDATED,((e,t)=>{this.emit(qg.EVENTS.RENDITION.LAYOUT,e,t)}))),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"==typeof e.then)e.then(function(e){let t=this.located(e);t&&t.start&&t.end&&(this.location=t,this.emit(qg.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(qg.EVENTS.RENDITION.RELOCATED,this.location))}.bind(this));else if(e){let t=this.located(e);if(!t||!t.start||!t.end)return;this.location=t,this.emit(qg.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(qg.EVENTS.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&"function"==typeof e.then)e.then(function(e){return this.located(e)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],i=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},r=this.book.locations.locationFromCfi(t.mapping.start),o=this.book.locations.locationFromCfi(i.mapping.end);null!=r&&(n.start.location=r,n.start.percentage=this.book.locations.percentageFromLocation(r)),null!=o&&(n.end.location=o,n.end.percentage=this.book.locations.percentageFromLocation(o));let a=this.book.pageList.pageFromCfi(t.mapping.start),s=this.book.pageList.pageFromCfi(i.mapping.end);return-1!=a&&(n.start.page=a),-1!=s&&(n.end.page=s),i.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&1===n.start.displayed.page&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){qg.DOM_EVENTS.forEach((t=>{e.on(t,(t=>this.triggerViewEvent(t,e)))})),e.on(qg.EVENTS.CONTENTS.SELECTED,(t=>this.triggerSelectedEvent(t,e)))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(qg.EVENTS.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,i){this.emit(qg.EVENTS.RENDITION.MARK_CLICKED,e,t,i)}getRange(e,t){var i=new Hg.default(e),n=this.manager.visible().filter((function(e){if(i.spinePos===e.index)return!0}));if(n.length)return n[0].contents.range(i,t)}adjustImages(e){if("pre-paginated"===this._layout.name)return new Promise((function(e){e()}));let t=e.window.getComputedStyle(e.content,null),i=.95*(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))),n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise((function(e,t){setTimeout((function(){e()}),1)}))}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(qg.EVENTS.CONTENTS.LINK_CLICKED,(e=>{let t=this.book.path.relative(e);this.display(t)}))}injectStylesheet(e,t){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,t){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,t){let i=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),i&&n.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(n)}}(0,Lg.default)(Zg.prototype);var Jg=Zg;md.default=Jg;var $g={},ef={exports:{}};ef.exports=function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){if(!s&&di)return di(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,i,n)}return i[a].exports}for(var o=di,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){var n=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,a,s,l,c,u=[],h=0,d=e.length,p=d,g="string"!==n.getTypeOf(e);h<e.length;)p=d-h,g?(t=e[h++],i=h<d?e[h++]:0,r=h<d?e[h++]:0):(t=e.charCodeAt(h++),i=h<d?e.charCodeAt(h++):0,r=h<d?e.charCodeAt(h++):0),a=t>>2,s=(3&t)<<4|i>>4,l=p>1?(15&i)<<2|r>>6:64,c=p>2?63&r:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},i.decode=function(e){var t,i,n,a,s,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,i=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(c++))),d[u++]=t,64!==s&&(d[u++]=i),64!==l&&(d[u++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,i){var n=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){var n=e("./utils");var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new l("Deflate",e)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){var n=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),a=e("../crc32"),s=e("../signature"),l=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},c=function(e,t,i,r,c,u){var h,d,p=e.file,g=e.compression,f=u!==o.utf8encode,A=n.transformTo("string",u(p.name)),m=n.transformTo("string",o.utf8encode(p.name)),v=p.comment,y=n.transformTo("string",u(v)),b=n.transformTo("string",o.utf8encode(v)),w=m.length!==p.name.length,E=b.length!==v.length,C="",I="",B="",x=p.dir,k=p.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(Q.crc32=e.crc32,Q.compressedSize=e.compressedSize,Q.uncompressedSize=e.uncompressedSize);var _=0;t&&(_|=8),f||!w&&!E||(_|=2048);var S=0,T=0;x&&(S|=16),"UNIX"===c?(T=798,S|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(p.unixPermissions,x)):(T=20,S|=function(e,t){return 63&(e||0)}(p.dosPermissions)),h=k.getUTCHours(),h<<=6,h|=k.getUTCMinutes(),h<<=5,h|=k.getUTCSeconds()/2,d=k.getUTCFullYear()-1980,d<<=4,d|=k.getUTCMonth()+1,d<<=5,d|=k.getUTCDate(),w&&(I=l(1,1)+l(a(A),4)+m,C+="up"+l(I.length,2)+I),E&&(B=l(1,1)+l(a(y),4)+b,C+="uc"+l(B.length,2)+B);var P="";return P+="\n\0",P+=l(_,2),P+=g.magic,P+=l(h,2),P+=l(d,2),P+=l(Q.crc32,4),P+=l(Q.compressedSize,4),P+=l(Q.uncompressedSize,4),P+=l(A.length,2),P+=l(C.length,2),{fileRecord:s.LOCAL_FILE_HEADER+P+A+C,dirRecord:s.CENTRAL_FILE_HEADER+l(T,2)+P+l(y.length,2)+"\0\0\0\0"+l(S,4)+l(r,4)+A+C+y}},u=function(e,t,i,r,o){var a=n.transformTo("string",o(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(a.length,2)+a},h=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function d(e,t,i,n){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(d,r),d.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:h(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,n=u(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},d.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},d.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){var n=e("../compressions"),r=e("./ZipFileWorker"),o=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r};i.generateWorker=function(e,t,i){var n=new r(t.streamFiles,i,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,i){a++;var r=o(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)})),n.entriesCount=a}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e("./object"),n.prototype.loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){var n=e("./utils"),r=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new a(t);return i.load(e),i})).then((function(e){var i=[r.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)i.push(c(n[o]));return r.Promise.all(i)})).then((function(e){for(var r=e.shift(),o=r.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,c=n.resolve(s.fileNameStr);i.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(i.file(c).unsafeOriginalName=l)}return r.zipComment.length&&(i.comment=r.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){var n=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){var n=e("readable-stream").Readable;function r(e,t,i){n.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),i&&i(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){var n=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),u=e("./generate"),h=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),p=function(e,t,i){var n,a=r.getTypeOf(t),u=r.extend(i||{},s);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=f(e)),u.createFolders&&(n=g(e))&&A.call(this,n,!0);var p="string"===a&&!1===u.binary&&!1===u.base64;i&&void 0!==i.binary||(u.binary=!p),(t instanceof l&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",a="string");var m;m=t instanceof l||t instanceof o?t:h.isNode&&h.isStream(t)?new d(e,t):r.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var v=new c(e,m,u);this.files[e]=v},g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},A=function(e,t){return t=void 0!==t?t:s.createFolders,e=f(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n)},filter:function(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t},file:function(e,t,i){if(1===arguments.length){if(m(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,p.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=A.call(this,t),n=this.clone();return n.root=i.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");r.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var s=i.comment||this.comment||"";t=u.generateWorker(this,i,s)}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){var n=e("./DataReader");function r(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&i===o[1]&&n===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){var n=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,i){var n=e("./Uint8ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){var n=e("./DataReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){var n=e("./ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){var n=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,i){var n=e("./GenericWorker"),r=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){var n=e("./GenericWorker"),r=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){var n=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){var n=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,i){var n=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}function h(e,t){return new l.Promise((function(i,n){var r=[],o=e._internalType,a=e._outputType,s=e._mimeType;e.on("data",(function(e,i){r.push(e),t&&t(i)})).on("error",(function(e){r=[],n(e)})).on("end",(function(){try{var e=u(a,function(e,t){var i,n=0,r=null,o=0;for(i=0;i<t.length;i++)o+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,r),s);i(e)}catch(e){n(e)}r=[]})).resume()}))}function d(e,t,i){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=i,n.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return h(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,i)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),i.blob=0===r.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){for(var n=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;var c=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+s[e[i]]>t?i:t};function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}i.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,i,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t}(e)},i.utf8decode=function(e){return r.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,o,a=e.length,l=new Array(2*a);for(i=0,t=0;t<a;)if((r=e[t++])<128)l[i++]=r;else if((o=s[r])>4)l[i++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<a;)r=r<<6|63&e[t++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(e=n.transformTo(r.uint8array?"uint8array":"array",e))},n.inherits(u,a),u.prototype.processChunk=function(e){var t=n.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=c(t),s=t;a!==t.length&&(r.uint8array?(s=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(s=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:i.utf8decode(s),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,n.inherits(h,a),h.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){var n=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return c(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}function l(e){return e}function c(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}e("setimmediate"),i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,i){var n=[],r=0,o=e.length;if(o<=i)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+i,o)))):n.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+i,o)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=u.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=h;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},p.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},i.transformTo=function(e,t){if(t||(t=""),!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return p[n][e](t)},i.resolve=function(e){for(var t=e.split("/"),i=[],n=0;n<t.length;n++){var r=t[n];"."===r||""===r&&0!==n&&n!==t.length-1||(".."===r?i.pop():i.push(r))}return i.join("/")},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){setImmediate((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,o,l,c){var u=a.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e}));return u.then((function(t){var n=i.getTypeOf(t);return n?("arraybuffer"===n?t=i.transformTo("uint8array",t):"string"===n&&(c?t=r.decode(t):o&&!0!==l&&(t=s(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,i){var n=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry");e("./utf8");var s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",i=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){var n=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n};e.setIndex(r)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){var n=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new n(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)l.prototype[c[h]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){var i,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||i()}}).call(this,void 0!==hi?hi:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){var n=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function u(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function h(e,t,i){n((function(){var n;try{n=t(i)}catch(t){return o.reject(e,t)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,o.reject(e,t))}function r(t){i||(i=!0,o.resolve(e,t))}var a=g((function(){t(r,n)}));"error"===a.status&&n(a.value)}function g(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(r);return this.state!==l?h(i,this.state===s?e:t,this.outcome):this.queue.push(new u(i,e,t)),i},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var i=g(d,t);if("error"===i.status)return o.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,l=-1,c=new this(r);++l<i;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==i||n||(n=!0,o.resolve(c,a))}),(function(e){n||(n=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)l(e[a]);return s;function l(e){t.resolve(e).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}))}}},{immediate:36}],38:[function(e,t,i){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){var n=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,u)))throw new Error(a[i]);this._dict_set=!0}}function u(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}c.prototype.push=function(e,t){var i,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(i=n.deflate(s,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=u,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){var n=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}h.prototype.push=function(e,t){var i,s,l,c,h,d,p=this.strm,g=this.options.chunkSize,f=this.options.dictionary,A=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(g),p.next_out=0,p.avail_out=g),(i=n.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&f&&(d="string"==typeof f?o.string2buf(f):"[object ArrayBuffer]"===u.call(f)?new Uint8Array(f):f,i=n.inflateSetDictionary(this.strm,d)),i===a.Z_BUF_ERROR&&!0===A&&(i=a.Z_OK,A=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,h=o.buf2string(p.output,l),p.next_out=c,p.avail_out=g-c,c&&r.arraySet(p.output,p.output,l,c,0),this.onData(h)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(A=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=h,i.inflate=d,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,i,n,r){for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],42:[function(e,t,i){var n=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,i.string2buf=function(e){var t,i,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,o,s=t||e.length,c=new Array(2*s);for(n=0,i=0;i<s;)if((r=e[i++])<128)c[n++]=r;else if((o=a[r])>4)c[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&i<s;)r=r<<6|63&e[i++],o--;o>1?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return l(c,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){t.exports=function(e,t,i,n){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+(r=r+t[n++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,i){var n,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=-2,u=258,h=262,d=103,p=113,g=666;function f(e,t){return e.msg=l[t],t}function A(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function v(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function E(e,t,i,n){var o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,i),1===e.state.wrap?e.adler=a(e.adler,t,o,i):2===e.state.wrap&&(e.adler=s(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)}function C(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,d=e.w_mask,p=e.prev,g=e.strstart+u,f=c[o+a-1],A=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===A&&c[i+a-1]===f&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<g);if(n=u-(g-o),o=g-u,n>a){if(e.match_start=t,a=n,n>=s)break;f=c[o+a-1],A=c[o+a]}}}while((t=p[t&d])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function I(e){var t,i,n,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-h)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--i);t=i=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--i);o+=s}if(0===e.strm.avail_in)break;if(i=E(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function B(e,t){for(var i,n;;){if(e.lookahead<h){if(I(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-h&&(e.match_length=C(e,i)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function x(e,t){for(var i,n,r;;){if(e.lookahead<h){if(I(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-h&&(e.match_length=C(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):f(e,c)}function S(e){var t=_(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function T(e,t,i,n,o,a){if(!e)return c;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==i||n<8||n>15||t<0||t>9||a<0||a>4)return f(e,c);8===n&&(n=9);var l=new Q;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,S(e)}n=[new k(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(I(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new k(4,4,8,4,B),new k(4,5,16,8,B),new k(4,6,32,32,B),new k(4,4,16,16,x),new k(8,16,32,32,x),new k(8,16,128,128,x),new k(8,32,128,256,x),new k(32,128,258,1024,x),new k(32,258,258,4096,x)],i.deflateInit=function(e,t){return T(e,t,8,15,8,0)},i.deflateInit2=T,i.deflateReset=S,i.deflateResetKeep=_,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},i.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||t>5||t<0)return e?f(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===g&&4!==t)return f(e,0===e.avail_out?-5:c);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,b(r,31),b(r,139),b(r,8),r.gzhead?(b(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),b(r,255&r.gzhead.time),b(r,r.gzhead.time>>8&255),b(r,r.gzhead.time>>16&255),b(r,r.gzhead.time>>24&255),b(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),b(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(b(r,255&r.gzhead.extra.length),b(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(b(r,0),b(r,0),b(r,0),b(r,0),b(r,0),b(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),b(r,3),r.status=p);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=p,w(r,h),0!==r.strstart&&(w(r,e.adler>>>16),w(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),v(e),a=r.pending,r.pending!==r.pending_buf_size));)b(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),v(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,b(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),v(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,b(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=d)}else r.status=d;if(r.status===d&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&v(e),r.pending+2<=r.pending_buf_size&&(b(r,255&e.adler),b(r,e.adler>>8&255),e.adler=0,r.status=p)):r.status=p),0!==r.pending){if(v(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&A(t)<=A(i)&&4!==t)return f(e,-5);if(r.status===g&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==g){var E=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(I(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=u){if(I(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+u;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=u-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):n[r.level].func(r,t);if(3!==E&&4!==E||(r.status=g),1===E||3===E)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===E&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),v(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(b(r,255&e.adler),b(r,e.adler>>8&255),b(r,e.adler>>16&255),b(r,e.adler>>24&255),b(r,255&e.total_in),b(r,e.total_in>>8&255),b(r,e.total_in>>16&255),b(r,e.total_in>>24&255)):(w(r,e.adler>>>16),w(r,65535&e.adler)),v(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==p&&t!==g?f(e,c):(e.state=null,t===p?f(e,-3):0):c},i.deflateSetDictionary=function(e,t){var i,n,o,s,l,u,h,d,p=t.length;if(!e||!e.state)return c;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return c;for(1===s&&(e.adler=a(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===s&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,t,p-i.w_size,i.w_size,0),t=d,p=i.w_size),l=e.avail_in,u=e.next_in,h=e.input,e.avail_in=p,e.next_in=0,e.input=t,I(i);i.lookahead>=3;){n=i.strstart,o=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=2,I(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,i.wrap=s,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){t.exports=function(e,t){var i,n,r,o,a,s,l,c,u,h,d,p,g,f,A,m,v,y,b,w,E,C,I,B,x;i=e.state,n=e.next_in,B=e.input,r=n+(e.avail_in-5),o=e.next_out,x=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,u=i.whave,h=i.wnext,d=i.window,p=i.hold,g=i.bits,f=i.lencode,A=i.distcode,m=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{g<15&&(p+=B[n++]<<g,g+=8,p+=B[n++]<<g,g+=8),y=f[p&m];t:for(;;){if(p>>>=b=y>>>24,g-=b,0==(b=y>>>16&255))x[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=f[(65535&y)+(p&(1<<b)-1)];continue t}if(32&b){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}w=65535&y,(b&=15)&&(g<b&&(p+=B[n++]<<g,g+=8),w+=p&(1<<b)-1,p>>>=b,g-=b),g<15&&(p+=B[n++]<<g,g+=8,p+=B[n++]<<g,g+=8),y=A[p&v];i:for(;;){if(p>>>=b=y>>>24,g-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=A[(65535&y)+(p&(1<<b)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(E=65535&y,g<(b&=15)&&(p+=B[n++]<<g,(g+=8)<b&&(p+=B[n++]<<g,g+=8)),(E+=p&(1<<b)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=b,g-=b,E>(b=o-a)){if((b=E-b)>u&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(C=0,I=d,0===h){if(C+=c-b,b<w){w-=b;do{x[o++]=d[C++]}while(--b);C=o-E,I=x}}else if(h<b){if(C+=c+h-b,(b-=h)<w){w-=b;do{x[o++]=d[C++]}while(--b);if(C=0,h<w){w-=b=h;do{x[o++]=d[C++]}while(--b);C=o-E,I=x}}}else if(C+=h-b,b<w){w-=b;do{x[o++]=d[C++]}while(--b);C=o-E,I=x}for(;w>2;)x[o++]=I[C++],x[o++]=I[C++],x[o++]=I[C++],w-=3;w&&(x[o++]=I[C++],w>1&&(x[o++]=I[C++]))}else{C=o-E;do{x[o++]=x[C++],x[o++]=x[C++],x[o++]=x[C++],w-=3}while(w>2);w&&(x[o++]=x[C++],w>1&&(x[o++]=x[C++]))}break}}break}}while(n<r&&o<s);n-=w=g>>3,p&=(1<<(g-=w<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=p,i.bits=g}},{}],49:[function(e,t,i){var n=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=-2,c=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function f(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,g(e))):l}function A(e,t){var i,n;return e?(n=new d,e.state=n,n.window=null,0!==(i=f(e,t))&&(e.state=null),i):l}var m,v,y=!0;function b(e){if(y){var t;for(m=new n.Buf32(512),v=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,v,0,e.work,{bits:5}),y=!1}e.lencode=m,e.lenbits=9,e.distcode=v,e.distbits=5}function w(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}i.inflateReset=g,i.inflateReset2=f,i.inflateResetKeep=p,i.inflateInit=function(e){return A(e,15)},i.inflateInit2=A,i.inflate=function(e,t){var i,d,p,g,f,A,m,v,y,E,C,I,B,x,k,Q,_,S,T,P,O,D,N,R,z=0,L=new n.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(i=e.state).mode===c&&(i.mode=13),f=e.next_out,p=e.output,m=e.avail_out,g=e.next_in,d=e.input,A=e.avail_in,v=i.hold,y=i.bits,E=A,C=m,D=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;y<16;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(2&i.wrap&&35615===v){i.check=0,L[0]=255&v,L[1]=v>>>8&255,i.check=o(i.check,L,2,0),v=0,y=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",i.mode=u;break}if(8!=(15&v)){e.msg="unknown compression method",i.mode=u;break}if(y-=4,O=8+(15&(v>>>=4)),0===i.wbits)i.wbits=O;else if(O>i.wbits){e.msg="invalid window size",i.mode=u;break}i.dmax=1<<O,e.adler=i.check=1,i.mode=512&v?10:c,v=0,y=0;break;case 2:for(;y<16;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(i.flags=v,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=u;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=u;break}i.head&&(i.head.text=v>>8&1),512&i.flags&&(L[0]=255&v,L[1]=v>>>8&255,i.check=o(i.check,L,2,0)),v=0,y=0,i.mode=3;case 3:for(;y<32;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.head&&(i.head.time=v),512&i.flags&&(L[0]=255&v,L[1]=v>>>8&255,L[2]=v>>>16&255,L[3]=v>>>24&255,i.check=o(i.check,L,4,0)),v=0,y=0,i.mode=4;case 4:for(;y<16;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.head&&(i.head.xflags=255&v,i.head.os=v>>8),512&i.flags&&(L[0]=255&v,L[1]=v>>>8&255,i.check=o(i.check,L,2,0)),v=0,y=0,i.mode=5;case 5:if(1024&i.flags){for(;y<16;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.length=v,i.head&&(i.head.extra_len=v),512&i.flags&&(L[0]=255&v,L[1]=v>>>8&255,i.check=o(i.check,L,2,0)),v=0,y=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((I=i.length)>A&&(I=A),I&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,d,g,I,O)),512&i.flags&&(i.check=o(i.check,d,I,g)),A-=I,g+=I,i.length-=I),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===A)break e;I=0;do{O=d[g+I++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O))}while(O&&I<A);if(512&i.flags&&(i.check=o(i.check,d,I,g)),A-=I,g+=I,O)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===A)break e;I=0;do{O=d[g+I++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O))}while(O&&I<A);if(512&i.flags&&(i.check=o(i.check,d,I,g)),A-=I,g+=I,O)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;y<16;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(v!==(65535&i.check)){e.msg="header crc mismatch",i.mode=u;break}v=0,y=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=c;break;case 10:for(;y<32;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}e.adler=i.check=h(v),v=0,y=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=f,e.avail_out=m,e.next_in=g,e.avail_in=A,i.hold=v,i.bits=y,2;e.adler=i.check=1,i.mode=c;case c:if(5===t||6===t)break e;case 13:if(i.last){v>>>=7&y,y-=7&y,i.mode=27;break}for(;y<3;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}switch(i.last=1&v,y-=1,3&(v>>>=1)){case 0:i.mode=14;break;case 1:if(b(i),i.mode=20,6===t){v>>>=2,y-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=u}v>>>=2,y-=2;break;case 14:for(v>>>=7&y,y-=7&y;y<32;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",i.mode=u;break}if(i.length=65535&v,v=0,y=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(I=i.length){if(I>A&&(I=A),I>m&&(I=m),0===I)break e;n.arraySet(p,d,g,I,f),A-=I,g+=I,m-=I,f+=I,i.length-=I;break}i.mode=c;break;case 17:for(;y<14;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(i.nlen=257+(31&v),v>>>=5,y-=5,i.ndist=1+(31&v),v>>>=5,y-=5,i.ncode=4+(15&v),v>>>=4,y-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=u;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;y<3;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.lens[M[i.have++]]=7&v,v>>>=3,y-=3}for(;i.have<19;)i.lens[M[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,N={bits:i.lenbits},D=s(0,i.lens,0,19,i.lencode,0,i.work,N),i.lenbits=N.bits,D){e.msg="invalid code lengths set",i.mode=u;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;Q=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,_=65535&z,!((k=z>>>24)<=y);){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(_<16)v>>>=k,y-=k,i.lens[i.have++]=_;else{if(16===_){for(R=k+2;y<R;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(v>>>=k,y-=k,0===i.have){e.msg="invalid bit length repeat",i.mode=u;break}O=i.lens[i.have-1],I=3+(3&v),v>>>=2,y-=2}else if(17===_){for(R=k+3;y<R;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}y-=k,O=0,I=3+(7&(v>>>=k)),v>>>=3,y-=3}else{for(R=k+7;y<R;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}y-=k,O=0,I=11+(127&(v>>>=k)),v>>>=7,y-=7}if(i.have+I>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=u;break}for(;I--;)i.lens[i.have++]=O}}if(i.mode===u)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=u;break}if(i.lenbits=9,N={bits:i.lenbits},D=s(1,i.lens,0,i.nlen,i.lencode,0,i.work,N),i.lenbits=N.bits,D){e.msg="invalid literal/lengths set",i.mode=u;break}if(i.distbits=6,i.distcode=i.distdyn,N={bits:i.distbits},D=s(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,N),i.distbits=N.bits,D){e.msg="invalid distances set",i.mode=u;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(A>=6&&m>=258){e.next_out=f,e.avail_out=m,e.next_in=g,e.avail_in=A,i.hold=v,i.bits=y,a(e,C),f=e.next_out,p=e.output,m=e.avail_out,g=e.next_in,d=e.input,A=e.avail_in,v=i.hold,y=i.bits,i.mode===c&&(i.back=-1);break}for(i.back=0;Q=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,_=65535&z,!((k=z>>>24)<=y);){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(Q&&0==(240&Q)){for(S=k,T=Q,P=_;Q=(z=i.lencode[P+((v&(1<<S+T)-1)>>S)])>>>16&255,_=65535&z,!(S+(k=z>>>24)<=y);){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}v>>>=S,y-=S,i.back+=S}if(v>>>=k,y-=k,i.back+=k,i.length=_,0===Q){i.mode=26;break}if(32&Q){i.back=-1,i.mode=c;break}if(64&Q){e.msg="invalid literal/length code",i.mode=u;break}i.extra=15&Q,i.mode=22;case 22:if(i.extra){for(R=i.extra;y<R;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.length+=v&(1<<i.extra)-1,v>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;Q=(z=i.distcode[v&(1<<i.distbits)-1])>>>16&255,_=65535&z,!((k=z>>>24)<=y);){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(0==(240&Q)){for(S=k,T=Q,P=_;Q=(z=i.distcode[P+((v&(1<<S+T)-1)>>S)])>>>16&255,_=65535&z,!(S+(k=z>>>24)<=y);){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}v>>>=S,y-=S,i.back+=S}if(v>>>=k,y-=k,i.back+=k,64&Q){e.msg="invalid distance code",i.mode=u;break}i.offset=_,i.extra=15&Q,i.mode=24;case 24:if(i.extra){for(R=i.extra;y<R;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}i.offset+=v&(1<<i.extra)-1,v>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=u;break}i.mode=25;case 25:if(0===m)break e;if(I=C-m,i.offset>I){if((I=i.offset-I)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=u;break}I>i.wnext?(I-=i.wnext,B=i.wsize-I):B=i.wnext-I,I>i.length&&(I=i.length),x=i.window}else x=p,B=f-i.offset,I=i.length;I>m&&(I=m),m-=I,i.length-=I;do{p[f++]=x[B++]}while(--I);0===i.length&&(i.mode=21);break;case 26:if(0===m)break e;p[f++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;y<32;){if(0===A)break e;A--,v|=d[g++]<<y,y+=8}if(C-=m,e.total_out+=C,i.total+=C,C&&(e.adler=i.check=i.flags?o(i.check,p,C,f-C):r(i.check,p,C,f-C)),C=m,(i.flags?v:h(v))!==i.check){e.msg="incorrect data check",i.mode=u;break}v=0,y=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;y<32;){if(0===A)break e;A--,v+=d[g++]<<y,y+=8}if(v!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=u;break}v=0,y=0}i.mode=29;case 29:D=1;break e;case u:D=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=m,e.next_in=g,e.avail_in=A,i.hold=v,i.bits=y,(i.wsize||C!==e.avail_out&&i.mode<u&&(i.mode<27||4!==t))&&w(e,e.output,e.next_out,C-e.avail_out),E-=e.avail_in,C-=e.avail_out,e.total_in+=E,e.total_out+=C,i.total+=C,i.wrap&&C&&(e.adler=i.check=i.flags?o(i.check,p,C,e.next_out-C):r(i.check,p,C,e.next_out-C)),e.data_type=i.bits+(i.last?64:0)+(i.mode===c?128:0)+(20===i.mode||15===i.mode?256:0),(0===E&&0===C||4===t)&&0===D&&(D=-5),D},i.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?l:(i.head=t,t.done=!1,0):l},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?l:11===i.mode&&r(1,t,n,0)!==i.check?-3:w(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){var n=e("../utils/common"),r=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,c,u,h,d,p){var g,f,A,m,v,y,b,w,E,C=p.bits,I=0,B=0,x=0,k=0,Q=0,_=0,S=0,T=0,P=0,O=0,D=null,N=0,R=new n.Buf16(16),z=new n.Buf16(16),L=null,M=0;for(I=0;I<=r;I++)R[I]=0;for(B=0;B<c;B++)R[t[i+B]]++;for(Q=C,k=r;k>=1&&0===R[k];k--);if(Q>k&&(Q=k),0===k)return u[h++]=20971520,u[h++]=20971520,p.bits=1,0;for(x=1;x<k&&0===R[x];x++);for(Q<x&&(Q=x),T=1,I=1;I<=r;I++)if(T<<=1,(T-=R[I])<0)return-1;if(T>0&&(0===e||1!==k))return-1;for(z[1]=0,I=1;I<r;I++)z[I+1]=z[I]+R[I];for(B=0;B<c;B++)0!==t[i+B]&&(d[z[t[i+B]]++]=B);if(0===e?(D=L=d,y=19):1===e?(D=o,N-=257,L=a,M-=257,y=256):(D=s,L=l,y=-1),O=0,B=0,I=x,v=h,_=Q,S=0,A=-1,m=(P=1<<Q)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){b=I-S,d[B]<y?(w=0,E=d[B]):d[B]>y?(w=L[M+d[B]],E=D[N+d[B]]):(w=96,E=0),g=1<<I-S,x=f=1<<_;do{u[v+(O>>S)+(f-=g)]=b<<24|w<<16|E|0}while(0!==f);for(g=1<<I-1;O&g;)g>>=1;if(0!==g?(O&=g-1,O+=g):O=0,B++,0==--R[I]){if(I===k)break;I=t[i+d[B]]}if(I>Q&&(O&m)!==A){for(0===S&&(S=Q),v+=x,T=1<<(_=I-S);_+S<k&&!((T-=R[_+S])<=0);)_++,T<<=1;if(P+=1<<_,1===e&&P>852||2===e&&P>592)return 1;u[A=O&m]=Q<<24|_<<16|v-h|0}}return 0!==O&&(u[v+O]=I-S<<24|64<<16|0),p.bits=Q,0}},{"../utils/common":41}],51:[function(e,t,i){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){var n=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,a=286,s=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);r(p);var g=new Array(60);r(g);var f=new Array(512);r(f);var A=new Array(256);r(A);var m=new Array(29);r(m);var v,y,b,w=new Array(s);function E(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){return e<256?f[e]:f[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function k(e,t,i){x(e,i[2*t],i[2*t+1])}function Q(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function _(e,t,i){var n,r,o=new Array(16),a=0;for(n=1;n<=l;n++)o[n]=a=a+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=Q(o[s]++,s))}}function S(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?B(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,i,r){T(e),r&&(B(e,i),B(e,~i)),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function O(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function D(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&O(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!O(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function N(e,t,i){var n,r,a,s,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===n?k(e,r,t):(k(e,(a=A[r])+o+1,t),0!==(s=c[a])&&x(e,r-=m[a],s),k(e,a=I(--n),i),0!==(s=u[a])&&x(e,n-=w[a],s))}while(l<e.last_lit);k(e,256,t)}function R(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==o[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):o[2*i+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)D(e,o,i);r=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,D(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,f=t.stat_desc.max_length,A=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(o=c[2*c[2*(n=e.heap[i])+1]+1]+1)>f&&(o=f,A++),c[2*n+1]=o,n>u||(e.bl_count[o]++,a=0,n>=g&&(a=p[n-g]),s=c[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(h[2*n+1]+a)));if(0!==A){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,A-=2}while(A>0);for(o=f;0!==o;o--)for(n=e.bl_count[o];0!==n;)(r=e.heap[--i])>u||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),n--)}}(e,t),_(o,u,e.bl_count)}function z(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function L(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++)if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{k(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(k(e,r,e.bl_tree),s--),k(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),x(e,s-3,3)):(k(e,18,e.bl_tree),x(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}function M(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}r(w);var F=!1;function H(e,t,i,n){x(e,0+(n?1:0),3),P(e,t,i,!0)}i._tr_init=function(e){F||(function(){var e,t,i,n,r,o=new Array(16);for(i=0,n=0;n<28;n++)for(m[n]=i,e=0;e<1<<c[n];e++)A[i++]=n;for(A[i-1]=n,r=0,n=0;n<16;n++)for(w[n]=r,e=0;e<1<<u[n];e++)f[r++]=n;for(r>>=7;n<s;n++)for(w[n]=r<<7,e=0;e<1<<u[n]-7;e++)f[256+r++]=n;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for(_(p,287,o),e=0;e<s;e++)g[2*e+1]=5,g[2*e]=Q(e,5);v=new E(p,c,257,a,l),y=new E(g,u,0,s,l),b=new E(new Array(0),h,0,19,7)}(),F=!0),e.l_desc=new C(e.dyn_ltree,v),e.d_desc=new C(e.dyn_dtree,y),e.bl_desc=new C(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,S(e)},i._tr_stored_block=H,i._tr_flush_block=function(e,t,i,n){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=M(e)),R(e,e.l_desc),R(e,e.d_desc),a=function(e){var t;for(z(e,e.dyn_ltree,e.l_desc.max_code),z(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?H(e,t,i,n):4===e.strategy||o===r?(x(e,2+(n?1:0),3),N(e,p,g)):(x(e,4+(n?1:0),3),function(e,t,i,n){var r;for(x(e,t-257,5),x(e,i-1,5),x(e,n-4,4),r=0;r<n;r++)x(e,e.bl_tree[2*d[r]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),S(e),n&&T(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(A[i]+o+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){x(e,2,3),k(e,256,p),function(e){16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){if(!e.setImmediate){var i,n=1,r={},o=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?i=function(e){process.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&u(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},i=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;i=function(t){var i=a.createElement("script");i.onreadystatechange=function(){u(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():i=function(e){setTimeout(u,0,e)},s.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var a={callback:e,args:t};return r[n]=a,i(n),n++},s.clearImmediate=l}function l(e){delete r[e]}function c(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(undefined,i)}}function u(e){if(o)setTimeout(u,0,e);else{var t=r[e];if(t){o=!0;try{c(t)}finally{l(e),o=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==hi?hi:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10),Object.defineProperty($g,"__esModule",{value:!0}),$g.default=void 0;var tf=Xl,nf=sf(Eh),rf=sf(nd),of=sf(eh),af=sf(ef.exports);function sf(e){return e&&e.__esModule?e:{default:e}}$g.default=class{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new af.default}catch(e){throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return(0,nf.default)(e,"binary").then(function(e){return this.zip.loadAsync(e,{base64:t})}.bind(this))}request(e,t){var i,n=new tf.defer,r=new of.default(e);return t||(t=r.extension),(i="blob"==t?this.getBlob(e):this.getText(e))?i.then(function(e){let i=this.handleResponse(e,t);n.resolve(i)}.bind(this)):n.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),n.promise}handleResponse(e,t){return"json"==t?JSON.parse(e):(0,tf.isXml)(t)?(0,tf.parse)(e,"text/xml"):"xhtml"==t?(0,tf.parse)(e,"application/xhtml+xml"):"html"==t||"htm"==t?(0,tf.parse)(e,"text/html"):e}getBlob(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||rf.default.lookup(n.name),n.async("uint8array").then((function(e){return new Blob([e],{type:t})}))}getText(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return n.async("string").then((function(e){return e}))}getBase64(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||rf.default.lookup(n.name),n.async("base64").then((function(e){return"data:"+t+";base64,"+e}))}createUrl(e,t){var i,n,r=new tf.defer,o=window.URL||window.webkitURL||window.mozURL,a=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(n=this.getBase64(e))&&n.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(n=this.getBlob(e))&&n.then(function(t){i=o.createObjectURL(t),this.urlCache[e]=i,r.resolve(i)}.bind(this)),n||r.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}};var lf={},cf={exports:{}};cf.exports=function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){if(!s&&di)return di(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,i,n)}return i[a].exports}for(var o=di,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){(function(e){var i,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||i()}}).call(this,void 0!==hi?hi:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){var n=e(1);function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function u(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function h(e,t,i){n((function(){var n;try{n=t(i)}catch(t){return o.reject(e,t)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,o.reject(e,t))}function r(t){i||(i=!0,o.resolve(e,t))}var a=g((function(){t(r,n)}));"error"===a.status&&n(a.value)}function g(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(r);return this.state!==l?h(i,this.state===s?e:t,this.outcome):this.queue.push(new u(i,e,t)),i},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var i=g(d,t);if("error"===i.status)return o.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,l=-1,c=new this(r);++l<i;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==i||n||(n=!0,o.resolve(c,a))}),(function(e){n||(n=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)l(e[a]);return s;function l(e){t.resolve(e).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}))}}},{1:1}],3:[function(e,t,i){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==hi?hi:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)i.append(e[n]);return i.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,i){"function"==typeof t&&e.then(t),"function"==typeof i&&e.catch(i)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,p={},g=Object.prototype.toString,f="readonly",A="readwrite";function m(e){for(var t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i),r=0;r<t;r++)n[r]=e.charCodeAt(r);return i}function v(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a((function(t){var i=e.transaction(h,A),n=o([""]);i.objectStore(h).put(n,"key"),i.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},i.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);t(i||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function y(e){var t=p[e.name],i={};i.promise=new a((function(e,t){i.resolve=e,i.reject=t})),t.deferredOperations.push(i),t.dbReady?t.dbReady=t.dbReady.then((function(){return i.promise})):t.dbReady=i.promise}function b(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var i=p[e.name].deferredOperations.pop();if(i)return i.reject(t),i.promise}function E(e,t){return new a((function(i,n){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return i(e.db);y(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=r.open.apply(r,o);t&&(a.onupgradeneeded=function(t){var i=a.result;try{i.createObjectStore(e.storeName),t.oldVersion<=1&&i.createObjectStore(h)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),n(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},i(t),b(e)}}))}function C(e){return E(e,!1)}function I(e){return E(e,!0)}function B(e,t){if(!e.db)return!0;var i=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,r=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||i){if(i){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function x(e){return o([m(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function Q(e){var t=this,i=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(i,e,e),i}function _(e,t,i,n){void 0===n&&(n=1);try{var r=e.db.transaction(e.storeName,t);i(null,r)}catch(r){if(n>0&&(!e.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===r.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return function(e){y(e);for(var t=p[e.name],i=t.forages,n=0;n<i.length;n++){var r=i[n];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,C(e).then((function(t){return e.db=t,B(e)?I(e):t})).then((function(n){e.db=t.db=n;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=n})).catch((function(t){throw w(e,t),t}))}(e).then((function(){_(e,t,i,n-1)}))})).catch(i);i(r)}}var S={_driver:"asyncStorage",_initStorage:function(e){var t=this,i={db:null};if(e)for(var n in e)i[n]=e[n];var r=p[i.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},p[i.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=Q);var o=[];function s(){return a.resolve()}for(var l=0;l<r.forages.length;l++){var c=r.forages[l];c!==t&&o.push(c._initReady().catch(s))}var u=r.forages.slice(0);return a.all(o).then((function(){return i.db=r.db,C(i)})).then((function(e){return i.db=e,B(i,t._defaultConfig.version)?I(i):e})).then((function(e){i.db=r.db=e,t._dbInfo=i;for(var n=0;n<u.length;n++){var o=u[n];o!==t&&(o._dbInfo.db=i.db,o._dbInfo.version=i.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var i=this,n=new a((function(t,n){i.ready().then((function(){_(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var i=a.result;if(i){var n=i.value;k(n)&&(n=x(n));var r=e(n,i.key,s++);void 0!==r?t(r):i.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var i=this;e=c(e);var n=new a((function(t,n){i.ready().then((function(){_(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=x(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,i){var n=this;e=c(e);var r=new a((function(i,r){var o;n.ready().then((function(){return o=n._dbInfo,"[object Blob]"===g.call(t)?v(o.db).then((function(e){return e?t:function(e){return new a((function(t,i){var n=new FileReader;n.onerror=i,n.onloadend=function(i){var n=btoa(i.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)}))}(t)})):t})).then((function(t){_(n._dbInfo,A,(function(o,a){if(o)return r(o);try{var s=a.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),i(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,i),r},removeItem:function(e,t){var i=this;e=c(e);var n=new a((function(t,n){i.ready().then((function(){_(i._dbInfo,A,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){n(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){_(t._dbInfo,A,(function(n,r){if(n)return i(n);try{var o=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,e),i},length:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){_(t._dbInfo,f,(function(n,r){if(n)return i(n);try{var o=r.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return s(i,e),i},key:function(e,t){var i=this,n=new a((function(t,n){e<0?t(null):i.ready().then((function(){_(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var i=l.result;i?0===e||s?t(i.key):(s=!0,i.advance(e)):t(null)},l.onerror=function(){n(l.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){_(t._dbInfo,f,(function(n,r){if(n)return i(n);try{var o=r.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){i(o.error)}}catch(e){i(e)}}))})).catch(i)}));return s(i,e),i},dropInstance:function(e,t){t=u.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var n,o=this;if(e.name){var l=e.name===i.name&&o._dbInfo.db?a.resolve(o._dbInfo.db):C(e).then((function(t){var i=p[e.name],n=i.forages;i.db=t;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=t;return t}));n=e.storeName?l.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var i=t.version+1;y(e);var n=p[e.name],o=n.forages;t.close();for(var s=0;s<o.length;s++){var l=o[s];l._dbInfo.db=null,l._dbInfo.version=i}var c=new a((function(t,n){var o=r.open(e.name,i);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return c.then((function(e){n.db=e;for(var t=0;t<o.length;t++){var i=o[t];i._dbInfo.db=e,b(i._dbInfo)}})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}})):l.then((function(t){y(e);var i=p[e.name],n=i.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;var s=new a((function(t,i){var n=r.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),i(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return s.then((function(e){i.db=e;for(var t=0;t<n.length;t++)b(n[t]._dbInfo)})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}))}else n=a.reject("Invalid arguments");return s(n,t),n}};var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",D=O.length,N="arbf",R="blob",z="si08",L="ui08",M="uic8",F="si16",H="si32",j="ur16",V="ui32",W="fl32",U="fl64",q=D+N.length,X=Object.prototype.toString;function Y(e){var t,i,n,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)i=T.indexOf(e[t]),n=T.indexOf(e[t+1]),r=T.indexOf(e[t+2]),o=T.indexOf(e[t+3]),u[l++]=i<<2|n>>4,u[l++]=(15&n)<<4|r>>2,u[l++]=(3&r)<<6|63&o;return c}function K(e){var t,i=new Uint8Array(e),n="";for(t=0;t<i.length;t+=3)n+=T[i[t]>>2],n+=T[(3&i[t])<<4|i[t+1]>>4],n+=T[(15&i[t+1])<<2|i[t+2]>>6],n+=T[63&i[t+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var G={serialize:function(e,t){var i="";if(e&&(i=X.call(e)),e&&("[object ArrayBuffer]"===i||e.buffer&&"[object ArrayBuffer]"===X.call(e.buffer))){var n,r=O;e instanceof ArrayBuffer?(n=e,r+=N):(n=e.buffer,"[object Int8Array]"===i?r+=z:"[object Uint8Array]"===i?r+=L:"[object Uint8ClampedArray]"===i?r+=M:"[object Int16Array]"===i?r+=F:"[object Uint16Array]"===i?r+=j:"[object Int32Array]"===i?r+=H:"[object Uint32Array]"===i?r+=V:"[object Float32Array]"===i?r+=W:"[object Float64Array]"===i?r+=U:t(new Error("Failed to get type for BinaryArray"))),t(r+K(n))}else if("[object Blob]"===i){var o=new FileReader;o.onload=function(){var i="~~local_forage_type~"+e.type+"~"+K(this.result);t(O+R+i)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(i){console.error("Couldn't convert value into a JSON string: ",e),t(null,i)}},deserialize:function(e){if(e.substring(0,D)!==O)return JSON.parse(e);var t,i=e.substring(q),n=e.substring(D,q);if(n===R&&P.test(i)){var r=i.match(P);t=r[1],i=i.substring(r[0].length)}var a=Y(i);switch(n){case N:return a;case R:return o([a],{type:t});case z:return new Int8Array(a);case L:return new Uint8Array(a);case M:return new Uint8ClampedArray(a);case F:return new Int16Array(a);case j:return new Uint16Array(a);case H:return new Int32Array(a);case V:return new Uint32Array(a);case W:return new Float32Array(a);case U:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:Y,bufferToString:K};function Z(e,t,i,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,n)}function J(e,t,i,n,r,o){e.executeSql(i,n,r,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):Z(e,t,(function(){e.executeSql(i,n,r,o)}),o)}),o):o(e,a)}),o)}function $(e,t,i,n){var r=this;e=c(e);var o=new a((function(o,a){r.ready().then((function(){void 0===t&&(t=null);var s=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,c){c?a(c):l.db.transaction((function(i){J(i,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void o($.apply(r,[e,s,i,n-1]));a(t)}}))}))})).catch(a)}));return s(o,i),o}function ee(e){return new a((function(t,i){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(i,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);t({db:e,storeNames:r})}),(function(e,t){i(t)}))}),(function(e){i(e)}))}))}var te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,i={db:null};if(e)for(var n in e)i[n]="string"!=typeof e[n]?e[n].toString():e[n];var r=new a((function(e,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(e){return n(e)}i.db.transaction((function(r){Z(r,i,(function(){t._dbInfo=i,e()}),(function(e,t){n(t)}))}),n)}));return i.serializer=G,r},_support:"function"==typeof openDatabase,iterate:function(e,t){var i=this,n=new a((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT * FROM "+r.storeName,[],(function(i,n){for(var o=n.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=r.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var i=this;e=c(e);var n=new a((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=r.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,i){return $.apply(this,[e,t,i,1])},removeItem:function(e,t){var i=this;e=c(e);var n=new a((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){J(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,e),i},length:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){J(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,i){var n=i.rows.item(0).c;e(n)}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,e),i},key:function(e,t){var i=this,n=new a((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,i){var n=i.rows.length?i.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,i=new a((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){J(t,n,"SELECT key FROM "+n.storeName,[],(function(t,i){for(var n=[],r=0;r<i.rows.length;r++)n.push(i.rows.item(r).key);e(n)}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,e),i},dropInstance:function(e,t){t=u.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var n,r=this;return n=e.name?new a((function(t){var n;n=e.name===i.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(ee(n))})).then((function(e){return new a((function(t,i){e.db.transaction((function(n){function r(e){return new a((function(t,i){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){i(t)}))}))}for(var o=[],s=0,l=e.storeNames.length;s<l;s++)o.push(r(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){i(e)}))}),(function(e){i(e)}))}))})):a.reject("Invalid arguments"),s(n,t),n}};function ie(e,t){var i=e.name+"/";return e.storeName!==t.storeName&&(i+=e.storeName+"/"),i}function ne(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var re={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=ie(e,this._defaultConfig),ne()?(this._dbInfo=t,t.serializer=G,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var i=this,n=i.ready().then((function(){for(var t=i._dbInfo,n=t.keyPrefix,r=n.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(n)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(r),a++)))return c}}}));return s(n,t),n},getItem:function(e,t){var i=this;e=c(e);var n=i.ready().then((function(){var t=i._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return s(n,t),n},setItem:function(e,t,i){var n=this;e=c(e);var r=n.ready().then((function(){void 0===t&&(t=null);var i=t;return new a((function(r,o){var a=n._dbInfo;a.serializer.serialize(t,(function(t,n){if(n)o(n);else try{localStorage.setItem(a.keyPrefix+e,t),r(i)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(r,i),r},removeItem:function(e,t){var i=this;e=c(e);var n=i.ready().then((function(){var t=i._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(n,t),n},clear:function(e){var t=this,i=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return s(i,e),i},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var i=this,n=i.ready().then((function(){var t,n=i._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return s(n,t),n},keys:function(e){var t=this,i=t.ready().then((function(){for(var e=t._dbInfo,i=localStorage.length,n=[],r=0;r<i;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&n.push(o.substring(e.keyPrefix.length))}return n}));return s(i,e),i},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var i=this.config();e.name=e.name||i.name,e.storeName=e.storeName||i.storeName}var n,r=this;return n=e.name?new a((function(t){e.storeName?t(ie(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var i=localStorage.key(t);0===i.indexOf(e)&&localStorage.removeItem(i)}})):a.reject("Invalid arguments"),s(n,t),n}},oe=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},ae=function(e,t){for(var i=e.length,n=0;n<i;){if(oe(e[n],t))return!0;n++}return!1},se=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},le={},ce={},ue={INDEXEDDB:S,WEBSQL:te,LOCALSTORAGE:re},he=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],de=["dropInstance"],pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),ge={description:"",driver:he.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var i=arguments;return e.ready().then((function(){return e[t].apply(e,i)}))}}function Ae(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var i in t)t.hasOwnProperty(i)&&(se(t[i])?arguments[0][i]=t[i].slice():arguments[0][i]=t[i])}return arguments[0]}var me=function(){function e(t){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(i)){var n=ue[i],r=n._driver;this[i]=r,le[r]||this.defineDriver(n)}this._defaultConfig=Ae({},ge),this._config=Ae({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,i){var n=new a((function(t,i){try{var n=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void i(r);for(var o=pe.concat("_initStorage"),l=0,c=o.length;l<c;l++){var u=o[l];if((!ae(de,u)||e[u])&&"function"!=typeof e[u])return void i(r)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),i=a.reject(t);return s(i,arguments[arguments.length-1]),i}},i=0,n=de.length;i<n;i++){var r=de[i];e[r]||(e[r]=t(r))}}();var h=function(i){le[n]&&console.info("Redefining LocalForage driver: "+n),le[n]=e,ce[n]=i,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,i):h(!!e._support):h(!0)}catch(e){i(e)}}));return l(n,t,i),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,i){var n=le[e]?a.resolve(le[e]):a.reject(new Error("Driver not found."));return l(n,t,i),n},e.prototype.getSerializer=function(e){var t=a.resolve(G);return l(t,e),t},e.prototype.ready=function(e){var t=this,i=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(i,e,e),i},e.prototype.setDriver=function(e,t,i){var n=this;se(e)||(e=[e]);var r=this._getSupportedDrivers(e);function o(){n._config.driver=n.driver()}function s(e){return n._extend(e),o(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=r[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,o(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(e){return function(){var t=0;return function i(){for(;t<e.length;){var r=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(r).then(s).catch(i)}o();var l=new Error("No available storage method found.");return n._driverSet=a.reject(l),n._driverSet}()}}(r)}))})).catch((function(){o();var e=new Error("No available storage method found.");return n._driverSet=a.reject(e),n._driverSet})),l(this._driverSet,t,i),this._driverSet},e.prototype.supports=function(e){return!!ce[e]},e.prototype._extend=function(e){Ae(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=pe.length;e<t;e++)fe(this,pe[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ve=new me;t.exports=ve},{3:3}]},{},[4])(4),Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var uf=Xl,hf=Af(Eh),df=Af(nd),pf=Af(eh),gf=Af(Al.exports),ff=Af(cf.exports);function Af(e){return e&&e.__esModule?e:{default:e}}class mf{constructor(e,t,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||hf.default,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;void 0===ff.default&&(e=ff.default),this.storage=e.createInstance({name:this.name})}catch(e){throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let i=e.resources.map((e=>{let{href:i}=e,n=this.resolver(i),r=window.encodeURIComponent(n);return this.storage.getItem(r).then((e=>!e||t?this.requester(n,"binary").then((e=>this.storage.setItem(r,e))):e))}));return Promise.all(i)}put(e,t,i){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then((r=>r||this.requester(e,"binary",t,i).then((e=>this.storage.setItem(n,e)))))}request(e,t,i,n){return this.online?this.requester(e,t,i,n).then((t=>(this.put(e),t))):this.retrieve(e,t)}retrieve(e,t){new uf.defer;var i=new pf.default(e);return t||(t=i.extension),("blob"==t?this.getBlob(e):this.getText(e)).then((i=>{var n,r=new uf.defer;return i?(n=this.handleResponse(i,t),r.resolve(n)):r.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),r.promise}))}handleResponse(e,t){return"json"==t?JSON.parse(e):(0,uf.isXml)(t)?(0,uf.parse)(e,"text/xml"):"xhtml"==t?(0,uf.parse)(e,"application/xhtml+xml"):"html"==t||"htm"==t?(0,uf.parse)(e,"text/html"):e}getBlob(e,t){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then((function(i){if(i)return t=t||df.default.lookup(e),new Blob([i],{type:t})}))}getText(e,t){let i=window.encodeURIComponent(e);return t=t||df.default.lookup(e),this.storage.getItem(i).then((function(e){var i,n=new uf.defer,r=new FileReader;if(e)return i=new Blob([e],{type:t}),r.addEventListener("loadend",(()=>{n.resolve(r.result)})),r.readAsText(i,t),n.promise}))}getBase64(e,t){let i=window.encodeURIComponent(e);return t=t||df.default.lookup(e),this.storage.getItem(i).then((e=>{var i,n=new uf.defer,r=new FileReader;if(e)return i=new Blob([e],{type:t}),r.addEventListener("loadend",(()=>{n.resolve(r.result)})),r.readAsDataURL(i,t),n.promise}))}createUrl(e,t){var i,n,r=new uf.defer,o=window.URL||window.webkitURL||window.mozURL,a=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(n=this.getBase64(e))&&n.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(n=this.getBlob(e))&&n.then(function(t){i=o.createObjectURL(t),this.urlCache[e]=i,r.resolve(i)}.bind(this)),n||r.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}(0,gf.default)(mf.prototype);var vf=mf;lf.default=vf;var yf={};Object.defineProperty(yf,"__esModule",{value:!0}),yf.default=void 0;var bf=Xl;yf.default=class{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=(0,bf.qs)(e,"display_options");return t?((0,bf.qsa)(t,"option").forEach((e=>{let t="";switch(e.childNodes.length&&(t=e.childNodes[0].nodeValue),e.attributes.name.value){case"interactive":this.interactive=t;break;case"fixed-layout":this.fixedLayout=t;break;case"open-to-spread":this.openToSpread=t;break;case"orientation-lock":this.orientationLock=t}})),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}},Object.defineProperty(fl,"__esModule",{value:!0}),fl.default=void 0;var wf=Mf(Al.exports),Ef=Xl,Cf=Mf($u),If=Mf(eh),Bf=Mf(hh),xf=Mf(zh),kf=Mf(Kh),Qf=Mf(Jh),_f=Mf(ed),Sf=Mf(id),Tf=Mf(gd),Pf=Mf(md),Of=Mf($g),Df=Mf(Eh),Nf=Mf(dh),Rf=Mf(lf),zf=Mf(yf),Lf=Fh;function Mf(e){return e&&e.__esModule?e:{default:e}}class Ff{constructor(e,t){void 0===t&&"string"!=typeof e&&e instanceof Blob==0&&e instanceof ArrayBuffer==0&&(t=e,e=void 0),this.settings=(0,Ef.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),(0,Ef.extend)(this.settings,t),this.opening=new Ef.defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ef.defer,spine:new Ef.defer,metadata:new Ef.defer,cover:new Ef.defer,navigation:new Ef.defer,pageList:new Ef.defer,resources:new Ef.defer,displayOptions:new Ef.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Df.default,this.spine=new Bf.default,this.locations=new xf.default(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch((t=>{var i=new Error("Cannot load book at "+e);this.emit(Lf.EVENTS.BOOK.OPEN_FAILED,i)}))}open(e,t){var i,n=t||this.determineType(e);return"binary"===n?(this.archived=!0,this.url=new Cf.default("/",""),i=this.openEpub(e)):"base64"===n?(this.archived=!0,this.url=new Cf.default("/",""),i=this.openEpub(e,n)):"epub"===n?(this.archived=!0,this.url=new Cf.default("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):"opf"==n?(this.url=new Cf.default(e),i=this.openPackaging(this.url.Path.toString())):"json"==n?(this.url=new Cf.default(e),i=this.openManifest(this.url.Path.toString())):(this.url=new Cf.default(e),i=this.openContainer("META-INF/container.xml").then(this.openPackaging.bind(this))),i}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then((()=>this.openContainer("META-INF/container.xml"))).then((e=>this.openPackaging(e)))}openContainer(e){return this.load(e).then((e=>(this.container=new kf.default(e),this.resolve(this.container.packagePath))))}openPackaging(e){return this.path=new If.default(e),this.load(e).then((e=>(this.packaging=new Qf.default(e),this.unpack(this.packaging))))}openManifest(e){return this.path=new If.default(e),this.load(e).then((e=>(this.packaging=new Qf.default,this.packaging.load(e),this.unpack(this.packaging))))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var i=e;return e.indexOf("://")>-1?e:(this.path&&(i=this.path.resolve(e)),0!=t&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){return e?this.settings.canonical?this.settings.canonical(e):this.resolve(e,!0):""}determineType(e){var t;return"base64"===this.settings.encoding?"base64":"string"!=typeof e?"binary":((t=new Cf.default(e).path().extension)&&(t=t.replace(/\?.*$/,"")),t?"epub"===t?"epub":"opf"===t?"opf":"json"===t?"json":void 0:"directory")}unpack(e){this.package=e,""===this.packaging.metadata.layout?this.load(this.url.resolve("META-INF/com.apple.ibooks.display-options.xml")).then((e=>{this.displayOptions=new zf.default(e),this.loading.displayOptions.resolve(this.displayOptions)})).catch((e=>{this.displayOptions=new zf.default,this.loading.displayOptions.resolve(this.displayOptions)})):(this.displayOptions=new zf.default,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Sf.default(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then((()=>{this.loading.navigation.resolve(this.navigation)})),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&"none"!=this.settings.replacements?this.replacements().then((()=>{this.loaded.displayOptions.then((()=>{this.opening.resolve(this)}))})).catch((e=>{console.error(e)})):this.loaded.displayOptions.then((()=>{this.opening.resolve(this)}))}loadNavigation(e){let t=e.navPath||e.ncxPath,i=e.toc;return i?new Promise(((t,n)=>{this.navigation=new _f.default(i),e.pageList&&(this.pageList=new Tf.default(e.pageList)),t(this.navigation)})):t?this.load(t,"xml").then((e=>(this.navigation=new _f.default(e),this.pageList=new Tf.default(e),this.navigation))):new Promise(((e,t)=>{this.navigation=new _f.default,this.pageList=new Tf.default,e(this.navigation)}))}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new Pf.default(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new Of.default,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&"none"!==this.settings.replacements,i=this.url,n=this.settings.requestMethod||Df.default.bind(this);return this.storage=new Rf.default(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then((()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let e=(e,t)=>{t.output=this.resources.substitute(e,t.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then((()=>this.resources.replaceCss())),this.storage.on("offline",(()=>{this.url=new Cf.default("/",""),this.spine.hooks.serialize.register(e)})),this.storage.on("online",(()=>{this.url=i,this.spine.hooks.serialize.deregister(e)}))})),this.storage}coverUrl(){return this.loaded.cover.then((()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null))}replacements(){return this.spine.hooks.serialize.register(((e,t)=>{t.output=this.resources.substitute(e,t.url)})),this.resources.replacements().then((()=>this.resources.replaceCss()))}getRange(e){var t=new Nf.default(e),i=this.spine.get(t.spinePos),n=this.load.bind(this);return i?i.load(n).then((function(e){return t.toRange(i.document)})):new Promise(((e,t)=>{t("CFI could not be found")}))}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Lf.EPUBJS_VERSION}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}(0,wf.default)(Ff.prototype);var Hf=Ff;fl.default=Hf;var jf={};Object.defineProperty(jf,"__esModule",{value:!0}),jf.default=void 0;var Vf=Gf(fl),Wf=Gf(md),Uf=Gf(dh),qf=Gf(xd),Xf=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=Kf(t);if(i&&i.has(e))return i.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,i&&i.set(e,n),n}(Xl),Yf=Fh;function Kf(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(Kf=function(e){return e?i:t})(e)}function Gf(e){return e&&e.__esModule?e:{default:e}}function Zf(e,t){return new Vf.default(e,t)}Gf(Yd),Gf(wp),Gf(wg),Zf.VERSION=Yf.EPUBJS_VERSION,void 0!==hi&&(hi.EPUBJS_VERSION=Yf.EPUBJS_VERSION),Zf.Book=Vf.default,Zf.Rendition=Wf.default,Zf.Contents=qf.default,Zf.CFI=Uf.default,Zf.utils=Xf;var Jf=Zf;jf.default=Jf,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Book",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Contents",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"EpubCFI",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Layout",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Rendition",{enumerable:!0,get:function(){return n.default}}),e.default=void 0;var t=a(fl),i=a(dh),n=a(md),r=a(xd),o=a(vd);function a(e){return e&&e.__esModule?e:{default:e}}var s=a(jf).default;e.default=s}(gl);var $f={};Object.defineProperty($f,"__esModule",{value:!0}),$f.default=void 0;function eA(e){return eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(e)}$f.default={viewHolder:{position:"relative",height:"100%",width:"100%"},view:{height:"100%"}},Object.defineProperty(pl,"__esModule",{value:!0}),pl.default=void 0;var tA=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==eA(e)&&"function"!=typeof e)return{default:e};var i=aA(t);if(i&&i.has(e))return i.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,i&&i.set(e,n),n}(c.default),iA=oA(pi.exports),nA=oA(gl),rA=oA($f);function oA(e){return e&&e.__esModule?e:{default:e}}function aA(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(aA=function(e){return e?i:t})(e)}function sA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function lA(e,t){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lA(e,t)}function cA(e,t){if(t&&("object"===eA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uA(e)}function uA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hA(e){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hA(e)}function dA(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lA(e,t)}(r,tA.Component);var t,i,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=hA(e);if(t){var r=hA(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return cA(this,i)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),dA(uA(t=n.call(this,e)),"onLocationChange",(function(e){var i=t.props,n=i.location,r=i.locationChanged,o=e&&e.start;n!==o&&(t.location=o,r&&r(o))})),dA(uA(t),"handleKeyPress",(function(e){var i=e.key;i&&"ArrowRight"===i&&t.nextPage(),i&&"ArrowLeft"===i&&t.prevPage()})),t.state={isLoaded:!1,toc:[]},t.viewerRef=tA.default.createRef(),t.location=e.location,t.book=t.rendition=t.prevPage=t.nextPage=null,t}return t=r,i=[{key:"componentDidMount",value:function(){this.initBook(!0),document.addEventListener("keyup",this.handleKeyPress,!1)}},{key:"initBook",value:function(){var e=this,t=this.props,i=t.url,n=t.tocChanged,r=t.epubInitOptions;this.book&&this.book.destroy(),this.book=new nA.default(i,r),this.book.loaded.navigation.then((function(t){var i=t.toc;e.setState({isLoaded:!0,toc:i},(function(){n&&n(i),e.initReader()}))}))}},{key:"componentWillUnmount",value:function(){this.book=this.rendition=this.prevPage=this.nextPage=null,document.removeEventListener("keyup",this.handleKeyPress,!1)}},{key:"shouldComponentUpdate",value:function(e){return!this.state.isLoaded||e.location!==this.props.location||e.location!==this.props.location}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.location!==this.props.location&&this.rendition.display(this.props.location),e.url!==this.props.url&&this.initBook()}},{key:"initReader",value:function(){var e=this,t=this.state.toc,i=this.props,n=i.location,r=i.epubOptions,o=i.getRendition,a=this.viewerRef.current;this.rendition=this.book.renderTo(a,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?sA(Object(i),!0).forEach((function(t){dA(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({contained:!0,width:"100%",height:"100%"},r)),this.prevPage=function(){e.rendition.prev()},this.nextPage=function(){e.rendition.next()},this.registerEvents(),o&&o(this.rendition),"string"==typeof n||"number"==typeof n?this.rendition.display(n):t.length>0&&t[0].href?this.rendition.display(t[0].href):this.rendition.display()}},{key:"registerEvents",value:function(){var e=this.props,t=e.handleKeyPress,i=e.handleTextSelected;this.rendition.on("locationChanged",this.onLocationChange),this.rendition.on("keyup",t||this.handleKeyPress),i&&this.rendition.on("selected",i)}},{key:"renderBook",value:function(){var e=this.props.styles;return tA.default.createElement("div",{ref:this.viewerRef,style:e.view})}},{key:"render",value:function(){var e=this.state.isLoaded,t=this.props,i=t.loadingView,n=t.styles;return tA.default.createElement("div",{style:n.viewHolder},e&&this.renderBook()||i)}}],i&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();pA.defaultProps={loadingView:null,locationChanged:null,tocChanged:null,styles:rA.default,epubOptions:{},epubInitOptions:{}},pA.propTypes={url:iA.default.oneOfType([iA.default.string,iA.default.instanceOf(ArrayBuffer)]),loadingView:iA.default.element,location:iA.default.oneOfType([iA.default.string,iA.default.number]),locationChanged:iA.default.func,tocChanged:iA.default.func,styles:iA.default.object,epubInitOptions:iA.default.object,epubOptions:iA.default.object,getRendition:iA.default.func,handleKeyPress:iA.default.func,handleTextSelected:iA.default.func};var gA=pA;pl.default=gA;var fA={};const AA={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},mA={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]};function vA(e,t){if(0===t)return e;const i=Math.PI/180*t;return[e[0]*Math.cos(i)+e[1]*Math.sin(i),e[1]*Math.cos(i)-e[0]*Math.sin(i)]}var yA=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})})),t}(Object.freeze({__proto__:null,DOWN:"Down",LEFT:"Left",RIGHT:"Right",UP:"Up",useSwipeable:function(e){const{trackMouse:t}=e,i=u.useRef(Object.assign({},mA)),n=u.useRef(Object.assign({},AA)),r=u.useRef(Object.assign({},n.current));let o;for(o in r.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},AA),e),AA)void 0===n.current[o]&&(n.current[o]=AA[o]);const[a,s]=u.useMemo((()=>function(e,t){const i=t=>{const i="touches"in t;i&&t.touches.length>1||e(((e,r)=>{r.trackMouse&&!i&&(document.addEventListener("mousemove",n),document.addEventListener("mouseup",o));const{clientX:a,clientY:s}=i?t.touches[0]:t,l=vA([a,s],r.rotationAngle);return r.onTouchStartOrOnMouseDown&&r.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),mA),{initial:l.slice(),xy:l,start:t.timeStamp||0})}))},n=t=>{e(((e,i)=>{const n="touches"in t;if(n&&t.touches.length>1)return e;if(t.timeStamp-e.start>i.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:r,clientY:o}=n?t.touches[0]:t,[a,s]=vA([r,o],i.rotationAngle),l=a-e.xy[0],c=s-e.xy[1],u=Math.abs(l),h=Math.abs(c),d=(t.timeStamp||0)-e.start,p=Math.sqrt(u*u+h*h)/(d||1),g=[l/(d||1),c/(d||1)],f=function(e,t,i,n){return e>t?i>0?"Right":"Left":n>0?"Down":"Up"}(u,h,l,c),A="number"==typeof i.delta?i.delta:i.delta[f.toLowerCase()]||AA.delta;if(u<A&&h<A&&!e.swiping)return e;const m={absX:u,absY:h,deltaX:l,deltaY:c,dir:f,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:g};m.first&&i.onSwipeStart&&i.onSwipeStart(m),i.onSwiping&&i.onSwiping(m);let v=!1;return(i.onSwiping||i.onSwiped||i[`onSwiped${f}`])&&(v=!0),v&&i.preventScrollOnSwipe&&i.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:m,swiping:!0})}))},r=t=>{e(((e,i)=>{let n;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<i.swipeDuration){n=Object.assign(Object.assign({},e.eventData),{event:t}),i.onSwiped&&i.onSwiped(n);const r=i[`onSwiped${n.dir}`];r&&r(n)}}else i.onTap&&i.onTap({event:t});return i.onTouchEndOrOnMouseUp&&i.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),mA),{eventData:n})}))},o=e=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),r(e)},a=(e,t)=>{let o=()=>{};if(e&&e.addEventListener){const a=Object.assign(Object.assign({},AA.touchEventOptions),t.touchEventOptions),s=[["touchstart",i,a],["touchmove",n,Object.assign(Object.assign({},a),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",r,a]];s.forEach((([t,i,n])=>e.addEventListener(t,i,n))),o=()=>s.forEach((([t,i])=>e.removeEventListener(t,i)))}return o},s={ref:t=>{null!==t&&e(((e,i)=>{if(e.el===t)return e;const n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=void 0),i.trackTouch&&t&&(n.cleanUpTouch=a(t,i)),Object.assign(Object.assign(Object.assign({},e),{el:t}),n)}))}};return t.trackMouse&&(s.onMouseDown=i),[s,a]}((e=>i.current=e(i.current,n.current)),{trackMouse:t})),[t]);return i.current=function(e,t,i,n){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==i.preventScrollOnSwipe||t.touchEventOptions.passive!==i.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(i.current,n.current,r.current,s),a}})),bA={};Object.defineProperty(bA,"__esModule",{value:!0}),bA.default=void 0;function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}bA.default={container:{overflow:"hidden",height:"100%"},readerArea:{position:"relative",zIndex:1,height:"100%",width:"100%",backgroundColor:"#fff",transition:"all .3s ease"},containerExpanded:{transform:"translateX(256px)"},titleArea:{position:"absolute",top:20,left:50,right:50,textAlign:"center",color:"#999"},reader:{position:"absolute",top:50,left:50,bottom:20,right:50},swipeWrapper:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:200},prev:{left:1},next:{right:1},arrow:{outline:"none",border:"none",background:"none",position:"absolute",top:"50%",marginTop:-32,fontSize:64,padding:"0 10px",color:"#E2E2E2",fontFamily:"arial, sans-serif",cursor:"pointer",userSelect:"none",appearance:"none",fontWeight:"normal"},arrowHover:{color:"#777"},tocBackground:{position:"absolute",left:256,top:0,bottom:0,right:0,zIndex:1},tocArea:{position:"absolute",left:0,top:0,bottom:0,zIndex:0,width:256,overflowY:"auto",WebkitOverflowScrolling:"touch",background:"#f2f2f2",padding:"10px 0"},tocAreaButton:{userSelect:"none",appearance:"none",background:"none",border:"none",display:"block",fontFamily:"sans-serif",width:"100%",fontSize:".9em",textAlign:"left",padding:".9em 1em",borderBottom:"1px solid #ddd",color:"#aaa",boxSizing:"border-box",outline:"none",cursor:"pointer"},tocButton:{background:"none",border:"none",width:32,height:32,position:"absolute",top:10,left:10,borderRadius:2,outline:"none",cursor:"pointer"},tocButtonExpanded:{background:"#f2f2f2"},tocButtonBar:{position:"absolute",width:"60%",background:"#ccc",height:2,left:"50%",margin:"-1px -30%",top:"50%",transition:"all .5s ease"},tocButtonBarTop:{top:"35%"},tocButtonBottom:{top:"66%"},loadingView:{position:"absolute",top:"50%",left:"10%",right:"10%",color:"#ccc",textAlign:"center",margintop:"-.5em"}},Object.defineProperty(fA,"__esModule",{value:!0}),fA.default=void 0;var EA=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==wA(e)&&"function"!=typeof e)return{default:e};var i=SA(t);if(i&&i.has(e))return i.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,i&&i.set(e,n),n}(c.default),CA=_A(pi.exports),IA=yA,BA=dl,xA=_A(bA),kA=["children"],QA=["title","showToc","loadingView","styles","locationChanged","swipeable","epubViewStyles"];function _A(e){return e&&e.__esModule?e:{default:e}}function SA(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(SA=function(e){return e?i:t})(e)}function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},TA.apply(this,arguments)}function PA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DA(e,t,i){return t&&OA(e.prototype,t),i&&OA(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function NA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RA(e,t)}function RA(e,t){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RA(e,t)}function zA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=FA(e);if(t){var r=FA(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return LA(this,i)}}function LA(e,t){if(t&&("object"===wA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return MA(e)}function MA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FA(e){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FA(e)}function HA(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jA(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var VA=function(e){var t=e.children,i=jA(e,kA),n=(0,IA.useSwipeable)(i);return EA.default.createElement("div",n,t)},WA=function(e){NA(i,EA.PureComponent);var t=zA(i);function i(){var e;PA(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HA(MA(e=t.call.apply(t,[this].concat(r))),"setLocation",(function(){e.props.setLocation(e.props.href)})),e}return DA(i,[{key:"render",value:function(){var e=this.props,t=e.label,i=e.styles;return EA.default.createElement("button",{onClick:this.setLocation,style:i},t)}}]),i}();WA.propTypes={label:CA.default.string,href:CA.default.string,setLocation:CA.default.func,styles:CA.default.object};var UA=function(e){NA(i,EA.PureComponent);var t=zA(i);function i(e){var n;return PA(this,i),HA(MA(n=t.call(this,e)),"toggleToc",(function(){n.setState({expandedToc:!n.state.expandedToc})})),HA(MA(n),"next",(function(){n.readerRef.current.nextPage()})),HA(MA(n),"prev",(function(){n.readerRef.current.prevPage()})),HA(MA(n),"onTocChange",(function(e){var t=n.props.tocChanged;n.setState({toc:e},(function(){return t&&t(e)}))})),HA(MA(n),"setLocation",(function(e){var t=n.props.locationChanged;n.setState({expandedToc:!1},(function(){return t&&t(e)}))})),n.readerRef=EA.default.createRef(),n.state={expandedToc:!1,toc:!1},n}return DA(i,[{key:"renderToc",value:function(){var e=this,t=this.state,i=t.toc,n=t.expandedToc,r=this.props.styles;return EA.default.createElement("div",null,EA.default.createElement("div",{style:r.tocArea},EA.default.createElement("div",{style:r.toc},i.map((function(t,i){return EA.default.createElement(WA,TA({},t,{key:i,setLocation:e.setLocation,styles:r.tocAreaButton}))})))),n&&EA.default.createElement("div",{style:r.tocBackground,onClick:this.toggleToc}))}},{key:"renderTocToggle",value:function(){var e=this.state.expandedToc,t=this.props.styles;return EA.default.createElement("button",{style:Object.assign({},t.tocButton,e?t.tocButtonExpanded:{}),onClick:this.toggleToc},EA.default.createElement("span",{style:Object.assign({},t.tocButtonBar,t.tocButtonBarTop)}),EA.default.createElement("span",{style:Object.assign({},t.tocButtonBar,t.tocButtonBottom)}))}},{key:"render",value:function(){var e=this.props,t=e.title,i=e.showToc,n=e.loadingView,r=e.styles,o=e.locationChanged,a=e.swipeable,s=e.epubViewStyles,l=jA(e,QA),c=this.state,u=c.toc,h=c.expandedToc;return EA.default.createElement("div",{style:r.container},EA.default.createElement("div",{style:Object.assign({},r.readerArea,h?r.containerExpanded:{})},i&&this.renderTocToggle(),EA.default.createElement("div",{style:r.titleArea},t),EA.default.createElement(VA,{onSwipedRight:this.prev,onSwipedLeft:this.next,trackMouse:!0},EA.default.createElement("div",{style:r.reader},EA.default.createElement(BA.EpubView,TA({ref:this.readerRef,loadingView:n,styles:s},l,{tocChanged:this.onTocChange,locationChanged:o})),a&&EA.default.createElement("div",{style:r.swipeWrapper}))),EA.default.createElement("button",{style:Object.assign({},r.arrow,r.prev),onClick:this.prev},""),EA.default.createElement("button",{style:Object.assign({},r.arrow,r.next),onClick:this.next},"")),i&&u&&this.renderToc())}}]),i}();UA.defaultProps={loadingView:EA.default.createElement("div",{style:xA.default.loadingView},"Loading"),locationChanged:null,tocChanged:null,showToc:!0,styles:xA.default},UA.propTypes={title:CA.default.string,loadingView:CA.default.element,showToc:CA.default.bool,locationChanged:CA.default.func,tocChanged:CA.default.func,styles:CA.default.object,epubViewStyles:CA.default.object,swipeable:CA.default.bool};var qA=UA;function XA(e,t){return"Solana"==t?e.slice(0,6)+"..."+e.slice(e.length-4):"0x"+(e.slice(2,6)+"..."+e.slice(e.length-4)).toUpperCase()}function YA(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]}async function KA(e){return await fetch(e).then((e=>e.json())).then((e=>e)).catch((e=>({error:e})))}async function GA(e,t,i,n=!1){const r=n?"https://dev1.darkblock.io/v1":"https://api.darkblock.io/v1";return await fetch(`${r}/nft/metadata?platform=${i}&contract=${e}&token=${t}&offest=0&page_size=50`).then((e=>e.json())).then((e=>({nft:e.data}))).catch((e=>({nft:null})))}async function ZA(e,t,i=!1){const n=i?"https://dev1.darkblock.io/v1":"https://api.darkblock.io/v1";try{const i=await fetch(`${n}/darkblock/info?nft_id=${e}&nft_platform=${t}`);return await i.json()}catch(e){return[]}}async function JA(e,t,i,n=!1){const r=n?"https://dev1.darkblock.io/v1":"https://api.darkblock.io/v1";try{const n=await fetch(`${r}/nft/creator?platform=${i}&contract_address=${e}&token_id=${t}`);return await n.json()}catch(e){return[]}}async function $A(e,t,i=""){i=i&&""!==i?i:"unlockable";const n=await fetch(e,{"Access-Control-Expose-Headers":"Content-Disposition"}),r=await n.blob();let o="";if(t.match(/\/aac/gi)&&(o="aac"),t.match(/\/bmp/gi)&&(o="bmp"),t.match(/\/cbr/gi)&&(o="cbr"),t.match(/\/epub/gi)&&(o="epub"),t.match(/\/flac/gi)&&(o="flac"),t.match(/\/gif/gi)&&(o="gif"),t.match(/\/glbtf/gi)&&(o="glb"),t.match(/\/html/gi)&&(o="html"),t.match(/\/jpg/gi)&&(o="jpg"),t.match(/\/jpeg/gi)&&(o="jpeg"),t.match(/\/m4a/gi)&&(o="m4a"),t.match(/\/mkv/gi)&&(o="mkv"),t.match(/\/mp3/gi)&&(o="mp3"),t.match(/\/mp4/gi)&&(o="mp4"),t.match(/\/mpeg/gi)&&(o="mpeg"),t.match(/\/ogg/gi)&&(o="ogg"),t.match(/\/ogv/gi)&&(o="ogv"),t.match(/\/opus/gi)&&(o="opus"),t.match(/\/other/gi)&&(o="other"),t.match(/\/pdf/gi)&&(o="pdf"),t.match(/\/png/gi)&&(o="png"),t.match(/\/svg/gi)&&(o="svg"),t.match(/\/tgz/gi)&&(o="tgz"),t.match(/\/usdz/gi)&&(o="usdz"),t.match(/\/wav/gi)&&(o="wav"),t.match(/\/webm/gi)&&(o="webm"),t.match(/\/zip/gi)&&(o="zip"),"undefined"!=typeof window){const e=document.createElement("a");e.href=window.URL.createObjectURL(r),e.download=`${i}.${o}`,document.body.appendChild(e),e.click(),e.remove(),window.URL.revokeObjectURL(r)}}fA.default=qA,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EpubView",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"EpubViewStyle",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"ReactReader",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"ReactReaderStyle",{enumerable:!0,get:function(){return r.default}});var t=o(pl),i=o($f),n=o(fA),r=o(bA);function o(e){return e&&e.__esModule?e:{default:e}}}(dl);var em=Object.freeze({__proto__:null,shortenEthAddr:XA,humanFileSize:YA,getJsonData:KA,getNFTData:GA,getArweaveData:ZA,getOwner:async function(e,t,i,n="",r=!1){const o=r?"https://dev1.darkblock.io/v1":"https://api.darkblock.io/v1";try{const r=await fetch(`${o}/nft/owner?platform=${i}&contract_address=${e}&token_id=${t}&owner=${n}`);return await r.json()}catch(e){return[]}},getCreator:JA,getProxyAsset:function(e,t,i,n,r,o,a){let s="";return a&&a.length>0&&(s=`&owner=${encodeURIComponent(a)}`),r?`https://gateway.darkblock.io/proxy?artid=${e}&session_token=${t}&token_id=${i}&contract=${n}&nonce=${r}&platform=${o}${s}`:`https://gateway.darkblock.io/proxy?artid=${e}&session_token=${t}&token_id=${i}&contract=${n}&platform=${o}${s}`},downloadFile:$A});h('@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:3px;border-radius:var(--plyr-control-radius,3px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control.plyr__tab-focus{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:4px;bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top:var(--plyr-menu-arrow-size,4px) solid #ffffffe6;border-width:var(--plyr-menu-arrow-size,4px);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward.plyr__tab-focus:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px 0 #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back.plyr__tab-focus:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b3ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio].plyr__tab-focus:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:calc(-7px + 2);margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 + 2);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b3ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc(var(--plyr-range-thumb-height, 13px)/2*-1 - var(--plyr-range-track-height, 5px)/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range].plyr__tab-focus::-webkit-slider-runnable-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-moz-range-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-ms-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"\\2044";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#ffffffe6;background:var(--plyr-tooltip-background,#ffffffe6);border-radius:3px;border-radius:var(--plyr-tooltip-radius,3px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #ffffffe6;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#ffffffe6);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control.plyr__tab-focus .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translateX(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{color:#e5e5e5;position:relative;z-index:2}.plyr__progress .plyr__tooltip{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));background-color:rgb(229 229 229/var(--tw-bg-opacity));font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px));left:0}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc(var(--plyr-range-track-height, 5px)/2*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__volume{align-items:center;display:flex;max-width:110px;min-width:80px;position:relative;width:20%}.plyr__volume input[type=range]{color:#e5e5e5;margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);position:relative;z-index:2}.plyr--is-ios .plyr__volume{min-width:0;width:auto}.plyr--audio{display:block}.plyr--audio .plyr__controls{--tw-bg-opacity:1;background:var(--plyr-audio-controls-background,#fff);background-color:rgb(64 64 64/var(--tw-bg-opacity));border-radius:inherit;border-radius:12px;color:#fff;color:var(--plyr-audio-control-color,#fff);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control.plyr__tab-focus,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{--tw-bg-opacity:1;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));background-color:rgb(115 115 115/var(--tw-bg-opacity));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(\n    --plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199)\n  )}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(\n    --plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199)\n  )}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(\n    --plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199)\n  )}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));height:90%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-wrapper video{max-height:90%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:1.7777777778}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control.plyr__tab-focus,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{--tw-bg-opacity:1;background:#00b3ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));background-color:rgb(115 115 115/var(--tw-bg-opacity));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b3ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(\n    --plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40)\n  )}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(\n    --plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40)\n  )}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(\n    --plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40)\n  )}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-webkit-full-screen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-webkit-full-screen video{height:100%}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-webkit-full-screen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-moz-full-screen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-moz-full-screen video{height:100%}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-moz-full-screen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-moz-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-ms-fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-ms-fullscreen video{height:100%}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-ms-fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-ms-fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;display:block;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:after:empty{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin:-var(--plyr-range-track-height,5px) /2 0 0;opacity:.8;position:absolute;top:50%;width:3px;z-index:3}.plyr__preview-thumb{background-color:#ffffffe6;background-color:var(--plyr-tooltip-background,#ffffffe6);border-radius:3px;bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;padding:var(--plyr-tooltip-radius,3px);pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #ffffffe6;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#ffffffe6);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:2px;border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img{height:100%;left:0;max-height:none;max-width:none;position:absolute;top:0;width:100%}.plyr__preview-thumb__time-container{bottom:6px;left:0;position:absolute;right:0;white-space:nowrap;z-index:3}.plyr__preview-thumb__time-container span{background-color:#0000008c;border-radius:2px;border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px));padding:3px 6px}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}',{insertAt:"top"}),h(".DarkblockWidget-Player{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity));flex:1 1 0%;margin:auto;position:relative;width:100%}.DarkblockWidget-Player .Darkblock-zip-panel{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));padding-bottom:1rem;text-align:center}@media (min-width:640px){.DarkblockWidget-Player .Darkblock-zip-panel{margin-bottom:.5rem;margin-top:.5rem;padding:1rem}}.DarkblockWidget-Player-Content{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));height:100%;object-fit:cover}.DarkblockWidget-Player-Content #Darkblock-seadragon-viewer{height:100%}.Darkblock-pdfPlayer{height:16rem;width:100%}@media (min-width:768px){.Darkblock-pdfPlayer{height:18rem}}@media (min-width:1024px){.Darkblock-pdfPlayer{height:24rem}}.Darkblock-gifViewer{height:auto;margin:auto;width:auto}.Darkblock-reactReader{height:100%;position:relative}#Darkblock-toolbarDiv{left:.25rem;position:absolute;top:.25rem;z-index:50}#Darkblock-seadragon-viewer-spinner{bottom:0;height:3rem;justify-content:center;left:0;margin:auto;position:absolute;right:0;text-align:center;top:0;width:3rem;z-index:50}.DarkblockWidget-Player-Content iframe{height:100%;width:100%}.Darkblock-model-viewer-player{bottom:0;display:flex;left:0;margin:auto;position:absolute;right:0;top:0;width:100%;z-index:10}.Darkblock-model-viewer-player model-viewer{background-image:linear-gradient(180deg,#f5f5f5,#e5e5e5);height:100%;width:100%}.Darkblock-audioPlayer{--tw-bg-opacity:1;align-items:center;background-color:rgb(0 0 0/var(--tw-bg-opacity));justify-content:center}.Darkblock-audioPlayer,.Darkblock-videoPlayer{bottom:0;display:flex;left:0;position:absolute;right:0;top:0}.Darkblock-videoPlayer{margin:auto;width:100%}.Darkblock-videoPlayer .plyr{width:100%}.DarkblockWidget-Player-Content .Darkblock-audioPlayer{object-fit:contain}.Darkblock-zip-panel{align-items:center;bottom:0;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0}.Darkblock-htmlPlayer{height:16rem}@media (min-width:768px){.Darkblock-htmlPlayer{height:18rem}}@media (min-width:1024px){.Darkblock-htmlPlayer{height:24rem}}.Darkblock-zip-panel svg{height:1.5rem;width:1.5rem}.Darkblock-playerBtn{height:2rem;margin-left:1.5rem;margin-right:1.5rem;width:2rem}.Darkblock-playerBtnDisabled{cursor:default;opacity:.4}.Darkblock-arrowIcons{margin:auto}",{insertAt:"top"});const tm=({mediaURL:e,config:t})=>{const i=l.useRef(null);return l.useEffect((()=>{Vo({id:"Darkblock-seadragon-viewer",showRotationControl:t.showRotationControl,autoHideControls:t.autoHideControls,controlsFadeDelay:t.controlsFadeDelay,prefixUrl:"//app.darkblock.io/opensea/",tileSources:{url:e,type:"image"},toolbar:"Darkblock-toolbarDiv"}).addOnceHandler("tile-drawn",(()=>{i.current.style.display="none"}))}),[]),c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{id:"Darkblock-seadragon-viewer",onContextMenu:()=>!1},c.default.createElement("div",{id:"Darkblock-toolbarDiv"}),c.default.createElement("div",{id:"Darkblock-seadragon-viewer-spinner",ref:i},c.default.createElement(hl,null))))},im=({mediaURL:e,mediaType:t,config:i,posterUrl:n})=>{const r=l.useRef(null),[o,a]=l.useState([]),[s,u]=l.useState(0);if("undefined"==typeof window)return c.default.createElement(c.default.Fragment,null);const h=l.useRef(null),d={...dl.ReactReaderStyle,arrow:{...dl.ReactReaderStyle.arrow,color:"black"}},p={type:"",poster:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAAUACAYAAAAY5P/3AAAAAXNSR0IArs4c6QAAIABJREFUeF7s3X+QJGlaH/asqp7u6d2d3QMfIA6fEIK4PxAnuOvdMaM7sa248Ryz09X8ig6IIHzCIflEWApkg8FyYMALtnVgKwhbVgikQAKEHJYb6WCqe5vrQKaWiGHsNT0g4C5QEKwArXQwc/hur3dn+kdVpSN7ttjenvrxVndWddfTn/4LbnPzzefzPJWx8Y03MyuZPwIECBAgQIAAAQIECBAgQIAAAQIEwgpUwlamMAIECBAgQIAAAQIECBAgQIAAAQIEMgGgISBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIBVsS3BAAAgAElEQVQAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIECAAAECBAgQIECAAIHAAgLAwM1VGgECBAgQIECAAAECBAgQIECAAAEBoBkgQIAAAQIECBAgQIAAAQIECBAgEFhAABi4uUojQIAAAQIECBAgQIAAAQIECBAgIAA0AwQIECBAgAABAgQIECBAgAABAgQCCwgAAzdXaQQIECBAgAABAgQIECBAgAABAgQEgGaAAAECBAgQIECAAAECBAgQIECAQGABAWDg5iqNAAECBAgQIECAAAECBAgQIECAgADQDBAgQIAAAQIECBAgQIAAAQIECBAILCAADNxcpREgQIAAAQIECBAgQIAAAQIECBAQAJoBAgQIECBAgAABAgQIECBAgAABAoEFBICBm6s0AgQIECBAgAABAgQIECBAgAABAgJAM0CAAAECBAgQIECAAAECBAgQIEAgsIAAMHBzlUaAAAECBAgQIECAAAECBAgQIEBAAGgGCBAgQIAAAQIECBAgQIAAAQIECAQWEAAGbq7SCBAgQIAAAQIECBAgQIAAAQIECAgAzQABAgQIECBAgAABAgQIECBAgACBwAICwMDNVRoBAgQIECBAgAABAgQIECBAgAABAaAZIECAAAECBAgQIECAAAECBAgQIBBYQAAYuLlKI0CAAAECBAgQIECAAAECBAgQICAANAMECBAgQIAAAQIECBAgQIAAAQIEAgsIAAM3V2kECBAgQIAAAQIECBAgQIAAAQIEBIBmgAABAgQIECBAgAABAgQIECBAgEBgAQFg4OYqjQABAgQIECBAgAABAgQIECBAgIAA0AwQIECAAAECBAgQIECAAAECBAgQCCwgAAzcXKURIECAAAECBAgQIECAAAECBAgQEACaAQIECBAgQIAAAQIECBAgQIAAAQKBBQSAgZurNAIECBAgQIAAAQIECBAgQIAAAQICQDNAgAABAgQIECBAgAABAgQIECBAILCAADBwc5VGgAABAgQIECBAgAABAgQIECBAQABoBggQIECAAAECBAgQIECAAAECBAgEFhAABm6u0ggQIECAAAECBAgQIECAAAECBAgIAM0AAQIECBAgQIAAAQIECBAgQIAAgcACAsDAzVUaAQIECBAgQIAAAQIECBAgQIAAAQGgGSBAgAABAgQIECBAgAABAgQIECAQWEAAGLi5SiNAgAABAgQIECBAgAABAgQIECAgADQDBAgQIECAAAECBAgQIECAAAECBAILCAADN1dpBAgQIECAAAECBAgQIECAAAECBASAZoAAAQIECBAgQIAAAQIECBAgQIBAYAEBYODmKo0AAQIECBAgQIAAAQIECBAgQICAANAMECBAgAABAgQIECBAgAABAgQIEAgsIAAM3FylESBAgAABAgQIECBAgAABAgQIEBAAmgECBAgQIECAAAECBAgQIECAAAECgQUEgIGbqzQCBAgQIECAAAECBAgQIECAAAECAkAzQIAAAQIECBAgQIAAAQIECBAgQCCwgAAwcHOVRoAAAQIECBAgQIAAAQIECBAgQEAAaAYIECBAgAABAgQIECBAgAABAgQIBBYQAAZurtIIECBAgAABAgQIECBAgAABAgQICADNAAECBAgQIDCKQGVhYWGm+Be2trZaWZblvf7lxcXFme3t7cqlS5fyZrNZHNfr7+BcKceUud4b59rvV/TCwsKFAOsN7U1Z/Uu1ir5eyhynHJPqOeRco/ymHUuAAAECBAicAwEB4DloshIJECBAgEBJApXFxcW54lzNZnO3X/h3/fr1uQcPHlTm5+fzjY2N4rie4d+hc+30u77FxcWLY1hv6LWXXN+5Xy9lFlKOKXMWAq9X0s/daQgQIECAAIFIAgLASN1UCwECBAgQGKPAtWvXHi9Of+XKlQfPP/98p9dS9Xr9sd3d3crc3FzeaDTu9zrmB37gB6q3b9+eTz3XeV6va1WmZ8q5Uo5J7V/KuVKOmdR6xTrjmPXNzc3X+/08y1ovy7Liv+177sod463BqQkQIECAAIEpEBAATkGTXCIBAgQIEDhtgSKgqNVqtcuXL7/WL/xbXFx8Yn5+vvrgwYNOs9l8rV/499JLLz1R/LOUc6UcU+Z6KedKOSa1vpRzpRwzzesV176xsfHZfjN+/fr1J8usb9h63Tme9OyddL0i/Cseqd/a2ur7ePtp30esT4AAAQIECJyegADw9OytTIAAAQIEpkLgjcdwZ5599tn7/cK/YqfarVu3Ll24cKF47LdnmNM9pij6fe9733a/cxWBz/7+fiXlXCnHTPN6xbX/4i/+4qv9BuXq1atPlVnfaayXMgspx5Q5C9O43osvvji7vb3dFgBOxW3VRRIgQIAAgYkLCAAnTm5BAgQIECAwPQLFBzFmZ2eLD3VU+z3CeF7CP+HYw2B2GsOxIpwuMygtM2xMOdewY4pH6vf29tqD3l05PXcdV0qAAAECBAiMQ0AAOA5V5yRAgAABAgEEVlZWalmW1e7du1dtNps9P9RxeFefnWrxw7FJh3/Dgq/zvuu0uM0UO2bb7XZ7c3OzeOem9/8FuPcqgQABAgQIjENAADgOVeckQIAAAQIBBIoAcHV1tfjYR89QYVof1S1aM62Pzq6sXP+8+/erK5VK5Ws6nc5fqNVq7+w9anmW51lWqQz6T73uMcUZ+h+XFycqjqhUsna7/W9nZmZ+Kc/zX9rb27v5sY997P/rhlB2B57OY/CtVqvY+dfznZsBbkNKIECAAAECBEoSEACWBOk0BAgQIEDgPAmMEv4VLmdpd2D32ie9m23U9b7xG7/xC/f39z+UZdkPZVl2oXA8HMb1n7fxhH+D1suyfD/PK9/f6XR+8oUXXvjDo8eel8fEU3YsFjajzkI/z2G/rfN0T1IrAQIECBAgMFhAAGhCCBAgQIAAgZEERg3/UsKOlGPKDFfO4nqzs7N/cWZm5m/kef7BXg0ZLfwrzjB4V9/DzYFpO/+Gh409z/ULlUrlR97znve8eB4e1R0Wxo1j1+mgOR7pR+1gAgQIECBAILyAADB8ixVIgAABAgTKE4gQ/qUEiSnHFKonDRKXlpa+J8uyH55AGPcnQ1AEiZNe7yAerFS+u9Fo/M+9pnEc4dikd52mzELKMWXMXnm/eGciQIAAAQIEoggIAKN0Uh0ECBAgQGDMAuMI/1LCjpRjygjjJvGY6o0bN76iWq3+vSzLvqa45lMM4/pOS9k7Dd8I/46u92KWZX+90Wh8fFoeyT5awOEP4KQEeynHlDHrY74NOD0BAgQIECAwpQICwCltnMsmQIAAAQKTFJhEOHa4ntNar7iGcewcq9frv5ll2VccrnG0oK3cj3n0n53Jvz+w08k/8fTTT7/7+eefLz4488jfOILnQWHcac1eGeHf4uLiTLPZbE3y3mAtAgQIECBAYDoEBIDT0SdXSYAAAQIETlOgsri4+Pj8/Hx1Y2Pjs/0uxGOcWXY4rLpw4cJ/lud5z0dehX/FFPX8CvF3NhqNH+3O2DSHcaMEl2WEf9evX5+7e/duZ2tra/80bxbWJkCAAAECBM6mgADwbPbFVREgQIAAgTMhsLCwcGF2dnbm0qVL1c3Nzdd7XdR5CWmK2gftDrxx48a3ZFn+M9Vqrda/eT1Dr0cOFxAeBIStLKt863vf+96fneTuwJQwLuWYooKyHvsdtt7t27fn9/b22s1mc/cgWfVHgAABAgQIEDgiIAA0EgQIECBAgEBPgZWVlSLIqt27d6/abDZ3BoV/w8KxyLsD6/X6M51O+3alUq1VHn5do8+f8O8g1ssf5lMjWLU6nc5Xr6+vbx2GPS/B86Dwr/Aodhq22+325ubmfeGfmzkBAgQIECDQT0AAaDYIECBAgACBvgHgyy+/XO33SOFZ/QjCpD4qUa/X/1qWZT/25qOskw7/DmK0/nHjKXztd9xfF87z/MNra2v/8LTCv7MWdBezXlzT5cuXX+u3S9LtjQABAgQIECAw+L8a+RAgQIAAAQLnWqDYAbi6utruhTDN4d9Jw6N6vf5jWZYV4V+/99g9QnYaX/sddxh3uMhJ19fpdH5id3f3u8bxwZajzZvmWT/XNzDFEyBAgAABAm8RsAPQQBAgQIAAAQIjCYwaiAx7f9mtW7cupRxTXOSk3qlWXNPR9ZaXl9+R5/m/exMr/ZHeSYdxxTUOesT2GI/h9p2R0c5V7i7Jdrv9hS+88MIfHr24Se0C7a57WusNezx4pB+2gwkQIECAAIHQAgLA0O1VHAECBAgQKFcgQvhXiIyyc+wbvuEb/oNWq/UHWZY9dpzw77yEcf0nrRuUlhv+ddfrdDqvZVn2p9fX1z9d/G9nMYw76a7Tw7YpXxcu91fvbAQIECBAgEAEAQFghC6qgQABAgQITEBgHOHfqGFcrzJTApFRr73YafiJT3yisrOzczfLss9967rpO/+GhX+n9/7A8YRxj/Yn3aqEXZKf6nQ679rd3e2k7ChNOaao5zR3nR71TJn1CdwKLEGAAAECBAhMoYAAcAqb5pIJECBAgMCkBSa9g+m01itcL168+H2VSuW7ehmP9rjrQfzXt1WjnWvSgd3Ur/fDjUbjb/UL0AaFeqc1e2UEkouLizPNZrM16fuD9QgQIECAAIGzLyAAPPs9coUECBAgQOC0BSqLi4uPz8/PVzc2Nj7b72KuXr36VPHPytoxVZxrlEd1e11Xyo6pw7sDH3vssWae51/Vu8bxPsr66JrnZb3hQekxdwduNRqNp7uuo8xCGWHcKaw3d/fu3U6/r3af9k3E+gQIECBAgMDpCggAT9ff6gQIECBA4KwLVK5cuXJxbm6u1mw2i3et9fw7rfeulRU2XrhwYWlmZuZn+jfjtMK4sYVjR0qd6KO6E/16cp7ny+12+8X9/f1KarA36eD5pOvV6/XHtre3O1mWtewAPOu3VNdHgAABAgROR0AAeDruViVAgAABAlMhsLKyMvvKK6/Url27tvv8888XAcMjf9Mc/r344otPPv74Y79XrdYOdi/2/osbjj2s9+zWdxB/Ptz+1/NvhMeoP9Nut7+43w7W47wjctjvITVsTAmxBx2zuLj4xOzsbF6r1VobGxu7U3FjcZEECBAgQIDAxAUEgBMntyABAgQIEJgOgZWVlVqWZbXV1dX9g5Sox98pPOb4ZOpOrmEBzNbW1vdnWfYDgwKmcxKOZcd8xPYtEzFCGFfKesf5gEqe59+ztrb2Px2+8GkO/4prf+mll56YmZlpNRqN+9NxZ3GVBAgQIECAwGkICABPQ92aBAgQIEBgCgSKAHB1dbXY9Rcq/Cvol5aWXs+y7LGywr/inCXtVDu1cKzfSI4W7J39j4d0Op3t9fX1J4t6Rw3/hoXKt27dupRyTLF2ys6/lHO1Wq32oMfzp+BW4xIJECBAgACBCQgIACeAbAkCBAgQIBBNYJSdf0XtJ33HWZnrLS0t/bssy94xqfDvODvV4oVxWVYEiWXsNCxjV2a73f63zzzzzJ8pArsyw7iUwK7M9Yb9tqLdd9RDgAABAgQIHF9AAHh8O/8mAQIECBA4dwLTvGPqxo0b9yuVynzRtLO0W2+0HXYHV99r7vbzPP/lLMt/Jc/bv1mpzPz62tra7/Q6cNg7G7/+67/+S3d3d99Tq1X/fJZVvqZSqfyFLMsu9DrXaNd+9nYHZll2f21t7fFetU3zrJ+7G5OCCRAgQIAAgaECAsChRA4gQIAAAQIECoFxBCLFece9O7Ber39JlmUvT3tYdWj33HqlUvmZz372sz/b/eLrqL057uOni4uLM5cuXVrJsuw/yfP8+rAwtYzdet1f32j96xuUHpzu6G7EPM+/eG1t7Q+6a43qmbLzL+WYYv3j9sZdigABAgQIECAwSEAAaD4IECBAgACBJIGrV68efCn3pAHFqOHKSdZbXl7+vjzPf3C08Ogs7VTL8na7/Z/nef6/l/UF25QgKuWYw7OwvLz8l/M8/8dv3Z54dr8u3OtR5DzP/5u1tbWPFHWNY9bHHXS/8SMuhrfnOzuTfuQOIkCAAAECBMIKCADDtlZhBAgQIECgPIFr16493ul0Zk4SxhVXM8nw78aNG79TrVa/bLTwr7jK/v95NKH32P3zPM//5sLCwidP46MSo4Z/R6fs+vXr/2G1Wv17lUpluYx3/pXdv4MOP7ywXn+/3Wq1/qPiS9PTNOvd8G9hYWFma2ur+Gq3PwIECBAgQIDAWwQEgAaCAAECBAgQGCiwuLh4McuymWefffb+888/X3wV+JG/brB30vCoOPEoH/zot169Xj/YBVV2eFRGoNXjsdi8Uqn8lzdv3vxfurCHg9JJ7Bwb53r1ev2/yLLsR48OzWi9meiuzLwI0vrN+ijzWdScEiSmHDPst/Xiiy/Obm9vtwWAbugECBAgQIBALwEBoLkgQIAAAQIE+gosLCxcmJ2dLd77Vt3c3Hx9SsK/X8yy7AOjBUxFZYN3/h0c0X/n2MhhY6VS/fV2u/1N6+vrLx92neQuyWLdSa1XfFyk3W7/8yzLvnK03kw0/Ot+qXiz0Wh88Oi8n7Wgu9u/27dvz+/t7bWbzeauR4Dd0AkQIECAAAEBoBkgQIAAAQIEkgVWVlZqWZbV7t27V202mzuDwr/in52FnWr1ev2TWZb9qdECppOHf2/u6hsaVhU7E79tbW3tp4d5puwKSzlm2M6x4jHj4lpSzpVyTMp6Fy/OfmOlUvuJ/qnr6b8/sNPp/Pv19fUv6vbpLIZ/xbUVOxLb7XZ7c3PzvvAv+fbmQAIECBAgcO4E7AA8dy1XMAECBAgQSBMoAsDV1dXikd+eHxUY5VHIlFAoNYTqda7l5eUfyfP8u4tzTOg9fX+COCxs7HQ6e7u7u59/kvqOhlCp5+e/h5IAACAASURBVCorsBv3evV6fS/Lsgvd/h1EsgN2W44QuHZ39PUd+mH9y/P8b7fb7Y8U7wVMmeOUY1I9U87VarWKnX+vpf2qHUWAAAECBAicVwEB4HntvLoJECBAgMAJBEYJ/4plxrk7cHl5+afyPP/QWQuPOp3Ov9nf3393rVarTeNHJcp8NDhl99y3fuu3Pvnqq6/+VpZl70wL/w5iwoHBXonvbPynxdeYh32JOSWwKzP8G/bbOsFP3L9KgAABAgQIBBMQAAZrqHIIECBAgMC4BUYN/1J2oaUc0ytcqdfr61mWPXfGwr/fbjQaX15sRuxaHbe+bi9HDeNSgqiUY8oMq9LXa73+a7/25MfzPH/Xo7N8qo8GNxqNxvLRaxrnB1R6/ZZTZ2Hc9wHnJ0CAAAECBKZLQAA4Xf1ytQQIECBA4FQFzlj49ytZll0ZPfwr/o2x7Bz7/e3t7S9rNputYoVRrNLDsfdtl/F12kmvV3iMugv0wx/+8IVXXnnld2u12jsfDn16+HfQ4RI/2NKdl06nc2t9ff39xw1mJxUEn+pNwuIECBAgQIDAmRQQAJ7JtrgoAgQIECBw9gRGCbSKqy8r7Oiz8+/tWZbdO0Ph3//YaDS+t9u1UawGhXHF+a5evfpUmZ7HCeOOTuMo9aVee795qdfrH8my/L/O8yLUO4j2+v44hr3P761B4tAPtvRcb2Zm5u0f/ehH/zh1J96kd4GevTuHKyJAgAABAgTOgoAA8Cx0wTUQIECAAIEzLpDyDrdRA5GUXWi9jllZWXliZ2dnexzh30G8NNrOsX/VaDS+6nD7Rg3HBu2Mm3R4dJbXm5ubu1WtVv9cv59KeeHf8A/JXLy4fenTn54pvpI91qC7W2vqb2txcXGmuwP1jN9SXB4BAgQIECAwYQEB4ITBLUeAAAECBKZQoLK4uPj4/Px8td9HEIqaJrFTrXgs9JOf/GTxxdiDr/0OC+zKfGz08JdnO51O57HHHvvc1dXVV08S/qXskkw5JiVMTQ2rJr1eyrV3j7lx48bnZFn2qWq1Wj3sXvYspOw0fPDgwdvf//73f/oMPZI9d/fu3c7W1tb+FN5jXDIBAgQIECAwZgEB4JiBnZ4AAQIECEyzwMLCwoXZ2dmZS5cuVTc3N1/vVcukdgcuLy///TzPv70b/qWENGUHhHmev+UdcIc9xhGApoRxKcekhGxnNSDsV9/S0tLtSiX76vIfDT6Ymr4/2yJsPDR7f7fRaHzH4YNTd+uNslN0WP9u3749v7e31242m7sHL0v0R4AAAQIECBA4IiAANBIECBAgQIBAT4GVlZXiEcfavXv3qs1mc2dQ+Ff8s1E/8nD0fIMCkeXl5b+R5/nf7YZ/w4K9sneEvbHeZqPR+GAvh7P86Oyw8OjWrVuXzmr4N+zaf/VXf/VfVquVxWGB3bB5GWWnaI/g+dsbjcaPF2tMOvwr1ixmr91utzc3N+8L/9zMCRAgQIAAgX4CAkCzQYAAAQIECPQNAF9++eVqv0cKRw07jrtT7caNGwvVavVXU8O/w4/q9m/taF+UzbLsq9bW1v7VWQr/hoVjRbCXckxq+JdyrpRjyl6vVqt9SaVS+fVevRlTEPzIUu12+z0vvPDCr49jF+iwd0QWF3P58uXX+j2K7PZGgAABAgQIECgEBIDmgAABAgQIEOgbAK6urrZ7/cNJhX8rKytP7ezsfKbc8G/4Rx4OrfdHCwsL7zhD73l7cn9/v5IStKUcU3YYd5rviKzX63ezLPu87rxOKvzrrrezs/NFeZ6/ftygu3ueMn9bbm0ECBAgQIAAga6AANAsECBAgAABAiMJjBpQpARR/Y6p1+sH7zMrO8xJe39g579bWHjmh6Yx/CvMxvlIdq+wathOtSK4HHc4try8/H15nv/gOHaBDvo6dHe9hYWFWhnzUkYwO9KP2sEECBAgQIBAeAEBYPgWK5AAAQIECJQnMMnwb2lp6Zsrlcr/UXb4V2gMCnOK9fJ8791PP33lE2WFOZMO41KCtpRjUsLb1LBqUus999xz765Wq7+REtilBcGD5+Xw+wMrleo33bx5818c/cVN6kM55f3SnYkAAQIECBCIJiAAjNZR9RAgQIAAgTEJjCP8Ky61VzjWffR30uFfEeY8eLDztkmFVefl4yEpQWLKMalhY3GumZmZV/v9FI58ybfnYcedvUql8uTNmze3uycV/o3phuS0BAgQIECAwEgCAsCRuBxMgAABAgTOr8A4PnDQL2h7+Ohv90Mdg/5zZbSPeQzbFdZqPfhzly+//7fL2vmXEiQOOmbS4VGk9Z577rkvrtVqv3f0FzvO8K+7VqPROBjaw6H5JHaBvvF+74PH5v0RIECAAAECBA4LCADNAwECBAgQIDBMoLK4uPj4/Px8ddwfeVhZWZnf2dm5n7L7KuWYw49nDvr2WZ53fmhnZ/fvnDSw6+7oK3M3W8o1TfN6KdeeckwxxL2s6vX692dZ9nz6LORZGY8Gb29vf97MzMx+yrWnHNOvvu6P9/r163N3797t9Ptq97AfuX9OgAABAgQIxBYQAMbur+oIECBAgMBJBSpXrly5ODc3V2s2m6/1O1lZj7IWO/9GC/ZOvjuw1Wo9t7+//yspQVvKMSWFOVP5td9xPCZehufXfu3XPjczM7NeRrA3yny22+2n+oXmZe4OrNfrj21vb3eyLGs1m83WSX/0/n0CBAgQIEAgnoAAMF5PVUSAAAECBEoTWFlZmX3llVdq165d2x32WOxJw7GlpaU7WZa9p7j4YY/q5nnqMQdn6+vRbref2dvb+52TXnukR2d7YZ1WfcW1lPXo7Pz8zLuy7MJL/YZhlGAvbT4PZu//bTQal4+uOWpQOmg+FxcXn5idnc1rtVprY2Njt7QfvxMRIECAAAECoQQEgKHaqRgCBAgQIFCewMrKSi3Lstrq6up+Vjw/2eNvlEdeB+3kWl5e/o87nc5mevg3ONhLec9bp/Pgy3d3s38/reFfmeFY6i67ssK41PVSepNyTHe9r/u6r3tnp9P5g6OjPKbw72CZSqXy7M2bN3+5u2aZ4V9xrpdeeumJmZmZVqPRuF/er9+ZCBAgQIAAgWgCAsBoHVUPAQIECBAoSaAIAFdXV4vHCsca/hUhxtbWVnuS4V+73f4ze3t7nxklPOrFWuZjnKOEqcW1pFx7yjGnFcYN80y59pRjjtb3wQ9+8HNnZ2f/uLv+aOHf8YLnXh8FOc61Hzbrzl6r1WoPejy/pNuB0xAgQIAAAQJTLiAAnPIGunwCBAgQIHAaAqOGVYN2ji0tLb2eZdljIzxW2bfklDCn02n/1u7u3vvLCmCEcdcP3lc4TV8zXlpa+o1KpfLulHkp4+MhnU5n++mnn37brVu3LqXOS2owO+i3dRr3BmsSIECAAAECZ1NAAHg2++KqCBAgQIDAmRUYNfwbFrTVarVXJxj+/f7u7t5XDrumItBKDWBSzpVyTJnrpZwr5Zgyw6qztt7W1tbvZVn2zknN3oMHD95Wpuewc53ZG4gLI0CAAAECBE5FQAB4KuwWJUCAAAEC0ycw6rvLUgKfixcvfmZQAFPmDq1Wq/X+/f3930oJ41KOSalvWEhT1teTR+3NpOtLsUo5JtUz5VzFMRcuXPjSPM+Lj8888lfm7HXfSdlorPX8b+9R+zeovum7s7hiAgQIECBAYBICAsBJKFuDAAECBAgEELh69epTZQYwFy9e/JlKpbLUnybPyvrab5Z1/uqDB7s/mxJ8pRyTEjClWk3To7NFTWWGVaf1deHD/VtaWvpQpVL5qcNzWHb4V5z7jaD7nzUajW85OvNl/bbe+OR1z3d2BrgFKYEAAQIECBA4gYAA8AR4/lUCBAgQIHBeBK5du/Z4p9OZKSsce/zx6pOdztwjX2N907O88C/P85/e2dn5jrKuvczwL+VcKcekho0p50o5psz1inNN+uvCR9dbXl7+qTzPP/Rw/kqdvYMzHt7lWqlUnrx58+Z2d9bL2gVaLLOwsDCztbVVfLXbHwECBAgQIEDgLQICQANBgAABAgQIDBRYXFy8mGXZzLPPPnv/+eefL74K/MjfqDu55ufnP/3GbqUeZ+sGMAfRSd9r6z5WOeiYTqfz8d3d3fdNa/hXFH/a4djhBpS1U23UXYRl9a+opd+5bty48fFqtfLlZe06HbCLMG80GtXiWsoK/wrPF198cXZ7e7stAHRDJ0CAAAECBHoJCADNBQECBAgQINBXYGFh4cLs7OzMpUuXqpubm8XXek8c/s3NzX1ztVr98d6Llhn+tfd2d/c+v8zwaNJhXMq1pxxT5q6+yOvNzFQ/lWWVCycNnoc9QlypVL5tf3//o6kfmxnWv9u3b8/v7e21m83m7sEWRn8ECBAgQIAAgSMCAkAjQYAAAQIECPQUWFlZqWVZVrt371612WzuDAr/in+WGo7duXOnfdLwr/j3h308ZGdn522Rw6oiPIpe37Dg69atW5dSjinmJdVqZmbm1X63hJRdp8PCv4fnzrMHD3belnLtwz74UewibLfb7c3NzfvCPzdzAgQIECBAoJ+AANBsECBAgAABAn0DwJdffrna75HC4zzGeefOnZ/Lsqz+6ILpO/+GhX9FuNLp7L376aevfKLfI8vdRy9TApjU8Cg1YNrY2PjssDC1rHOVWV/KuVKOSfVMOVfKMaOud+PGjT9brVZ/92iPUoK9lGO67xjM8/zn19fXv37YLAwK1os5Lv79y5cvv9Zv1t3eCBAgQIAAAQIH//2MgQABAgQIECAwqsCoAVoRYiwtLf31SqXyvx0nWHnzwwyD//OlCGDa7fbHNjY2vrZfTWW+d63YgZYaMJUV6k3jeqO+I7Isq+MGhPV6/WNZll17OEPp4XTl4L+sB7+38uCIhwcWf3+t0Wj8g8Ozepzf1qi/X8cTIECAAAEC509AAHj+eq5iAgQIECBwIoFRA4pumFOv13u8m6z0L67mxZdQh+38KytgOqthXErwlXJMan0p50o55iyt93Be08O/I8HeI7+xfrsDG43Gn/z3+HF/Wyf6QfuXCRAgQIAAgXMhIAA8F21WJAECBAgQKEfguAHF0tLSD1cqle9561WUHv5llconH280top3oT3yN8q1jzOsqtfr/1WWZd+eZdmXViqVV9rt9oc6nc5W5EeDi2akviNyWHib2puTrveBD3zgC+bn5//wGLv6ekzfwFn/HxqNxn87ynwOC0rL+bU7CwECBAgQIBBJQAAYqZtqIUCAAAECYxQ4SUDx6O6/9J1VIwQw39loNH70rIZ/9Xp9Pcuy5w5f35GPStQbjcba0eu/evXqU8MCn1F7c9JwbNT1UnZcphyTGv6lnCvlmLm5ue+oVqs/2O9nNco7/wZ9tKbVaj2V+kXgYbMwxluAUxMgQIAAAQJTLCAAnOLmuXQCBAgQIDApgZO+w+2tAWD54V+e59vr6+sHH0Q4+jdqWDWOcOzGjRu71Wp19mj4V/z/R4OhWq32JT/3cz/3e8U/877CNw0mFf4dnfV6vf5almWPH52r0cK/g073/bk+ePAg6YvAw8K/xcXFmWaz2ZrUfcE6BAgQIECAwPQICACnp1eulAABAgQInJZAZXFx8fH5+flqv8dUiwvrt1OtXq//wyzL/urDi08P/3qFY/0CtEajUT04+ZG/UcO/lF1hKcccDquuX78+NzMzs5MS/h065tPb29vvmpmZ2R91vaMGx/lac1mP4ZZ17WWGfynnOnxM4Xfnzp32iP0bddb/0dra2l/p9QMfoX9zd+/e7fT7avdp3TysS4AAAQIECJwNAQHg2eiDqyBAgAABAmdVoHLlypWLc3NztWazWeyE6vk3aKfam7v/ygv/3gwSK8UOuu+/efPmD53F8K+4pqWlpT+qVCqf372+UXaOZVl2Z21tbWFQMJQSaBX/foQw7qThZqrV0V2g9Xr9v8+y7HuL9Ufp3wiPr2eHPwZyuM6UR8Dr9fpj29vbnSzLWnYAntVbqesiQIAAAQKnKyAAPF1/qxMgQIAAgTMrsLKyUsuyrHbv3r1qs9l8yw627kUf3p3U69HZer1+N8uyzxtXaJJl2f/aaDT+5lHElNBkUrsDSwpAX9/d3f2Czc3N14taz8ujwSmBXcoxZQSg9Xr9x/M8//AooV7/H/ejYXin0/mj9fX1P3X0tzWovu4stNvt9ubmZvHxmx5f2j6ztxgXRoAAAQIECExQQAA4QWxLESBAgACBaRIoAsCXX3652u+RwoRHEyv1er1zeLfeKIFIr2OPBom9dk2dtXDsYQBYzu7HTqfz8d3d3fcVNinBV8oxZYRjJ31H5OFejxLMTrq+ixcvfmbQxzxOGnR3H2UfFqx3vQqr4v++fPnya/0e256me45rJUCAAAECBMYnIAAcn60zEyBAgACBqRYoAsDV1dW3vPusW1BC+JctLy//cp53/mKeP/qhi7fCHC8cy/P8L62trTV7hUeDHneddFhVBIBHvvbbcy5GCY86nc4/e+GFF76l14kmXV/KesV1jmNX5jg+2HLU9PCsz87OXqnVahu9f9jdOR70n9dDZ7353ve+9wO3bt26lBrMDpr1qb4BuXgCBAgQIECgVAEBYKmcTkaAAAECBOILpIR/hUK9vnSQaaU8MplyTHHOw7uvju7+O6s7x7a2ttrHqe/RSXo0PLp48eLc6urqXq9gdtLh2KD1ztquzMJrlHk5HMa99YvWXflSwr+DkxVfBE4N/4Y9Hhz/bqRCAgQIECBAIFVAAJgq5TgCBAgQIEAgSw3/lpaWfiTLsu9OCb5Sjjka/mVZ9slGo/GObktGDXMmGY6N+7HRPM//n7W1ta9O7U2kMK7XT3Lc9XXfa/nm2kN39R0cOsIu0I8sLCx870m+xOxWRYAAAQIECBA4KiAANBMECBAgQIBAksAoAVOtVnv1mMHeW66l32Oxh3e+jRr+pXwNN+WY1PfPzc/Pf6Y/cHk7xzqdzk/s7u5+V8q1pxyTWl9Z55qW9RYXFy9eunTpwcOelh7+Hexy7fdF4JRZT/oxO4gAAQIECBA4dwICwHPXcgUTIECAAIHjCaS+w61a3f+iavXiJ7Ks/39mjPK+ux4fXfjdRqPxZUUVKYHIKMHl/v5+paxAq7i+4lx37tzp+R7FtI+jjLRz7CA8qlQqf+XmzZv/6GiXR7GaljDucI1l1Vecc9is1+v138+y/E+nPuJenHOUj4e02+0vfOGFF/5w1PqKZXwJ+Hj3N/8WAQIECBCILiAAjN5h9REgQIAAgZMLVBYXFx+fn5+vbmxsfLbf6bqhSdqOt4NIpO+VDQoIu7ujhoU0ZyUg7PXOuBMGoIfcBu5A+yeNRuNDpx2AnuRR1pQPjIxaX0q4mXLMsEe7T7o7sDvnI9Q3d/fu3U6/r3af/DbgDAQIECBAgMA0CwgAp7l7rp0AAQIECIxfoHLlypWLc3NztWaz+Vq/5bq7rz7nc2bnd3Zqn+x9XPrjkgfx4MNniI/+fXOj0fg/x/2et6OLnmS9owHgaOHf8KB02KPWnU7nb+3u7v5YWTsbU8Kx4qqndb3i2lPeETk/P7+cZdlPj2vWZ2Zm3v7Rj370j1OC7nq9/tj29nYny7JWs9lsjf+2YAUCBAgQIEBg2gQEgNPWMddLgAABAgQmKLCysjL7yiuv1K5du7Y7bCfXG4+7vpRl2cKjl1hK+HfwbrSThHGHr2uEnVVPFo8GpwRfvY45HABOOvw7vF61Wn3fz//8z/9Kv3DzuPV1zzcOz9QwrqywMTW47K43+IvAw8PbgyN6B93FR0P+73a7/cFhj6UvLi4+MTs7m9dqtdbGxsbuBG8PliJAgAABAgSmSEAAOEXNcqkECBAgQGCSAisrK7Usy2qrq6v7/d4rdvS9a70DkdHfY9enzo+0Wq2/fZIwbpxhVb8ArWtSdvg3KDwq/lmf9VqtVusdGxsb94pjRnlv3lkP43rNzKj1pQSJh49ZXl7+O3mef+eba5cTdD88X549eLDztkHXVISuL7300hMzMzOtRqNxf5L3B2sRIECAAAEC0yUgAJyufrlaAgQIECAwMYEiAFxdXS0eK8xTwpXnnnvuXbVa7V8fPbYIooY9ppoSjrVarafKCP+K60t5rHLU8KjfY6NFAJhS3yjvjBsW/iV8YOQ/bbVa/yLVs1hv1HDs6ByM6nkW10vZ4VnGrHf712q1vvIXfuEXfqPX76+747LVarUHPZ4/sRuGhQgQIECAAIEzLSAAPNPtcXEECBAgQOBsCvQKc+r1+m9mWfYVh684JfhKPOZf7uzsfFPKY6rF+oPe4TbpR4jr9aWDEgd9BXbC4d9BpltcU57vvW99ffORx4ILw1Ef6R22U+3WrVuXUvuXEv6lnCvlmNRws9+5lpaW/q9KpfKXygq6D89Cnme/tra29t6jd4HDvRk062fz7uGqCBAgQIAAgdMQEACehro1CRAgQIDAFAv028l1so9dDPpPkjy7f//B22dnZ/f7fYW4zLCq7J1qtVrt1cmHf8WADf7K8qGdajutVusLDtuO6pkStKUcc9Iw7nBwOan1vu3bFi9+6lNPPDgQ7/M+v+KfpQTdvYLg7teAu7eM1N5M8S3GpRMgQIAAAQJjEBAAjgHVKQkQIECAQESBYcHDmwFgee9BK0KTTqfzS88888zVYR8hKTPwKWsHWjEH8/Pzn+k/D12rwQHowx2Ew0O9YSHUsEeDO53OrU6n81zZjwan9CblmLMaEM7Nza0XH1np1+eT7A48HACmhNMR7z1qIkCAAAECBE4uIAA8uaEzECBAgACBcyEw6L15RTAxMzPz6jgeZX3721+b/8mfbO70Qk4JRIYFl93zjuvR4Dt37rR7D0hK+FfaB1T+5LHf/5+9+4+SLEvoAv9eRFRWZnel3SgoM/ya5dcsIkemcrqwdbAC7JNLd2XUjBzzyFEXXMRZUVBXVxR0ZRoEf3MU+SUsCqK4msexycisGgvFLM8pW2smiwFcFHBKZqYApxu3uyerKzMrI+LteVkdU1FRLyLuy3wv8mXWJ/+Anu6b9973ufe9k+d77o9JQWIU9fZ2d/feeuXKlf+W1e+8niHBXkiZaYV/aTt5z4g8c+bM3s7OTuYlHCEr/8aV2d3dPXPlypXXQ+b6G8s+M8/sfCQ+Uh6SAAECBAgQGCkgADQ5CBAgQIAAgYkCi4uLj/d6vcaolXGtVuuHoij5ujJWqg1vgRwO7KoUHmWFY9k3I4evkpwU2IUETHmC2X573W73o0899dRbBldelhH+peM57hy7vGFcyDbxMs6IzBrnfGMz8s/y7+90On9h0qrMNPxbWFhobG5uprd2+yFAgAABAgQIPCAgADQhCBAgQIAAgbECzWZzNoqixvnz5++M2obbv+m26LAqSaJvXltb+2vDHewHUVUP/9J+PxwMhYd/6e+Xca5c1oCPCave1263n01/p4wwLmS7dUiZIufCQdq7ePHie5Ik+da+bUHh3/7Kze3tnScnPd/Vq1dntra2ugJAH3QCBAgQIEAgS0AAaF4QIECAAAECIwUWFhZOzczMNObn52vpNsSsgmkYt7m52S06/Esvscha/XdU4V/67AdZqfZgAFhc+DfpPL97Y1Vce0mS/M2dnZ3vOEg4Njhv8q4inHZ7k4K2cbcZ98c6X/i3H/OOfAfTurrd7hPjVja++OKLc3fv3u1ubGzs7g+6HwIECBAgQIDAkIAA0JQgQIAAAQIEMgWWl5frURTVX3755drGRvYZfGmY8/73v/+rarXaPyljpdq4G1APEsYNPmjImWpFhFVlXI4y7fCv314URb+wtrb2BVkhUxmehwnj0rHOO36Hba+/EnY/0htzI3CeYDatJkmiC2tra5eyXtTUvdvtdq9cuZKeQSj88z0nQIAAAQIEMgUEgCYGAQIECBAgMDIAvHnzZrq6L/NMsX64Mjs7uxHH8RePZgy57CJ7pdpgAJg3zJn2yrEx5yMmeQKfosOjSavLDtJer9f75+vr67+/P+ZHtSozJLBL+1jkXBgXPC8tLe0HcEWFf/26kiT5D2tra08Pv2Np+Jf+u3Pnzt0etT3f540AAQIECBAgsP83BQYCBAgQIECAQJZAugJwZWUl8wbbwTBubm7u1TLCvziOP7i6uvq2tO4iw79ph1VlnY84KdgrY0v28DgnSfJNCwsLf3vcttj+75RxfmDVVoHWavEHarX6501+H8b/GZ61hXh4NWzIrdW+bAQIECBAgACBvoAA0FwgQIAAAQIEcgkMbvVMVx7duHEjMyTMdw7aw3+SbG1tndrY2OiUsbW0yBVhk+qq1+uvFb0irIiAqeiAsN1ey/y7ctqB61G1l45Jp9PZnZ+f384an3zvw8MBYbvdrqVbfEPD8FwvtcIECBAgQIDAiRcQAJ74IfaABAgQIECgOIHhMO7ixYtfnyTJ9w23kC/syP5zJF3xVEb4F7JtNKRM+syTwr+9vb14bm721Sqs1uuPUTo2RYd/A8/3be12+xM34Q6GVdNerTft9vpz4eFbn1P5g2+DHxi3dy8sLPxwutpy0twr7o1XEwECBAgQIHBSBASAJ2UkPQcBAgQIEChZICuMu3Dhwn+r1WpvGWw6X/iX/ubDf450u92ffeqpp942aWtp6GqoPEFikeFfWlej0Xht1NCUHMY91GzI2ISUmXSmYZIkFxcWFtZDwqqQrax5xm9SOFZ2e61W6xejKBrYBnz48O+NgfzQ9vb2wqTnK/kzoHoCBAgQIEDgmAoIAI/pwOk2AQIECBCYpsCobZXDq52KCI/S56rVahdff/31f1d0GHf58uWPZ7mVuVIte0VYerPrvQtbw7YHj/uTLfsCleHnPIr2Op3Ob/+SL/mS/zTqgoqyw7hhg5D2DruFeGlp6ffFcbxyr+3wsQlZlbmzs/PkuFWnzWazkW6bn+a3QVsECBAgQIDA8RAQAB6PcdJLAgQIECBwlAJxYcJgvwAAIABJREFUs9l8fG5urjYcoA2GW/kCpv3oa+QzbW9vP5n+x6PaxpnVsZDwKGulWlYAmM/qeIZ//XCz1+u9+vrrr79pY2NjZ9A1z6q+aQfBh23v3pgXG/6ldgsLC/UxYerpl156qTfq1u6j/IBomwABAgQIEDh6AQHg0Y+BHhAgQIAAgSoLxE8//fTs6dOn6xsbG7cHO7q8vDyzs7Oze+/fFbbNcX9l3KSVTgcN44ah824hDjnzbzg8KmuV5L56uef5PTQvD9NekiRftra2tpFWWuXwr4jgudVa2s94Q1b19YPSUR+BwbC4fzHOcNlWq/XY1tZWL72HxArAKn9O9Y0AAQIECBydgADw6Oy1TIAAAQIEKi+Qhny3bt2qLy4u7g6vPLp48eIfSpLkx4oO/6Ko99LCwlNvqtq20ZBVYVllyloleZgw7sGJV/xKtVHbmnu9Xq/T6by12+2+HOJZRBiXJ2xM2wsJeSeVqdfrH47j6MlJl79MCv8y3q0/0G63/+ng+DWbzTMzMzNJvV7vXL58+Y1AvvKfFh0kQIAAAQIEpiwgAJwyuOYIECBAgMBxEVheXq7fvHmzNmpLYavV+tUkSd50gBAjg+B+CBXHtfOrq6v/brjQNFbrDbZZVHt5t4OGe+6XHDmdqh4Q9nq9n19fX/9t+8tHB37yBHahIeKkwC69rTm0rpBt6bOzs18Sx/G/yh6c8MB1eC50u92PXrp06TP79aZW6T+fO3fu9qjA/Lh8b/STAAECBAgQKFdAAFiur9oJECBAgMCxFUgDwJWVlW7WA6Th2Obm5v5/K/oSi3a7/dDfJ0WFcWl/D3vJQ96wKg0Aqx7GjZ6k4WHVIba7/ni73f6DaR/yhH9p+ZAwrsjwL6Sufpnsy1/CPUe9W/33I2Qb/LH9+Og4AQIECBAgULiAALBwUhUSIECAAIGTLdAP0GZnZ18NC//2o4yRKMPh2HAAmDf8C1nJFVIm7XBI4DOprjQoPUQ4NuB2+PCoX1m+S0gmj18BQfArW1tbn99oNPYmeV67dm0+dGyKGL+DtvdwAFjM+KXvR0hQerK/Qp6OAAECBAgQyCsgAMwrpjwBAgQIEHiEBQbDuLm5uVdHU4SHHcPh2GAAWEb4l/Z5mivHJgWlFQzjBi51mUr494n2oii6sba2tpA1r/LOhWmHfyGXvxQRBHc6nScmbVl+hD9RHp0AAQIECBAYISAANDUIECBAgACBIIHBAOYLvuDUzi//cmMn+xfDw7/9eOleKrL/E8fxB1dXV9/W/9/PPPPME+k/TzvMKbK9sKB03J9kB/d8eHyKva15ePxGtzc5SBwMx+I4/oHV1dWv79eXN/wLWUUYUuYwc6/Vav18FEVfkNZR5Bbwu3f3flOtVksv/Ph40IurEAECBAgQIEBg7H4cPAQIECBAgACBAYHBMO6DH/zgl/d6vZ88TOCTFR4lSfKetbW159P/FnLGWchWyLzhUZHhX1rXjRs3Ms9RDLs9udjwKEnSkDVfGJf1EhS9anFMn77u7Nmz/zDPNtyQYG9cmfR5iwieW63WX42i6C+EWIWU6c+XTqdz4X3ve9+lER+ndHQfuFTFR4wAAQIECBAgMP6vPz4ECBAgQIAAgTcEFhcXH+/1eo2BCw6+I4qib3kQ6PAr1eI43r8B+KjCv8OGR1lh42EvgwgJ7LLC1IOOzbTbm9T3JEmu7uzsvLPIYHbcFvCi5t5zzz33FbVa7fKk5wsLgu+/W0kSffva2tpfzvg4xQsLC41Rt3b7mBEgQIAAAQKPtoAtwI/2+Ht6AgQIECAwSSB++umnZ0+fPl3f2Ni43S988eLFX0iS5PPv/3IxW0vPnj1bz7Paq8hQKKSukDIhZ8GFh0L7JUeOUZFbS4/D6sA4jv/06urq3+2D5F3dGRLwpnUXdUbk3Nzsq5PGb9JcyFgd+J/b7fZvHZwUrVbrsa2trV4URZ2NjY3OpJfafydAgAABAgQePQEB4KM35p6YAAECBAgECywvL8/cunWrvri4uPv888+nAcP+z4ULF7q1Wq12738VE/6lNW1vbz+Z/v+QoC2kTGjgU1RdWe0NrgDMs9UzZCVeSJlJAdP98dsvOXJuHEXYOKrvcRy/Y3V19VoRW3XTNvIGiaHzpdFovDYKNN9ceGBcOu12+1S/3mazeWZmZiap1+vpuYC7wS+3ggQIECBAgMAjJSAAfKSG28MSIECAAIFwgeXl5XoURfWVlZW94XPF7oda4dt+Q8KqnZ2dJ0PDlVGXIPTDnCqEf6l23ypf4DM5jJsU7J309nq9bnd39+5vKmq+lBE8Z2//vneu46TxGxes92/KTuf69evXzzQajTQUvBP+ditJgAABAgQIPGoCAsBHbcQ9LwECBAgQCBRIA8CVlZV01d9DlwrcCzaKDf/Sbi0sLNQHVxoOdjXPhR/TuOQh7dvgyrFR20ZTq3yBz+HDvyJXZebr+/RvM06S5GvX1tb+4fC0zjNfQsO/kFB5sExWAJjPM3supAFgf+51Op3u4Pb8wNdbMQIECBAgQOARExAAPmID7nEJECBAgEARAq3W0n6OEbKqbz/CuFcw82cwEOmvbDpsmDONSx5Ct43et5p+ODZ6rMPD20njFxY2ln+bcbfbfdulS5c+OBjMhgR2ZYV/ab3DAWAR4V9a7+BZmePmehHvujoIECBAgACBkyEgADwZ4+gpCBAgQIDA1ATSlVX1ev21IsK/wfCo1+t9bH19/VMPG/6FbAkNKVNUeHTPatrh335sNzZ0LXb8KtPezvx8780vvbTbK2r89vb24tC6hsO4CxcuvFKr1fbPtSwq/EvrCjkrc2ofBA0RIECAAAECx0JAAHgshkknCRAgQIBANQT62yqLuN00Y+XYv2u32+cHn7QK2ziH5UNX/uWxOqFh3D5dSPAVUibPlvMk6d1cX7/0OaPemmldHrK0tPQf4jj+krBVkuGrMiedlVmNr4VeECBAgAABAlUSEABWaTT0hQABAgQIVFhgMDS5ceNGN7ur4SFG+vuDK+PiOP6h1dXVd/fr7Qdo01ytl672Krq9yVbj/xw7itt3T0og2el0Zgdvxg25ICadf0UFhEtLSz8aRdFXD8/14XcnbwDabq+NmjTpv3/ozM4Kf1Z0jQABAgQIEJiSgABwStCaIUCAAAECx1lgcXHx8V6v1+iHY9m3mx48/HsjIPmu1dXVP5v+81GFfyFbPUPKpM9QlNVJCeOy5n9I8BVSZtzqwMEbc69duzaf9mNaZ0R+4AMf+P44jt8dtgU8fJv4iLMy44WFhcbm5mZ6a7cfAgQIECBAgMADAgJAE4IAAQIECBAYK9BsNmejKGqcP3/+Tv+G3lG3mx4mrIrj+PnV1dX35Nn2mzeMy3rQstt72OpwQengMxw2HMtb17TbK2jr7G87e/bsf+6HfyErPEPKhMy9mZmZv1yv1//M6BesPxfCw7+0ruEAMF3ZePXq1Zmtra2uANAHnQABAgQIEMgSEACaFwQIECBAgMBIgYWFhVMzMzON+fn52pUrV17vF8y63fQw4V9abxzH/+fe3t4PhV66EBLApPUWFeakdY1bOTZq2+iDVsWFfwWFY/tDmi/YyxdWZU2uabaXJMnGzs7Ou4qcC6Fzb25u7k9EUfQd2S9Y+FwYfrcGA8A0/HvxxRfn7t69293Y2Ni1BdgHnQABAgQIEBAAmgMECBAgQIBAsMDy8nI9iqL6yy+/XNvY2NgZ/MXBUCskzAks86d3dnZ+JDRcOUgYN/gMeVb+hYZHWWHjfavwwOeNQHTMWB1s5dhRh3H5w8Z9iZEOIecj9nrd7u7u3d9UVBAcOj/T9jY3N78+juPvefgBwudCVrA+GACm87jb7XavXLlyR/gX/HlTkAABAgQIPHICVgA+ckPugQkQIECAQJhAGgDevHmzlrWlsB9qhQR7OVaq/flut/sDly9f/nhWD/PevltU4HOY8C/93XtW4YFPePh3+HAs3/gd2/Y+trCw8Ob+9vXhuZU3CM4TPC8tLf2ZOI7/9oNtHn4u9APAtO9p3efOnbs96vnC3nalCBAgQIAAgZMuIAA86SPs+QgQIECAwAEF0gBwZWUl87bfNNTKFx5N3jaaJMm3ra+vf2vZ4V/ITbB5w8Zxq8L6VofdIn3PJTw8OuntTQpK+/MziqL3rK2tPZ81r/KGfyGh8mCZpaWlb43j+D332w4fv3HPlwaAIRflHPDV92sECBAgQIDACRQQAJ7AQfVIBAgQIECgTIE0eKjX668VGzDF6RmAn7gFeLD/ZYc0w1ZFt3fPanIAWqznfnw0chqEbJ3NF/BWtr2k3W7XhiGKDHgH6xpeHbi0tPT34jj+hv3oNkn2u1HEXNje3n4yrWtcIFnmN0DdBAgQIECAwPETEAAevzHTYwIECBAgcGQC/XBsbm721UkBU3jYce/PkTiOf2h1dfXdZYd/IWe4hZSZFMDksTrp4d+kuVBkODZY1+zs7OmVlZW7wy/MqAtbip57rVbrR6Io+poc2+CjkLmws7PzpPDvyD6DGiZAgAABAsdSQAB4LIdNpwkQIECAwPQFBlfGNRqN10b14KBhThzH/3J1dfUr+/VOe6tuWe1NsgoJfCYFaHm2Bk+q66DjlzUf8tVV7CrJTqcze/ny5fRW3Ad+QrbOFrUKtNVqrUVRciFd/FfEyr++58LCQt2Zf9P/BmqRAAECBAgcZwEB4HEePX0nQIAAAQJTEhgOxwZvAR7sQr7AZz+K+sSv93q9n19fX//C9F+UFcaFXDCS55KHLP7h8KgYq2LDsdHT5vjfLhxF0Uu3b9/+tI2Njc5Bwr8i596FC899KI5rnx0S8oaU6Ye3g7cADz5js9lsZD33lD4TmiFAgAABAgQqLCAArPDg6BoBAgQIEKiIQNxsNh+fm5ur9QO0rFDrMOHfG8/Zabfbp8adqTboMa1tnP02D7py7PBWJz38ezAIHp7zoecVJkmv1+sln3X58uVbIcFsVpkiw783zsp8NY7TlLvY8xizAsBnn3329EsvvdTLurW7It8R3SBAgAABAgSOUEAAeIT4miZAgAABAsdAIH766adnT58+Xd/Y2Ljd7+/DoVYxK8fOnj1bv3bt2nzaTt4bV4cti9rGmdZ70PAv/d1hqwKC0k88amg4th+xFXQRSZ6VaqPnd/htuGHtdS8uLJxbH7UtNu9cKGoVaBFnZWbNl+EAsNVqPba1tdWLoqhjBeAx+KrqIgECBAgQOAIBAeARoGuSAAECBAgcF4Hl5eWZW7du1RcXF3cHw5UHQ61iwr/UJOR208OEcYPuZdwEm3V5yKCV8C8dgfDwb3Jw2fvW7e3dvxsSFhd5sUtoe5POf5z8fNnv1mAA2Gw2z8zMzCT1er2TdebhcfnW6CcBAgQIECBQroAAsFxftRMgQIAAgWMrsLy8XL9582Yta0vhhQsXurVarZYv0Jq8lbXb7T4Rck5fSAATUmYaodC9ALDI0Cu8rrDVc8dvdWCSJL9zZ2fn54scv9C68qwOzD7/MXz8RgSE+1vl0/+WhuHp/z937txtl4Ic20+tjhMgQIAAgakICACnwqwRAgQIECBw/ATSAHBlZaWb1fOlpaX/EkXRW0cEFAO/km91YLu9lvm3Sd7VeuPCv6LPedvb24vHhUdpCGSrbhTlC4v3Z1bW1PsTZ8+e/YH+NvE8YVxWZXm3BoeEyoNlRm+VH/l8+90cZ9W/LCdkJezx++roMQECBAgQIFCWgACwLFn1EiBAgACBEyqQBmibm5v/TxRFy0WfK5ckyWetra19ZJAub/gXspIrpEzah5DAZ1Jdm5ub3WmvxJsUzBYUxk0Mq+6PY74geDj8S5LkH6ytrf2RvHOhiPE76JmUS0tLnxfH8S8+bHDw8O+Nun6s0+l8w6Tg+YR+fjwWAQIECBAgcEABAeAB4fwaAQIECBB4FAX6Aczp06e/ularffdog/BtjoPhWBzHf3h1dfVH+/XmDXwmhXFHsXJsdnb21XFB6XEL4wbHPF/fJ28BzwpK++fd5Z0L0w7/hudeq9X636Mo+oG+V1GrQHu9zh/f3d378XFz/VH8NnlmAgQIECBAYLyAANAMIUCAAAECBIIEBgOY2dnZ3/zg6qYHYqEoSdJz5dJ/N/pPjRHh0Y+12+2v7tf2zDPPPJH+87TDnCLbm5ube3VyUHqwcGzaYdzB25s8F4bnS5Ik37y2tvbX0t/MG/6FBMEhZQ4z95aWlv55HMfLaR1FhX/pWZK7u3e/qF6vf2TUWZlBL7NCBAgQIECAwCMnIAB85IbcAxMgQIAAgYMJDIdxJV1wsNtut2fTHoaccVb2GW7DUgdp78aNG5nnKN6/GGT8n2NFhkehwewBw9shroOtAo2i6F+02+3f169s2uFf2m4RwfOFCxc6tVqtHrJKMqRMf76MuyjnjcQ9Odgb7rcIECBAgACBkywgADzJo+vZCBAgQIBAQQKLi4uP93q9RtkXHKTdTbd8HlX4F7IqLKRM+hx9q8MGpUccxj00g/KEVTn7/kvtdju9WOaBAKuIMC59iMEgcdzlIUXNvf7lL2nbYWdlhq0CHXVRTtrMwsJCI+vW7oI+A6ohQIAAAQIEjrGAAPAYD56uEyBAgACBaQg0m810RV7j/Pnzd55//vlev83hYKuolWqdTueJSRccTPsm38O0V8ZNsP0xKDGMy5xaZbU3Ozv75MrKymvDjRYVxuVdRVjEFvD08peiw790S33/TMRBq/T5rl69OrO1tdUVAE7jq6gNAgQIECBw/AQEgMdvzPSYAAECBAhMTWB5eXnm1q1b9cXFxd3B8C/twIULF36lVqu9OWwra/h20LTqhYWF9w2313/oowqFQlb+ZZUZDACLDtByrrAbMW/Cx6bI9pKk95/W1y99UVanQlfrlbE6MCT8m1Sm0Yi/LIpqLxzgDMwhjoduT/5Iu93+rMFCzWbzzMzMTFKv1zuXL1/endrHQUMECBAgQIDAsRIQAB6r4dJZAgQIECAwPYHl5eV6FEX1lZWVveFtmWkvlpaW/nocR99UwrlyL7Tb7d+b9aR5zuALCezSNiaFOYddjdgPAIsO/9K+V+l24dDn6/WS2zs7O5/7b/7Nv/nYpPAvZGxCyhQ5F0Lam52dTS8AWRz1toZa3Xu37v+5niTJX11bW/uWfr1pUHr9+vUzjUaj026370zv66AlAgQIECBA4LgJCACP24jpLwECBAgQmJJAGgCurKykW34zLxVYWlp6Ooqifx+yKiykzGCglbXNsajwL22njJVjo86Vy38W3L7EyFE+aHj0cIXhK/8mhY2hq0B3d+++vV6v/9KoG2yPYqvutWvX5osOghuNxkPbmfv++cbvwblQq9W+8Cd+4id+Pv23fatOp9Pd2Ni4PaXPgmYIECBAgACBYyogADymA6fbBAgQIEDgKAX6Ydzc3Oyrhw2rsgKR4QAwT/iXukzjkofQsKrVWtp/xLCLIE5q+Bd9aHt7e6HIlXghdYWUKTr8S8PN7Itfougw4V/az/57EbpF+ii/EdomQIAAAQIEqiUgAKzWeOgNAQIECBCovMBgGFfcSqcH/yTp9Xq/cX19/ZUUI2/4F7JFM6RMUeFRvV5/bfrh3+QgMe+qzOyJOXEV4e7s7N03v/JKt1uU52G3ZKfPERre5p17afD8lV/5lW/a29v71WGvw4Z//QAwtO+V/5DoIAECBAgQIDBVAQHgVLk1RoAAAQIEjrfAcCBSzEqnh/8cieP4b66urn5T3gCmqGCvyLAqZJXklMK4/clX1G3N97f9ZoeNcRyffdvb3vYz/S2241ZlTnNLdtrbMtrrz71Wq/XdURR944Nv+kOXeWR8CCaGqdHZs2frIVuWj/dXRu8JECBAgACBMgQEgGWoqpMAAQIECJxAgawwrtVq/VgURX9o8HGLWOmU1tcPO4oM40LqCimT9i80bJy0SnLa4d9+XDdwscTwVC1g/L6u3W7/cOhKtaO61Tl0/PKeV/hwKF5M+JckyT/a2dn5k5Pm3gn89HgkAgQIECBAoAABAWABiKogQIAAAQInXWBxcfHxXq/XGA5N0pDnxo0b3XvPP3kF036p9EC8CSFUWtedO9uf/I53vOOV559/Pr2I5KGf47I6MHuVZLjVtAPCg7Y3eG5j3rGp0urAwwSSzWZzdn5+frs/WUPnesgZkVtbtz9pbm6uNyqQTF+phYWFxubmZnprtx8CBAgQIECAwAMCAkATggABAgQIEBgrkIYaURQ1zp8/fycrjOsHXEVvLY2i6LvW1tb+bFbn+qvLil6tN2m110HaG70ibD8GHWkfEh6FlCkymB3R3u9vt9v/vP8gecO/kJV4IWUOMjbD+IcJ/9K6lpaW/k4cx38q/ed8YzPuT/J7YXG3231i3Py8evXqzNbWVlcA6INOgAABAgQIZAkIAM0LAgQIECBAYKTAwsLCqZmZmcb8/HztypUrr2cVbLVae0mSNA66cuzBOh9cGTd8G3Ba9qjCv7Ttg6xUezAADF/5tx8Pjtmqez/YmxweFTs299rrn9M4OH4nIfwLCRJHlRkMw8PHb3IQnCS9u+vrl05nvX/p+/Diiy/O3b17t7uxsbG7vxTXDwECBAgQIEBgSEAAaEoQIECAAAECmQLLy8v1KIrqL7/8cm1jY2NnVPjw/ve//3trtdofK+NcueEAcPBcuYOEcUcRVt0PAE9G+Jckyb9dW1v78uH5UEb4d5gwbjAsTv+5qFWE4/qUjnW+lX+Tw783wtu/1W63/1zWO5i6d7vd7pUrV+4I/3zMCRAgQIAAgVECAkBzgwABAgQIEBgZAN68ebM2akthP4ybnZ09E8fxrdGMB78EYTAAPK6XStwLAMsI/4LDo5FDkzes2tq6fWpjY6MzXOFRrcoMCQiLDP/SusYFz0tLS/ur78JWbk4ev35ds7Ozj62srHzibMG+fxr+pf987ty526POyvR5I0CAAAECBAiM/6uDDwECBAgQIPBIC6QrAFdWVt644ONBiuEw7v5FIMNkBw//0prq9frnvvDCCx8qMvybdljVXxVW7DbcyeFRke1FUfQP19bWvjbrhQjxTH/vmWeeeWKaYVwZ7Y1bRbi0tHQuiqL/WHT4l5plbYUPOa/wkf6AeXgCBAgQIEDgAQErAE0IAgQIECBAIJdAVhj33HPPfaRer3/GgxWFr3obE1b9zNmzZ89eu3ZtvsjwaJorxzY3N7tFhnFF1JVj5d9Pd7vd5qTLUdKxGbcyLiSsKmMLcVHbfkPmXq0Wf6BWq3/e6Jcp/H3Yj3fvn/94s91uf85gvSFWuV5qhQkQIECAAIETLyAAPPFD7AEJECBAgEBxAqOCh4sXL84nSfLxfks5AqaJ2yU7ne5vjqJoNySEKirwKTIgnJubfXXSbb9FhHp5thmPa6/X693tdl9/a6fTeKUoz0kBYRmr9aZ5RuTMzMxcvV7/tcnh34EubHm83W6n5/t94gKcSYFkcW+8mggQIECAAIGTIiAAPCkj6TkIECBAgEDJApNWHZV1A2oURVfX1taaWY+Xd2twSLAXUmZSADNo1Wg0Xhs1NGlQOu3wL+3LmG2qV7e3t9+Z5/mKCmaLDBtD6gopEzoX5ubm1tN7RrLH+XDb4Pvbf0PnesmfAdUTIECAAAECx1RAAHhMB063CRAgQIDANAVCznkr8QbUzDPQQgORScFl6ljm7cL3bwF+cMSKXCWZJGmotx/tjZwW49rr9Xofe/311z99bm7usb29vbjIcCykrpAyoWFcSF3jyoTM9fxnYE4em1HjlwaAoXO92Ww2si5pmea3QlsECBAgQIBANQUEgNUcF70iQIAAAQJVEoibzebjc3NztVGrvdLOlnUD6hsQv7fdbr8wiFLGttHDhkdZYWNWAFiV8K/X6/VOnz796e9973t/7ajO6QsJ9kLKpHMjZPxC6gop02/vxo0bvy+Kon/28AsbfubfuPD27Nmz9cAzME+/9NJLvVG3dlfpg6IvBAgQIECAwPQFBIDTN9ciAQIECBA4TgLx008/PXv69On6xsbG7VEdT8Ojer3+5+I4/kujHy48EEnrGN6mOngT6lGFVQcJmIYDwHzh377ESNLDbCGO4/jLV1dX/21aeZ5VknnCseeff76X1fkqt5f2N8/5gdkrPA831/tmcRz/+Tt37vz9SeFmq9V6bGtrK7XuWAF4nD6v+kqAAAECBKYnIACcnrWWCBAgQIDAsRNYXl6euXXrVn1xcXF3UpiThmM3btzoZj/k4QOROI4/bXV19VePKvwLCb6yygwGRFUI/5IkeW1tbe3J/jidpDDusGHjpKBteO4999xzn1Wv13/5wXYPP9f79XU6nScmbcluNptnZmZmknq93rl8+fLusfvI6DABAgQIECAwFQEB4FSYNUKAAAECBI6fwPLycj2KovrKyspelF4xm/EzHB6NO+/uMGfUpU33er1Xe73eZ6WByEHDuP4jhJ6pVkQ4VuLlKGNvUM4KG3u93uesr6/fPEj4l/5OnpVxIfMlq0zesTnIqszBdg/T3oULF7ZqtdqZ+/UVF/5FUZJsb+980qTzCq9fv36m0Wh0+jcFH78vjR4TIECAAAEC0xAQAE5DWRsECBAgQOAYCqQB4MrKSuaKvlGhSavV+uQoil5+OBAZ9ydHeGiSJMkfefvb3/4jIasRR5U5yCUPk9obF0j2L0c5bAB6zzTcqt9eHMd/fHV19fsPE3odNnBN2y7jzMajDCSXlpa+Oo7jHy1rrvd6vbc89dRTH50098YFhMfws6PLBAgQIECAQEkCAsCSYFVLgAABAgROqsCkFVP3VwHmD6tGmQ2uZhs8C3CwfBGr9dL6Jj1fv83Q9jY3N7vTDv/2o8Ik+eH19fWvyzKddhh3VNu2y1wd+OBq1/5cLyboTsdsYWGhPin8GxfMntTvj+ciQIAAAQIEDiYgADyYm98iQIAAAQKPpEBIONa3Y0cpAAAgAElEQVRqtb4lipLvSJL0Io+UqdhLLOI4/sOrq6sDK6/yXWKR9miaK8dmZ2dfHb7QZHDyFH0uYFp3rVZbXF1d/cmsSXoSw7isILjk8O/dURTtX85xkFWZoz4eA3PhL7Tb7b8+bvyEf4/kJ9hDEyBAgACBAwsIAA9M5xcJECBAgMCjJRAS/qUib9wI/FpI+LcfD94rmPkzKhzLuhE4ZJtq2khIMBRSJrS9ubm5V0fPlKJXjvXes7Dw1LdPWjlW5PMVVVeoZxXaq/Iq10frq+RpCRAgQIAAgVABAWColHIECBAgQOARF8izbXR2dvbn4zh+c95g78Hyo8OxOI6/cXV19XtCt+Feu3Zt/ijCv7Cbkcf/OZaGoJPC1F6v9xO7u7tfU4VwrD+GecamSuFf2v9xc/3ixYt/NkmSv5Vn5V/OoPvD7Xb7LcPvTojnG8ttMy/secQ/Xx6fAAECBAg88gICwEd+CgAgQIAAAQKTBRYXFx/v9XqN0IBpZmbmiV6v95GsmvNteR39p0qn03ki9Ebg0PAvJIgKKTPYXvbNyIWdj/hLW1tb5xqNRhI6NpcvX/541rhM+3KUwRWl09ySnT77uPYmbZG+N57h4zcp/Ltf17253ul0PuPy5cu3BscoNPxbWFhobG5uprd2+yFAgAABAgQIPCAgADQhCBAgQIAAgbECzWZzNoqixvnz5+/kuVk3K/jKF/7tRycj+7a9vf1k3jAuq7KQcOUw4djDDoWFR9+5vb39N4oMNyeFY3lWgRY5NkWFm6FW49prtZb2p/GkVZn55vr9eT58yU3o/Lx69erM1tZWVwDog06AAAECBAhkCQgAzQsCBAgQIEBgpMDy8vLMrVu36ouLi7sHOFcubrVavXuVFxZ6DdQVR0XcCBwaCoUEWlllBgPAfKFQZgD6M+12+4sPE0gOD3ZowJRuow4xKNKzaoHk/fCvuNt+B8/AHBX+jQskm83mmZmZmaRer3cuX76863NGgAABAgQIEBAAmgMECBAgQIBAsMDy8nI9iqL6yspKuqUw81yxSeHR0tLSx+I4/s0h59gdJByL4/h7V1dXv2HwoaoWjvUDwIM8X/+5er3e1mOPPfZbVlZWtqu6dfakrw5stVo/kiTJ14y7tOaQQfd/b7fbb+qP+aStyGm5dC5cv379TKPR6LTb7TvBL7eCBAgQIECAwCMnYAXgIzfkHpgAAQIECIQJpAHgyspKuoLvQOFf2sry8rOfsr1df6nY7ZJpzff/hJmdnT29srJytx+ITFqplpYrI6wada5cGgAeJvzrdrtvvXTp0i8OPl/6zyHbYkPKFLmq76S296Vf+qWf8sQTTwTN44PO9V6v9xvX19dfScd2UrA+OBc6nU53Y2PjdthbrRQBAgQIECDwqAoIAB/VkffcBAgQIEDgEAJ5Aoq5udMvR1Ht1KjmDhOOpXX2er276+vrp0NXxoWsrMrzfJPCuAsXLnxLHMffkXflWK/X+6/r6+uf3w9gB58vJGgLKTOt8K9qqzLzhqn1ev1/xHHUGHcm5WFWufbncN7wLy0/7kKTQ7zifpUAAQIECBA4YQICwBM2oB6HAAECBAiULZA3HIui6Im5ubkPZ/erfzbgoc9U+1Pb29s/OimMm3b4129vbm7u1dHj8tD5iDuzs7OfurKy8lr/d/KGfyHBXkiZUM+QukLKVLG9RqP2jVEU/5VJ4V/a93Eh77igO47jT1tdXf3VvO/WuJC37O+A+gkQIECAAIHjJSAAPF7jpbcECBAgQOBIBQ4aUGTdCHz/vLRDh39RGq7cvn37k86fP//xSZeVhARRIWXyhFWnTp364iRJrmYN3uDKsW63+7ZLly59cLDcSQj/0ucZt1Jtmluy076Etler1eq1Wvz/HTb8mzTX08s/DvpuHekHQeMECBAgQIDAsREQAB6bodJRAgQIECBwtAKHCSguXLiwVavVztx/gvBbgXOcqbbbbrdns5Ty9L3o8O/y5csff6NP6a3IPxVFUbPfx374F8e1/3V1dfUfZ/U9NKza29uLQ/s+7TAuZDtySJnQ5wupK6RMsdvXR/7Z/fFOp/MZecbPyr+j/RZqnQABAgQIHEcBAeBxHDV9JkCAAAECUxZYXFx8vNfrNUJCk1EhzcFuw82/OjBdTdXnOQmr54oMvULqCimT+h5mLqS/H3pm47QD0ANu2858I0POt+x0Ok+k4d9hPdMdyAsLC43Nzc301m4/BAgQIECAAIEHBASAJgQBAgQIECAwVqDZbKar6hrnz5+/M2p7bcglDxcuXPj6OI6/L20s74UYWR0cc+nC+9rt9rMnIfxLn3vaq/Wm3V5I8BVSpsjg8vTp0/+yVqt9WfaLEb56ddJcT5LuN+zs3P3HRTzf1atXZ7a2troCQB90AgQIECBAIEtAAGheECBAgAABAiMFFhYWTs3MzDTm5+drV65ceT2rYEj41y8zOzv7asnh334Xz549W7927dp8+s9FhCv9uoRjh1+pljeYLXL8QutqNBqfuIBleM4f5rbfB+tKou3tnSdDgstJZV588cW5u3fvdjc2Nnb7t0b7rBEgQIAAAQIEBgUEgOYDAQIECBAgkCmwvLxcj6Ko/vLLL9c2NjZ2xoV/6X8LCccee6z+KUky80vZ5EWurEp+bmdn50tDA5+Bc/oe6FrVw6qT/nyTgq80mA0pkycIbjQa16Io+m1Zc7TI8G939+4X1ev1j0yae+OeL+1jumW52+12r1y5ckf452NOgAABAgQIjBIQAJobBAgQIECAwMgA8ObNm7VRWwoPGo61Wq1fi6LoUx9stLjwr3/jahRF37i2tvY9WQ+X51KQ0PBo2mFcSPAVUib0+ULqCilT5fYajcYfiaLou0aFf+m/H7eCNeTMv3R+RlH8a51O53+eFP5NCtbTeZyWOXfu3O1R2/N93ggQIECAAAEC+3/DYCBAgAABAgQIZAmkKwBXVla6Wf/toOFfWlf6uzdu3Biot/jwrx/SdLvdt1y6dOnDg8+QZ8tylcOqSeFRlcK41HHal3nkba9Wq31yrVb70EHDv37wHLLFfWdn58lRK2YP8275khEgQIAAAQIERgkIAM0NAgQIECBAIJdA3oAiK4i6ePHi9ydJ8sfShovcVpkk6QqttNb7f+K86U1vmvnBH/zB/ZtRH5XwL33WkC3ZRa5aHNdef8Vlke2F1BVSJp2fZ86c2dnZ2UnPz3voJ3RV3725N/nW6iiKfmBtbe3riwjWJ20PzvViK0yAAAECBAicaAEB4IkeXg9HgAABAgSKFSgi/Ov3qNVqJWWHf/222u12PNj3KoVjeVeqTVr5lz5zSPAVUqbIVYRVbi+di4cP/x4Mnofr68/1dnst8+/vIt+tYt96tREgQIAAAQInQUAAeBJG0TMQIECAAIEpCJRxbt7c3Oyr404kKTIg7PWS393r9X5mUoBWZOgVUtekVVxlBITTDkBDwr+QMiGeeQLQn/7pnz6bJMn7H359ytmWngbRWa9qke/WFD4FmiBAgAABAgSOoYAA8BgOmi4TIECAAIFpC5S1dXbSuWvD23mHnzvf9swoqtcbn/vCCy88dM5bVVcHVn3r7KQwNU8YN+oSiyLDsUHPzc3Nz4nj+Bez3qUig+f+tvRut/fQeZRp20W+W81ms7GxsdGZ9vdBewQIECBAgED1BQSA1R8jPSRAgAABAkctEDebzcfn5uZqowKftIMHXamWtf0yJNgLKXP/Yoa0h/f+7Inj+FNXV1c/1kfNu/XyKFaqTTscm2Z7Iav6QsqEho1pXXNzc4/v7e396rTCv3TuZa3+KzL8e/bZZ0+/9NJLvVG3dh/1R0T7BAgQIECAwNEKCACP1l/rBAgQIECg6gLx008/PXv69On6xsbG7VGdPcxKtYsXL35NkiQ/0q87X7A3+dKFrFWE/TCm6uFfSPAVUiZPODZpVd9JaO8wZ/7lm5+fCJ7/QLvd/qeD70+Rq05brdZjW1tbvSiKOlYAVv2Tqn8ECBAgQOBoBASAR+OuVQIECBAgcCwElpeXZ27dulVfXFzcnbQq7DAr45577rmP1Ov1z8gXrhws/EvhkyT5uYWFhS++du3avHDs2d+wt7cXhwR7IWWK9EzrKvq8wgsXLvynWq32hcMvYFlzr9fr/fL6+vr/NCr8C3lvxpVpNptnZmZmknq93rl8+XLmTcbH4mOjkwQIECBAgECpAgLAUnlVToAAAQIEjq/A8vJyPYqi+srKyl6amWU9SZ7z2SaFR5ubm920jfjekr0RP+GXMwScH/jRnZ2dLwoJYCb1PQ0SQ8pUPRzLQi9ypVqe+RJqlWf8+kHztMK/tJ3hrb9FrjpN67p+/fqZRqPRabfbd47v10bPCRAgQIAAgbIFBIBlC6ufAAECBAgcU4E0AFxZWUm3FZYe/qUBWq1W+9zTp09/YErh334zcRz/ervd/pTDhpvp7xe9Um1SGBcSfIWUKTK4rHJ7rVbrf0RR9BsPF/7tz5qRU3T48pBer/c56+vrN/u/kDf8CxmbTqfTHbc9/5h+fnSbAAECBAgQKFhAAFgwqOoIECBAgMBJFygjxOgHHc1mc3Z+fn57miFN2laSJO9ZW1t7Pv3nMp+viFAvJBQ6ikByXAB6mDMiB83yjk0aSN64cePboij6iw/bh68mfSMsHvNq9+u6/6f17Ozs6ZWVlbv9Xypj9eO4uXDSv0OejwABAgQIEMgnIADM56U0AQIECBB4pAXyBjAhYdVwmXe+853P9Hq9n+xD5zubbT+qGTlG4+pKkuSn1tbWfs9BbzMebvQkbZ0tIrg8itWBN27c+LdRFP3u6YR/9+dekiRftra2ttFvt+Dbfiee2fhIf6Q8PAECBAgQIJApIAA0MQgQIECAAIEggTLCv7ThrJVjFy9efG+SJL93WuHf/bCx+9LOzt3PP4qwatIlKyFhavocIX0PKVNkeyF1hZQJfb60rkaj8V+jKMrc3j28VTfrBTjE3Ptn7Xb7q4R/QZ8VhQgQIECAAIEpCQgApwStGQIECBAgcNwFylgZNy6IunDhudtxXHu8qEtBUv+QuqIo+idra2t/KGu8ytjGOc5g2ivHTkp79Xr978dx/IkQbnAsSw7/Pt5ut58YDv9GBd39ckW9W28sf808s/O4f3/0nwABAgQIEDicgADwcH5+mwABAgQIPBICi4uLj/d6vca0V47Nzc29Ohq4jDPc9mPC9P+80m63H7gw4qSEY5cvX/54lulRPV/R4Vi9Xv9IHMefCOGGw7/QIDgkLB6+aXrwxt+8K2YP+26lE3dhYaGxubmZ3trthwABAgQIECDwgIAA0IQgQIAAAQIExgqkF3NEUdQ4f/78nVHbVMsKjxqNxkoURYtZHSx5Jdd+k91u902XLl3672U936QwruhwrIrthQRfIWUajcannjp16r+Mmsz5tvSO+xN5ZPC83m63l9L2px3+pe1dvXp1ZmtrqysA9EEnQIAAAQIEsgQEgOYFAQIECBAgMFJgYWHh1MzMTGN+fr525cqV17MKlh2OXbhw4VdqtdqbB9ueRvg30N4Pbm9vf9NRhHEhwVdImSLP16tiezMzM99dr9e/upjwL61l/EUywyv/ut3uRy9duvSZBwn/QsZmUpkXX3xx7u7du92NjY3d9FJrnzQCBAgQIECAwLCAANCcIECAAAECBDIFlpeX61EU1VdWVtIthZmhQp4z8SaFGNeuXZtPO5IVMF28ePHrkyT5vrQbSZKe5Zc/pBl+yHwrwqK03f1bgofrKTsAHdXeUQSSWRe29PtX1Dl2eVbP1ev19TiO3zH6FQ6fL/sz6t7EGvHTr+vBMkmS/NG1tbX/O/2lPO/DqLneb7xf16QzIq9fv36m0Wh02u32HZ8yAgQIECBAgMAoAQGguUGAAAECBAhkCqQB4MrKSu+ow79+5y5cuJBe7PDuowj/BlaEXW+321/S79NgWFW1cGxvby+u4mq9wwTBg+FYvV6/GsfxF08O7PajvdGxXpooB4d/D9X1d9rt9v+R/tujCoI7nU668u+2zxgBAgQIECBAYJyAAND8IECAAAECBHIL5F3pVFQ4Njc39w+iKPrKUR3Ot6ovZLVXdnjU6/V+99vf/vZr41YtDoZVJz2Mm/R8RYZjX/EVX/Fco9FYP+IgOB3eH2+323/wKMO/tO1x71buF9svECBAgAABAidWQAB4YofWgxEgQIAAgXIE8oZ/IavQQsr0V461Wq1/HUXRQ1txpxX+9VWTJHlle3v7897xjne8MupylJBtnGV4hqyyCymTPmuescmacUWFf+9+97tP/cqv3Ho5jmtPHHX4F8fxv1pdXf2KwfBvUhg37S3S5bz9aiVAgAABAgSOq4AA8LiOnH4TIECAAIEjECgjrDpIwNRqtT4QRdHCQBi3/49hZ7jtlxypl/eCkSRJ1tbW1lrDFeaxOm5hXPqseZ7vsOFYq9W6FEXJs6HnP06aC/nC4ofmy/vb7fa54fAvZB6HlCliLhzBp0GTBAgQIECAQMUFBIAVHyDdI0CAAAECVRHIG/gUFXaMCkRardb+4W2HDHMe4M0b/g3+8tbW1tzGxsZO3nBsXOCT1lXGyrGitmQXEVaNWyW5vLw8t7OzcyfP5S+Twr/7dR1sC3i73d7/xTyXlUzaIl3ku1WV74V+ECBAgAABAtUSEABWazz0hgABAgQIVFKgqG2cRYZjFy/+rvle75M+Hh747Jcc6RsSJAaU+fArr7zyttnZ2V5oODYujDuqLcRFhbcpdkhdw2XS7b63bt36UL1e/4zph3/3QuUR24wfT2/bzRv+hcyFkDKTPJvNZmNjY6NTyY+IThEgQIAAAQJHKiAAPFJ+jRMgQIAAgeoLNJvN2SiKGufPn78z6qy7owwIG43G34mi6H/LkgwI7PYvOQ7dWhpy9lw/kIzj+Nbe3t4XXr58eT+k7P/kXe017dV6026vH/4tLy8/sbOz8/9GUfRp97X6Y3Ow1XqD7vnmwoPtxXH8Q6urq+/OG2BPCuyKDHivXr06s7W11d3c3Nyr/ldFDwkQIECAAIFpCwgApy2uPQIECBAgcIwEFhYWTs3MzDTm5+drV65ceT2r60cZ/vXDtaWlpe+M4/ibDx747Md2I0cmJDwaU6bTbrdPVTk8OurbjFutVhpaNR4cgKMK/x6aC9/Wbre/Nf23VZjrw5M07dOLL744d/fu3e7GxsbufqLthwABAgQIECAwJCAANCUIECBAgACBTIHl5eV6FEX1l19+udY/2y4rfOiHR9NeOTbcXqvVejaKoktpH0MCuzwr//YjoXvL/0b8TA6rkiT59V6v92ySJL84vCqwX2neraUh22uL2Fpa5Eq1/nx5/PFTn9brNa5GUfTJD6OWsypz8vg9GP4lSfK/rK2tXalq+Jf2Kx2bbrfbvXLlyh3hn485AQIECBAgMEpAAGhuECBAgAABAiMDwJs3b9ZGbSmsYlj17LPPfnqjUf/ovS29IYHdg4HPMES+IDG8vSRJvmdtbe0bB9vL6xkS7IWUSftQVJAY0t7s7OzfjOP4j+YN47LGJs+W7LztnTp16s3vfe97f20w/Ev/+aiD7sHnSMO/9H+fO3fu9qjt+T5vBAgQIECAAIHxf/HyIUCAAAECBB5pgXQF4MrKSjcLIW9YVVTAFBJW3b1799Rjjz326+MG7zC3/T5Y7+FXqiVJ8vkLCwsfyrMNNyRoCykT4pneYBtS17gyzz333OfXarVf2P/jc0rBbL7w9sE/i2dnZxv9uV/luT7pduFH+gPm4QkQIECAAIEHBKwANCEIECBAgACBXAJ5A5HDhkcHae/UqVPPJEnyL7IerErhX79/aZ+SpPdLSRL9yUuXLr0vq9/H7fKQixcvfkUURX83DTjvb7cOXyU5alLmC/YO1N672u32T6Tt55170wy6JwWzuV5qhQkQIECAAIETLyAAPPFD7AEJECBAgEBxAnkDkaMI//rn6128eHE+SZIHbuANCY9CyhR5fuCY9v5et9v9zkuXLv33vOFfSBAVUiZk/NLZldb1cz/3c79lb28vvYjlga3Nxyn8293dPdO/7OY4zfXi3nA1ESBAgAABAidVQAB4UkfWcxEgQIAAgYIFygihQgKmkDL9ECrrHLSlpaXPjOPow/fOBUxLjr/tN6TMfi0FbWXN216SJP86juN/0ul0/unly5fTW1/3L4KYtCJsMNA66Dl2zWZzdn5+/quSJPnDURSdz9v37Ck5+QKVIgPXrEAySZJPX1tb+5V+//J6hoSpIWUOO9cLfuVVR4AAAQIECJwgAQHgCRpMj0KAAAECBMoS6IdHRQQUecKVItubnZ391TiOHxtlFLLyL6RM2WHVw/1Pol6v14vj2n+M4/gnoyj66V6v9wvr6+v/uV82z2q2OI6/II7jT6vVar89iqIv7/V6v7NWq9Xutxt+7mF4UHqgrboPUOQbm3vt9Xq9rfX19f2LNIatipx7IXWFlEn7OC5IbDabjY2NjU5Z3wH1EiBAgAABAsdXQAB4fMdOzwkQIECAwLQE4maz+fjc3Fytv702q+FnnnnmiUkBRZ7wL63roCvV+v0bbm9paek74zhOt6k+8HOQ8Cgb/+SEY9N7vrSlI1mV+W3tdvtbB5/zmAfdp1966aXeqFu7p/Wx0A4BAgQIECBQTQEBYDXHRa8IECBAgEBVBOKnn3569vTp0/WNjY3bozrVD9qmtc3xMO29613verLb7b7Sf5Zqh39HFo5lDnVVL1DZV8qxJbvT6TwxHGYXsUV6VPCchVlke61W67Gtra1eFEUdKwCr8unUDwIECBAgUC0BAWC1xkNvCBAgQIBApQSWl5dnbt26VV9cXNzNOl8v7exhwrjBh82zTTU97+4wYeOFCxc+u1arfShf+CeMK/bMv8mek4K9g4xft9t9y6VLlz58VHMvbbfIud5sNs/MzMwk9Xq90z8TslIfEZ0hQIAAAQIEKiEgAKzEMOgEAQIECBConsDy8nI9iqL6ysrKXpQebJfxk2dLbxFnnBXd3unTp1+o1WrN0frhW3pPQjg2yiEkaAspcxTnIw5c/vK+drv97PAzFhnG5ZmfaT9CQuxxZdK+X79+/Uyj0ei02+071fuK6BEBAgQIECBQFQEBYFVGQj8IECBAgEDFBNIAcGVlJd1WeKLCv5R58LzCn/3Zn/3kTqfzsYf5w8O/9HfHbUE9BuHYyNmXr+9Hc5lHducfGL9Pabfbv37Y8C8kxA4pExr+hdTV6XS647bnV+yzojsECBAgQIDAEQkIAI8IXrMECBAgQOC4CuRdMRUSYoSUKTI0GdVeq9V6fxRFb88Xeu3Hf2MDtEd9deD9lX/TCwi73d77n3rqqd8xaet6kXMvZEVfke2Nq+u4fl/0mwABAgQIEChHQABYjqtaCRAgQIDAiRQ4CeFfOjDjbhd+7rnn/natVvszeS6VGDXYIUFiSJkj3jo7Ntzcjz+DLuCYavj3N5566qlvnmb4FxLshZQpIug+kR8fD0WAAAECBAgcSkAAeCg+v0yAAAECBB4dgTLCv0lh3OBW3WmGOelKrhs3btyIoui3PzzCxW0NPoqVcffOxJteGDdwBt/YILGIVZJJkvzMzs7O+ZCgLaRMEWFc/72ZVnuPzhfJkxIgQIAAAQJ5BASAebSUJUCAAAECj7DAUYZx0w7/+u2llzrU6/WPxHH8xL2hn3b4F0XpCsEiwrE8fT+G7b1y9+7dL+x2u3dCgrZJW2fLmOvjVp0W1d4be9Ezz+x8hD9dHp0AAQIECBAYe2ANHgIECBAgQIDAGwKLi4uP93q9xrTPOJt2e2POBvzkKIo+nCTJY8cwHMsVXE77+dIpdogLVF6/e/fuZ9Zqtc7e3l4cEv6l7Y0L4/o3+U577h22vZRxYWGhsbm5md7a7YcAAQIECBAg8ICAFYAmBAECBAgQIDBWoNlszkZR1Dh//vydUSvxpr3N8ajam52d/a44jr92FNi0z/M76e2N2yIdx/H3rq6ufkM/sAsN/0KCtpAyVWvv6tWrM1tbW10BoA86AQIECBAgkCUgADQvCBAgQIAAgZECCwsLp2ZmZhrz8/O1K1euvJ5V8KjCuCIDmNC6+ivHlpaW/lIcx98+6DHtMO7ROT/woT9X/2K73f7O1L6M8C9kLoSUSftXVJA4qb0XX3xx7u7du92NjY3d/eWefggQIECAAAECQwICQFOCAAECBAgQyBRYXl6uR1FUX1lZSbcUZoYKeQKYSSHGtWvX5qcZmhTVXqvVeipJkn8fx1Ejikb/aTXtgPAEtdeJ4/jc6urqTw9O1OO6VTfvZTrjQsS0ruvXr59pNBqddrt9x6eMAAECBAgQIDBKQABobhAgQIAAAQIjA8CVlZXeSQv/0oct6tKFwTBndnb2d8Vx/BPpdulh0GmHcSdkdeBeHMcXV1dX3zfseVThX0iIHVKmyKC70+mkK/9u+4wRIECAAAECBMYJCADNDwIECBAgQCC3QJ6Vf2nl07gBdTCMO+JLHuKlpaUfj+P4q+7B9m8OHvdn17RvF552e7luM15ZWFj4qiJufp52GDft9ia9W7lfbL9AgAABAgQInFgBAeCJHVoPRoAAAQIEyhHIG/6FnIMWUqbIcGWK7f3Wer3+Y3Ecnx09GmWEcWlr47cjT/u23wntXY+iu1+7vd29VdTYFDlfQuuadtA9zqqct1+tBAgQIECAwHEVEAAe15HTbwIECBAgcAQCJyH8CwlzQsqk/HnCqqyLQ9I60u3BFQvj9vu0HyHe69iIn0KCy/0LPcrYkl2lMG7aW5aP4NOgSQIECBAgQKDiAgLAig+Q7hEgQIAAgaoIlBH+hQRtIWXyhnFZptO8zXhpaamVJMl3x3H8lmmHf5OCvZLDv5tRFP2pdru91h+DaYdjJ729qnwv9IMAAQIECBColoAAsFrjoTcECBAgQKCSAtMMx1KAo2ovbXvaKyJ5LWwAACAASURBVMfSy0OiKPq/4jj+HQ8P/ok4P/DFKIq+vd1uXx5+viqGcUc194oIupvNZmNjY6NTyY+IThEgQIAAAQJHKiAAPFJ+jRMgQIAAgWMhEDebzcfn5uZqly9f/vioHtvGGUVFrJJ85zvf+VuTJPnzSdL76nQn7hS24b4xpMWEjUmS/KO9vb3v7Xa7v5Bni3TWvDrOYVyeuVBE+Pfss8+efumll3qbm5t7x+KropMECBAgQIDAVAUEgFPl1hgBAgQIEDheAgsLC6dmZmYa8/PztStXrrz+KIc06bNPe3XgcID2rne968lut9uKoujLer3u74nj2mdOMyDs9XofjuPaT9VqtZ86ffp0e2Vl5bXBOZEn9Ep/LyQgDClTUID2G/b29uKQukLKhD5fSF2Tyrz44otzd+/e7W5sbOzuXzvthwABAgQIECAwJCAANCUIECBAgACBTIHl5eV6FEX1l19+ubaxsbEzLvw7inDsqMO4rOBr2mFVVkCYJMlbu93uW6MoaiZJ8uYois7EcfxYkiTzURTN12q19P9HvV5vK4qirSRJ7sRxfDuO41fjOP5oFEXXkiT5hUaj8YsvvPDCq2nZo9qqOyn4unbt2nxImWmGcWmfptVef2y63W73ypUrd4R/PuYECBAgQIDAKAEBoLlBgAABAgQIjAwAb968WRu1pbC/PTM07DjqcCwrsCsyPJr284X0PaRM6PiF1BVS5ji3V7WgOw1m0z6dO3fu9vPPP9/zKSNAgAABAgQICADNAQIECBAgQCCXQLoCcGVlpZv1S8c5/HOu3P1LVqYVxqXtOCOymDMi++9jyKrMXC+8wgQIECBAgMCJFrAC8EQPr4cjQIAAAQLFC+QN/0JWhYWUmVZYdRKeL7Wa9hbpce2FhFUn4fzAKq0CLf7NVyMBAgQIECBwnAUEgMd59PSdAAECBAhMWSANx65fv34mbXbctsNms3kmvTV4e3u7t7GxcTurm/26QsoU2V5a17jbjEO2VeZ5vqNoL2RsQsoUOTYnvb0Qq5AyRcz1KX8WNEeAAAECBAgcAwEB4DEYJF0kQIAAAQJVEEgDu/S20bQvTz/99PaoM8dardZju7u78enTp5N2u51eTPDQz2Bdo24XTn9pcXHx8aLbC+l7SJnQ5wupK6TMcW4vpO8hZYqcCye1vSp8K/SBAAECBAgQqJ6AALB6Y6JHBAgQIECgigLx8vLyqZs3byajLgWJomi/TNr5lZWVvVE3ki4sLJz67M/+7DikrpAyRbb3Rl13Rw3A8vLyzDTb61sV5Rna90e5vf48nvbcK6K9ZrPZ2NjY6FTxA6JPBAgQIECAwNEKCACP1l/rBAgQIEDgWAikF4K8ER5lXgqS/rc8ZYqsa9RFJYN90l51x8/YFDs2496HY/Gx0UkCBAgQIECgFAEBYCmsKiVAgAABAgQIECBAgAABAgQIECBQDQEBYDXGQS8IECBAgAABAgQIECBAgAABAgQIlCIgACyFVaUECBAgQIAAAQIECBAgQIAAAQIEqiEgAKzGOOgFAQIECBAgQIAAAQIECBAgQIAAgVIEBIClsKqUAAECBAgQIECAAAECBAgQIECAQDUEBIDVGAe9IECAAAECBAgQIECAAAECBAgQIFCKgACwFFaVEiBAgAABAgQIECBAgAABAgQIEKiGgACwGuOgFwQIECBAgAABAgQIECBAgAABAgRKERAAlsKqUgIECBAgQIAAAQIECBAgQIAAAQLVEBAAVmMc9IIAAQIECBAgQIAAAQIECBAgQIBAKQICwFJYVUqAAAECBAgQIECAAAECBAgQIECgGgICwGqMg14QIECAAAECBAgQIECAAAECBAgQKEVAAFgKq0oJECBAgAABAgQIECBAgAABAgQIVENAAFiNcdALAgQIECBAgAABAgQIECBAgAABAqUICABLYVUpAQIECBAgQIAAAQIECBAgQIAAgWoICACrMQ56QYAAAQIECBAgQIAAAQIECBAgQKAUAQFgKawqJUCAAAECBAgQIECAAAECBAgQIFANAQFgNcZBLwgQIECAAAECBAgQIECAAAECBAiUIiAALIVVpQQIECBAgAABAgQIECBAgAABAgSqISAArMY46AUBAgQIECBAgAABAgQIECBAgACBUgQEgKWwqpQAAQIECBAgQIAAAQIECBAgQIBANQQEgNUYB70gQIAAAQIECBAgQIAAAQIECBAgUIqAALAUVpUSIECAAAECBAgQIECAAAECBAgQqIaAALAa46AXBAgQIECAAAECBAgQIECAAAECBEoREACWwqpSAgQIECBAgAABAgQIECBAgAABAtUQEABWYxz0ggABAgQIECBAgAABAgQIECBAgEApAgLAUlhVSoAAAQIECBAgQIAAAQIECBAgQKAaAgLAaoyDXhAgQIAAAQIECBAgQIAAAQIECBAoRUAAWAqrSgkQIECAAAECBAgQIECAAAECBAhUQ0AAWI1x0AsCBAgQIECAAAECBAgQIECAAAECpQgIAEthVSkBAgQIECBAgAABAgQIECBAgACBaggIAKsxDnpBgAABAgQIECBAgAABAgQIECBAoBQBAWAprColQIAAAQIECBAgQIAAAQIECBAgUA0BAWA1xkEvCBAgQIAAAQIECBAgQIAAAQIECJQiIAAshVWlBAgQIECAAAECBAgQIECAAAECBKohIACsxjjoBQECBAgQIECAAAECBAgQIECAAIFSBASApbCqlAABAgQIECBAgAABAgQIECBAgEA1BASA1RgHvSBAgAABAgQIECBAgAABAgQIECBQioAAsBRWlRIgQIAAAQIECBAgQIAAAQIECBCohoAAsBrjoBcECBAgQIAAAQIECBAgQIAAAQIEShEQAJbCqlICBAgQIECAAAECBAgQIECAAAEC1RAQAFZjHPSCAAECBAgQIECAAAECBAgQIECAQCkCAsBSWFVKgAABAgQIECBAgAABAgQIECBAoBoCAsBqjINeECBAgAABAgQIECBAgAABAgQIEChFQABYCqtKCRAgQIAAAQIECBAgQIAAAQIECFRDQABYjXHQCwIECBAgQIAAAQIECBAgQIAAAQKlCAgAS2FVKQECBAgQIECAAAECBAgQIECAAIFqCAgAqzEOekGAAAECBAgQIECAAAECBAgQIECgFAEBYCmsKiVAgAABAgQIECBAgAABAgQIECBQDQEBYDXGQS8IECBAgAABAgQIECBAgAABAgQIlCIgACyFVaUECBAgQIAAAQIECBAgQIAAAQIEqiEgAKzGOOgFAQIECBAgQIAAAQIECBAgQIAAgVIEBIClsKqUAAECBAgQIECAAAECBAgQIECAQDUEBIDVGAe9IECAAAECBAgQIECAAAECBAgQIFCKgACwFFaVEiBAgAABAgQIECBAgAABAgQIEKiGgACwGuOgFwQIECBAgAABAgQIECBAgAABAgRKERAAlsKqUgIECBAgQIAAAQIECBAgQIAAAQLVEBAAVmMc9IIAAQIECBAgQIAAAQIECBAgQIBAKQICwFJYVUqAAAECBAgQIECAAAECBAgQIECgGgICwGqMg14QIECAAAECBAgQIECAAAECBAgQKEVAAFgKq0oJECBAgAABAgQIECBAgAABAgQIVENAAFiNcdALAgQIECBAgAABAgQIECBAgAABAqUICABLYVUpAQIECBAgQIAAAQIECBAgQIAAgWoICACrMQ56QYAAAQIECBAgQIAAAQIECBAgQKAUAQFgKawqJUCAAAECBAgQIECAAAECBAgQIFANAQFgNcZBLwgQIECAAAECBAgQIECAAAECBAiUIiAALIVVpQQIECBAgAABAgQIECBAgAABAgSqISAArMY46AUBAgQIECBAgAABAgQIECBAgACBUgQEgKWwqpQAAQIECBAgQIAAAQIECBAgQIBANQQEgNUYB70gQIAAAQIECBAgQIAAAQIECBAgUIqAALAUVpUSIECAAAECBAgQIECAAAECBAgQqIaAALAa46AXBAgQIECAAAECBAgQIECAAAECBEoREACWwqpSAgQIECBAgAABAgQIECBAgAABAtUQEABWYxz0ggABAgQIECBAgAABAgQIECBAgEApAgLAUlhVSoAAAQIECBAgQIAAAQIECBAgQKAaAgLAaoyDXhAgQIAAAQIECBAgQIAAAQIECBAoRUAAWAqrSgkQIECAAAECBAgQIECAAAECBAhUQ0AAWI1x0AsCBAgQIECAAAECBAgQIECAAAECpQgIAEthVSkBAgQIECBAgAABAgQIECBAgACBaggIAKsxDnpBgAABAgQIECBAgAABAgQIECBAoBQBAWAprColQIAAAQIECBAgQIAAAQIECBAgUA0BAWA1xkEvCBAgQIAAAQIECBAgQIAAAQIECJQiIAAshVWlBAgQIECAAAECBAgQIECAAAECBKohIACsxjjoBQECBAgQIECAAAECBAgQIECAAIFSBASApbCqlAABAgQIECBAgAABAgQIECBAgEA1BASA1RgHvSBAgAABAgQIECBAgAABAgQIECBQioAAsBRWlRIgQIAAAQIECBAgQIAAAQIECBCohoAAsBrjoBcECBAgQIAAAQIECBAgQIAAAQIEShEQAJbCqlICBAgQIECAAAECBAgQIECAAAEC1RAQAFZjHPSCAAECBAgQIECAAAECBAgQIECAQCkCAsBSWFVKgAABAgQIECBAgAABAgQIECBAoBoCAsBqjINeECBAgAABAgQIECBAgAABAgQIEChFQABYCqtKCRAgQIAAAQIECBAgQIAAAQIECFRDQABYjXHQCwIECBAgQIAAAQIECBAgQIAAAQKlCAgAS2FVKQECBAgQIECAAAECBAgQIECAAIFqCAgAqzEOekGAAAECBAgQIECAAAECBAgQIECgFAEBYCmsKiVAgAABAgQIECBAgAABAgQIECBQDQEBYDXGQS8IECBAgAABAgQIECBAgAABAgQIlCIgACyFVaUECBAgQIAAAQIECBAgQIAAAQIEqiEgAKzGOOgFAQIECBAgQIAAAQIECBAgQIAAgVIEBIClsKqUAAECBAgQIECAAAECBAgQIECAQDUEBIDVGAe9IECAAAECBAgQIECAAAECBAgQIFCKgACwFFaVEiBAgAABAgQIECBAgAABAgQIEKiGgACwGuOgFwQIECBAgAABAgQIECBAgAABAgRKERAAlsKqUgIECBAgQIAAAQIECBAgQIAAAQLVEBAAVmMc9IIAAQIECBAgQIAAAQIECBAgQIBAKQICwFJYVUqAAAECBAgQIECAAAECBAgQIECgGgICwGqMg14QIECAAAECBAgQIECAAAECBAgQKEVAAFgKq0oJECBAgAABAgQIECBAgAABAgQIVENAAFiNcdALAgQIECBAgAABAgQIECBAgAABAqUICABLYVUpAQIECBAgQIAAAQIECBAgQIAAgWoICACrMQ56QYAAAQIECBAgQIAAAQIECBAgQKAUAQFgKawqJUCAAAECBAgQIECAAAECBAgQIFANAQFgNcZBLwgQIECAAAECBAgQIECAAAECBAiUIiAALIVVpQQIECBAgAABAgQIECBAgAABAgSqISAArMY46AUBAgQIECBAgAABAgQIECBAgACBUgQEgKWwqpQAAQIECBAgQIAAAQIECBAgQIBANQQEgNUYB70gQIAAAQIECBAgQIAAAQIECBAgUIqAALAUVpUSIECAAAECBAgQIECAAAECBAgQqIaAALAa46AXBAgQIECAAAECBAgQIECAAAECBEoREACWwqpSAgQIECBAgAABAgQIECBAgAABAtUQEABWYxz0ggABAgQIECBAgAABAgQIECBAgEApAgLAUlhVSoAAAQIECBAgQIAAAQIECBAgQKAaAgLAaoyDXhAgQIAAAQIECBAgQIAAAQIECBAoRUAAWAqrSgkQIECAAAECBAgQIECAAAECBAhUQ0AAWI1x0AsCBAgQIECAAAECBAgQIECAAAECpQgIAEthVSkBAgQIECBAgAABAgQIECBAgACBaggIAKsxDnpBgAABAgQIECBAgAABAgQIECBAoBQBAWAprColQIAAAQIECBAgQIAAAQIECBAgUA0BAWA1xkEvCBAgQIAAAQIECBAgQIAAAQIECJQiIAAshVWlBAgQIECAAAECBAgQIECAAAECBKohIACsxjjoBQECBAgQIECAAAECBAgQIECAAIFSBASApbCqlAABAgQIECBAgAABAgQIECBAgEA1BASA1RgHvSBAgAABAgQIECBAgAABAgQIECBQioAAsBRWlRIgQIAAAQIECBAgQIAAAQIECBCohoAAsBrjoBcECBAgQIAAAQIECBAgQIAAAQIEShEQAJbCqlICBAgQIECAAAECBAgQIECAAAEC1RAQAFZjHPSCAAECBAgQIECAAAECBAgQIECAQCkCAsBSWFVKgAABAgQIECBAgAABAgQIECBAoBoCAsBqjINeECBAgAABAgQIECBAgAABAgQIEChFQABYCqtKCRAgQIAAAQIECBAgQIAAAQIECFRDQABYjXHQCwIECBAgQIAAAQIECBAgQIAAAQKlCAgAS2FVKQECBAgQIECAAAECBAgQIECAAIFqCAgAqzEOekGAAAECBAgQIECAAAECBAgQIECgFAEBYCmsKiVAgAABAgQIECBAgAABAgQIECBQDQEBYDXGQS8IECBAgAABAgQIECBAgAABAgQIlCIgACyFVaUECBAgQIAAAQIECBAgQIAAAQIEqiEgAKzGOOgFAQIECBAgQIAAAQIECBAgQIAAgVIEBIClsKqUAAECBAgQIECAAAECBAgQIECAQDUEBIDVGAe9IECAAAECBAgQIECAAAECBAgQIFCKgACwFFaVEiBAgAABAgQIECBAgAABAgQIEKiGgACwGuOgFwQIECBAgAABAgQIECBAgAABAgRKERAAlsKqUgIECBAgQIAAAQIECBAgQIAAAQLVEBAAVmMc9IIAAQIECBAgQIAAAQIECBAgQIBAKQICwFJYVUqAAAECBAgQIECAAAECBAgQIECgGgICwGqMg14QIECAAAECBAgQIECAAAECBAgQKEVAAFgKq0oJECBAgAABAgQIECBAgAABAgQIVENAAFiNcdALAgQIECBAgAABAgQIECBAgAABAqUICABLYVUpAQIECBAgQIAAAQIECBAgQIAAgWoICACrMQ56QYAAAQIECBAgQIAAAQIECBAgQKAUAQFgKawqJUCAAAECBAgQIECAAAECBAgQIFANAQFgNcZBLwgQIECAAAECBAgQIECAAAECBAiUIiAALIVVpQQIECBAgAABAgQIECBAgAABAgSqISAArMY46AUBAgQIECBAgAABAgQIECBAgACBUgQEgKWwqpQAAQIECBAgQIAAAQIECBAgQIBANQQEgNUYB70gQIAAAQIECBAgQIAAAQIECBAgUIqAALAUVpUSIECAAAECBAgQIECAAAECBAgQqIaAALAa46AXBAgQIECAAAECBAgQIECAAAECBEoREACWwqpSAgQIECBAgAABAgQIECBAgAABAtUQEABWYxz0ggABAgQIECBAgAABAgQIECBAgEApAgLAUlhVSoAAAQIECBAgQIAAAQIECBAgQKAaAgLAaoyDXhAgQIAAAQIECBAgQIAAAQIECBAoRUAAWAqrSgkQIECAAAECBAgQIECAAAECBAhUQ0AAWI1x0AsCBAgQIECAAAECBAgQIECAAAECpQgIAEthVSkBAgQIECBAgAABAgQIECBAgACBaggIAKsxDnpBgAABAgQIECBAgAABAgQIECBAoBQBAWAprColQIAAAQIECBAgQIAAAQIECBAgUA0BAWA1xkEvCBAgQIAAAQIECBAgQIAAAQIECJQiIAAshVWlBAgQIECAAAECBAgQIECAAAECBKohIACsxjjoBQECBAgQIECAAAECBAgQIECAAIFSBASApbCqlAABAgQIECBAgAABAgQIECBAgEA1BASA1RgHvSBAgAABAgQIECBAgAABAgQIECBQioAAsBRWlRIgQIAAAQIECBAgQIAAAQIECBCohoAAsBrjoBcECBAgQIAAAQIECBAgQIAAAQIEShEQAJbCqlICBAgQIECAAAECBAgQIECAAAEC1RAQAFZjHPSCAAECBAgQIECAAAECBAgQIECAQCkCAsBSWFVKgAABAgQIECBAgAABAgQIECBAoBoCAsBqjINeECBAgAABAgQIECBAgAABAgQIEChFQABYCqtKCRAgQIAAAQIECBAgQIAAAQIECFRDQABYjXHQCwIECBAgQIAAAQIECBAgQIAAAQKlCAgAS2FVKQECBAgQIECAAAECBAgQIECAAIFqCAgAqzEOekGAAAECBAgQIECAAAECBAgQIECgFAEBYCmsKiVAgAABAgQIECBAgAABAgQIECBQDQEBYDXGQS8IECBAgAABAgQIECBAgAABAgQIlCIgACyFVaUECBAgQIAAAQIECBAgQIAAAQIEqiEgAKzGOOgFAQIECBAgQIAAAQIECBAgQIAAgVIEBIClsKqUAAECBAgQIECAAAECBAgQIECAQDUEBIDVGAe9IECAAAECBAgQIECAAAECBAgQIFCKgACwFFaVEiBAgAABAgQIECBAgAABAgQIEKiGgACwGuOgFwQIECBAgAABAgQIECBAgAABAgRKERAAlsKqUgIECBAgQIAAAQIECBAgQIAAAQLVEBAAVmMc9IIAAQIECBAgQIAAAQIECBAgQIBAKQICwFJYVUqAAAECBAgQIECAAAECBAgQIECgGgICwGqMg14QIECAAAECBAgQIECAAAECBAgQKEVAAFgKq0oJECBAgAABAgQIECBAgAABAgQIVENAAFiNcdALAgQIECBAgAABAgQIECBAgAABAqUICABLYVUpAQIECBAgQIAAAQIECBAgQIAAgWoICACrMQ56QYAAAQIECBAgQIAAAQIECBAgQKAUAQFgKawqJUCAAAECBAgQIECAAAECBAgQIFANAQFgNcZBLwgQIECAAAECBAgQIECAAAECBAiUIiAALIVVpQQIECBAgAABAgQIECBAgAABAgSqISAArMY46AUBAgQIECBAgAABAgQIECBAgACBUgQEgKWwqpQAAQIECBAgQIAAAQIECBAgQIBANQQEgNUYB70gQIAAAQIECBAgQIAAAQIECBAgUIqAALAUVpUSIECAAAECBAgQIECAAAECBAgQqIaAALAa46AXBAgQIECAAAECBAgQIECAAAECBEoREACWwqpSAgQIECBAgAABAgQIECBAgAABAtUQEABWYxz0ggABAgQIECBAgAABAgQIECBAgEApAgLAUlhVSoAAAQIECBAgQIAAAQIECBAgQKAaAgLAaoyDXhAgQIAAAQIECBAgQIAAAQIECBAoRUAAWAqrSgkQIECAAAECBAgQIECAAAECBAhUQ0AAWI1x0AsCBAgQIECAAAECBAgQIECAAAECpQgIAEthVSkBAgQIECBAgAABAgQIECBAgACBaggIAKsxDnpBgAABAgQIECBAgAABAgQIECBAoBQBAWAprColQIAAAQIECBAgQIAAAQIECBAgUA0BAWA1xkEvCBAgQIAAAQIECBAgQIAAAQIECJQiIAAshVWlBAgQIECAAAECBAgQIECAAAECBKohIACsxjjoBQECBAgQIECAAAECBAgQIECAAIFSBASApbCqlAABAgQIECBAgAABAgQIECBAgEA1BASA1RgHvSBAgAABAgQIECBAgAABAgQIECBQioAAsBRWlRIgQIAAAQIECBAgQIAAAQIECBCohoAAsBrjoBcECBAgQIAAAQIECBAgQIAAAQIEShEQAJbCqlICBAgQIECAAAECBAgQIECAAAEC1RAQAFZjHPSCAAECBAgQIECAAAECBAgQIECAQCkCAsBSWFVKgAABAgQIECBAgAABAgQIECBAoBoCAsBqjINeECBAgAABAgQIECBAgAABAgQIEChFQABYCqtKCRAgQIAAAQIECBAgQIAAAQIECFRDQABYjXHQCwIECBAgQIAAAQIECBAgQIAAgf+/HTsmAQAAQCDYv7UpHhyugMi5SSARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIEkdukIgAAHPlJREFUCBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgUTAAZiwCiVAgAABAgQIECBAgAABAgQIECDwIeAA/NhBCwIECBAgQIAAAQIECBAgQIAAAQKJgAMwYRVKgAABAgQIECBAgAABAgQIECBA4EPAAfixgxYECBAgQIAAAQIECBAgQIAAAQIEEgEHYMIqlAABAgQIECBAgAABAgQIECBAgMCHgAPwYwctCBAgQIAAAQIECBAgQIAAAQIECCQCDsCEVSgBAgQIECBAgAABAgQIECBAgACBDwEH4McOWhAgQIAAAQIECBAgQIAAAQIECBBIBByACatQAgQIECBAgAABAgQIECBAgAABAh8CDsCPHbQgQIAAAQIECBAgQIAAAQIECBAgkAg4ABNWoQQIECBAgAABAgQIECBAgAABAgQ+BByAHztoQYAAAQIECBAgQIAAAQIECBAgQCARcAAmrEIJECBAgAABAgQIECBAgAABAgQIfAg4AD920IIAAQIECBAgQIAAAQIECBAgQIBAIuAATFiFEiBAgAABAgQIECBAgAABAgQIEPgQcAB+7KAFAQIECBAgQIAAAQIECBAgQIAAgURgqkK66TiWtI8AAAAASUVORK5CYII=",sources:[{src:e}]};return l.useEffect((()=>{if("undefined"!=typeof window&&r.current){const e=(e,t)=>{a(o.concat({text:r.current.getRange(e).toString(),cfiRange:e})),t.window.getSelection().removeAllRanges()};return r.current.on("selected",e),()=>{r.current.off("selected",e)}}}),[a,o]),"encrypted(application/epub+zip)"==t&&"undefined"!=typeof window?c.default.createElement("div",{className:"Darkblock-reactReader"},c.default.createElement(dl.ReactReader,{epubInitOptions:{openAs:"epub"},location:s,locationChanged:e=>{u(e)},ref:h,styles:d,url:e,getRendition:e=>{e.themes.register("custom",{p:{color:"black"}}),e.themes.select("custom")}})):"encrypted(text/html)"==t?c.default.createElement("iframe",{id:"Darkblock-pdf-html-iframe",allowFullScreen:!0,className:"Darkblock-htmlPlayer",src:e}):"encrypted(application/zip)"==t?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-zip-panel"},c.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.default.createElement("path",{d:"M8 19H11V22H13V19H16L12 15L8 19ZM16 4H13V1H11V4H8L12 8L16 4ZM4 9V11H20V9H4Z",fill:"white"}),c.default.createElement("path",{d:"M4 12H20V14H4V12Z",fill:"white"})),c.default.createElement("p",null,To("player.compressedFile")))):t.indexOf("image/gif")>-1?c.default.createElement("img",{id:"Darkblock-gif",className:"Darkblock-gifViewer",src:e}):"encrypted(image/svg+xml)"==t||t.indexOf("image")>-1?c.default.createElement(tm,{mediaURL:e,config:i}):t.indexOf("audio")>-1?(p.type="audio",c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-audioPlayer"},c.default.createElement(ul,{source:p})))):t.indexOf("video")>-1?(p.type="video",c.default.createElement("div",{className:"Darkblock-videoPlayer"},c.default.createElement(ul,{source:p,loop:!0}))):["encrypted(model/gltf-binary)","(model/gltf-binary)","encrypted(application/pdf)","(application/pdf)"].includes(t)?"":c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-zip-panel"},c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},c.default.createElement("path",{d:"M496 288h-96V256l64 .0002c8.838 0 16-7.164 16-15.1v-15.1c0-8.838-7.162-16-16-16L384 208c-17.67 0-32 14.33-32 32v47.1l-64 .0005v-192c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.836 7.164 16 16 16h32c8.838 0 16-7.164 16-16v-16c0-59.2-53.85-106-115.1-94.14C255.3 10.71 224 53.36 224 99.79v188.2L160 288V240c0-17.67-14.33-32-32-32L48 208c-8.836 0-16 7.162-16 16v15.1C32 248.8 39.16 256 48 256l64-.0002V288h-96c-8.836 0-16 7.164-16 16v32c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16V304C512 295.2 504.8 288 496 288zM32 416c0 53.02 42.98 96 96 96h256c53.02 0 96-42.98 96-96v-32H32V416z",fill:"white"})),c.default.createElement("p",null,"Other file type")))},nm=c.default.memo((({mediaURL:e,mediaType:t,config:i})=>{const[n,r]=l.useState(!1),[o,a]=l.useState(e),[s,u]=l.useState(t),[h,d]=l.useState(null),p=["encrypted(model/gltf-binary)","(model/gltf-binary)"],g=["encrypted(application/pdf)","(application/pdf)"],f=[...p,...g];return l.useEffect((()=>{if("undefined"!=typeof window){const e=document.createElement("script");return e.src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js",e.async=!0,e.type="module",document.body.appendChild(e),()=>{document.body.removeChild(e)}}}),[]),l.useEffect((()=>{if(p.includes(t)){const e=document.getElementById("modelViewer");e&&null!==e&&e.addEventListener("progress",(e=>{1===e.detail.totalProgress&&r(!0)}))}}),[]),l.useEffect((()=>{!async function(t){"encrypted(application/json)"==t&&await KA(e).then((e=>{e&&e.type&&"movie"===e.type.toLowerCase()&&e.url&&(a(e.url),u("json/video"),e.posterUrl&&d(e.posterUrl))})),f.includes(t)||r(!0)}(t)}),[t]),c.default.createElement("div",{className:"DarkblockWidget-Player"},c.default.createElement("div",{className:"DarkblockWidget-Player-Content"},n?c.default.createElement(im,{mediaURL:o,mediaType:s,config:i,posterUrl:h}):c.default.createElement("div",{id:"Darkblock-seadragon-viewer-spinner"},c.default.createElement(hl,null)),g.includes(t)&&c.default.createElement("iframe",{id:"Darkblock-pdf-iframe",allowFullScreen:!0,onLoad:()=>{setTimeout((()=>{r(!0)}),1500)},className:"Darkblock-pdfPlayer",src:`https://pdf.darkblock.io/pdfjs/web/viewer.html?file=${encodeURIComponent(e)}`}),p.includes(t)&&c.default.createElement("div",{className:"Darkblock-model-viewer-player"},c.default.createElement("model-viewer",{id:"modelViewer",alt:"testing",ar:!0,autoplay:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,loaded:!0,"enable-pan":!0,"seamless-poster":!0,"shadow-intensity":"1",src:e}))))})),rm=({filetype:e})=>{let t=On;return e.indexOf("faArrowLeft")>-1&&(t=Dn),e.indexOf("faArrowRight")>-1&&(t=Sn),c.default.createElement(En,{icon:t,className:"Darkblock-arrowIcons"})},om=({filetype:e})=>{let t=On;return e.indexOf("ellipsis")>-1&&(t=Ln),c.default.createElement(En,{icon:t,size:"lg",className:"Darkblock-toggleIcon"})},am=({filetype:e})=>{let t=On;return e.indexOf("html")>-1&&(t=xn),e.indexOf("video")>-1&&(t=In),e.indexOf("audio")>-1&&(t=qn),e.indexOf("image")>-1&&(t=kn),e.indexOf("pdf")>-1&&(t=Rn),e.indexOf("zip")>-1&&(t=_n),e.indexOf("model")>-1&&(t=Tn),e.indexOf("usdz")>-1&&(t=Tn),e.indexOf("up")>-1&&(t=Vn),e.indexOf("down")>-1&&(t=Fn),e.indexOf("epub")>-1&&(t=Xn),e.indexOf("chevronLeft")>-1&&(t=Wn),e.indexOf("chevronRight")>-1&&(t=Un),c.default.createElement(En,{icon:t,className:"Darkblock-awesome"})},sm=({db:e,f:t=null,counter:i="",selected:n=!1,index:r=0,showDetailModal:o})=>{const a=n.i===r;let s=t&&"function"==typeof t?t:()=>{},l=new Date(0);return l.setUTCMilliseconds(e.datecreated),c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:`dbdata ${a&&"dbdataSelected"}`},c.default.createElement("div",{className:"Darkblock-name",onClick:s},c.default.createElement(am,{filetype:e.fileFormat}),c.default.createElement("span",{className:"Darkblock-truncate Darkblock-BodyText"},`${i} ${e.name}`)),c.default.createElement("div",{className:"Darkblock-items Darkblock-BodyTextSmall"},c.default.createElement("div",{className:"darkblock-right-text",onClick:s},e.fileSize),c.default.createElement("div",{className:"Darkblock-date",onClick:s},l.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric"})),c.default.createElement("div",{className:"darkblock-toggleBtn"},c.default.createElement("div",{onClick:()=>{o(e)},className:"darkblock-toggle-container"},c.default.createElement("button",{className:"darkblock-toggle"},c.default.createElement(om,{filetype:"ellipsis"})))))))},lm=()=>c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"12",viewBox:"0 0 329 48",fill:"none"},c.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H14.0927H21.1383H21.1388V47.9995H21.1383V48H0V41.1429H14.0927V6.85708H0V0ZM7.0461 13.7137H0V20.5707H7.0461V13.7137ZM7.0461 27.4283H0V34.2854H7.0461V27.4283ZM42.2767 0H35.2306H28.1845V6.85708V13.7136V20.5707V20.5712H35.2306V20.5707H42.2774V20.5715H49.3235V6.85732H42.2774V13.7136H35.2306V6.85708H42.2767V0ZM49.3227 41.1424V34.2854V27.4283H42.2766H28.1844V27.4283H28.1839L28.1839 47.9996H28.184V48H42.2762V41.1429H35.23V34.2854H42.2766V41.1424H49.3227Z",fill:"black"}),c.default.createElement("path",{d:"M75.7996 40.4711V6.54544H87.6519C92.0079 6.54544 95.4522 7.23379 97.8834 8.61048C102.847 11.3639 105.988 16.5756 105.988 23.4591C105.988 34.6693 99.2004 40.3728 88.2597 40.3728H75.7996V40.4711ZM88.7662 32.801C93.9327 32.801 97.1743 29.6542 97.1743 23.4591C97.1743 17.3623 94.034 14.0189 88.8675 14.0189H84.8155V32.7026H88.7662V32.801Z",fill:"black"}),c.default.createElement("path",{d:"M130.706 40.4712V37.7178H130.605C129.491 39.9795 126.35 41.3562 122.906 41.3562C115.207 41.3562 109.737 35.4561 109.737 27.7859C109.737 20.3124 115.308 14.2156 122.906 14.2156C126.148 14.2156 129.086 15.494 130.605 17.7557H130.706V15.0023H138.507V40.4712H130.706ZM130.706 27.6876C130.706 24.1475 127.769 21.1974 124.02 21.1974C120.475 21.1974 117.638 24.0492 117.638 27.7859C117.638 31.326 120.475 34.1777 124.122 34.1777C127.769 34.1777 130.706 31.326 130.706 27.6876Z",fill:"black"}),c.default.createElement("path",{d:"M144.181 40.4712V15.0023H151.575V17.7557H151.676C153.094 15.0023 155.221 14.2156 158.26 14.2156V21.8858C153.601 21.8858 152.081 23.6558 152.081 26.5076V40.5695H144.181V40.4712Z",fill:"black"}),c.default.createElement("path",{d:"M177.92 40.4711L170.525 28.1792H170.423V40.3728H162.623V6.54544H170.423V24.2458H170.525L177.819 15.0023H187.138L177.312 26.2125L186.936 40.4711H177.92Z",fill:"black"}),c.default.createElement("path",{d:"M190.178 40.4711V6.54544H197.978V17.0673C200.105 14.9039 202.739 14.2156 205.474 14.2156C212.261 14.2156 218.542 19.1324 218.542 27.6875C218.542 35.5544 213.376 41.4545 205.272 41.4545C202.131 41.4545 198.991 40.0778 197.775 37.9144H197.674V40.6678H190.178V40.4711ZM210.742 27.6875C210.742 24.2458 208.007 21.1974 204.259 21.1974C200.612 21.1974 197.775 24.0491 197.775 27.5892C197.775 31.3259 200.51 34.1777 204.157 34.1777C207.804 34.1777 210.742 31.3259 210.742 27.6875Z",fill:"black"}),c.default.createElement("path",{d:"M222.497 40.4711V6.54544H230.296V40.4711H222.497Z",fill:"black"}),c.default.createElement("path",{d:"M248.834 41.2578C240.831 41.2578 234.753 35.5544 234.753 27.7859C234.753 19.9191 241.034 14.2156 248.834 14.2156C256.736 14.2156 262.915 19.9191 262.915 27.6876C263.016 35.5544 256.736 41.2578 248.834 41.2578ZM255.115 27.6876C255.115 24.2458 252.481 21.2958 248.834 21.2958C245.39 21.2958 242.553 24.2458 242.553 27.6876C242.553 31.1293 245.288 34.0794 248.834 34.0794C252.582 34.0794 255.115 31.1293 255.115 27.6876Z",fill:"black"}),c.default.createElement("path",{d:"M285.911 24.8358C284.796 22.4757 282.77 21.2957 280.035 21.2957C276.489 21.2957 273.957 24.1474 273.957 27.7858C273.957 31.5226 276.591 34.276 280.238 34.276C282.871 34.276 284.695 33.0959 285.911 30.9326H293.913C292.394 37.3244 286.721 41.4544 280.035 41.4544C272.336 41.4544 266.157 35.3577 266.157 27.8842C266.157 20.3124 272.336 14.3139 279.934 14.3139C286.822 14.3139 292.495 18.5423 293.913 25.0324H285.911V24.8358Z",fill:"black"}),c.default.createElement("path",{d:"M313.163 40.4711L305.768 28.2775H305.666V40.4711H297.866V6.54544H305.666V24.2458H305.768L313.061 15.0023H322.381L312.555 26.2125L322.179 40.4711H313.163Z",fill:"black"}));function cm(e,t){const{t:i}=yr();return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"DarkblockWidget-Footer"},c.default.createElement("p",{className:"Darkblock-FooterText"},i("footer.poweredBy")," "),c.default.createElement("div",null,c.default.createElement(lm,null)),e.debug&&c.default.createElement("p",null,"state: ",t.value)))}h(".tableContainer{font-size:13px;font-weight:600;margin-left:.5rem;position:fixed;table-layout:auto;width:100vw;z-index:30}.Darkblock-rowheader,.tableContainer{cursor:pointer;top:0}.Darkblock-rowheader{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));border-bottom-width:1px;color:rgb(107 114 128/var(--tw-text-opacity));display:grid;grid-template-columns:repeat(12,minmax(0,1fr));height:48px;position:sticky;z-index:10}.Darkblock-name-header{align-items:center;display:flex;grid-column:span 8/span 8;padding-left:1rem;text-align:left}.Darkblock-format-header{display:none;text-align:right;width:7rem}@media (min-width:640px){.Darkblock-format-header{display:table-cell}}.Darkblock-format-date{display:none;text-align:right;width:7rem}@media (min-width:640px){.Darkblock-format-date{display:table-cell}}.Darkblock-format-icon{width:3rem}.Darkblock-items-header{align-items:center;display:flex;height:2.25rem;position:absolute;right:0;width:16rem}.DarkblockWidget-Stack-Panel .format-header{display:none}@media (min-width:640px){.DarkblockWidget-Stack-Panel .format-header{display:table-cell}}.DarkblockWidget-Stack-Panel .size{display:none}@media (min-width:640px){.DarkblockWidget-Stack-Panel .size{display:table-cell}}.DarkblockWidget-Stack-Panel .format-date{display:none}@media (min-width:640px){.DarkblockWidget-Stack-Panel .format-date{display:table-cell}}.DarkblockWidget-Stack-Panel .date{display:none}@media (min-width:640px){.DarkblockWidget-Stack-Panel .date{display:table-cell}.DarkblockWidget-Stack-Panel .name{overflow:hidden;padding:0;text-overflow:ellipsis;text-overflow:clip;white-space:nowrap;width:250px}}",{insertAt:"top"});const um=({state:e})=>{const t=e.context.display.stack.length,{t:i}=yr();return c.default.createElement("div",{className:"Darkblock-rowheader Darkblock-TableHeaderText"},c.default.createElement("div",{className:"Darkblock-name-header"},c.default.createElement("span",null,i("titles.name")),c.default.createElement("span",null," (",t,")")),c.default.createElement("div",{className:"Darkblock-items-header"},c.default.createElement("div",{className:"Darkblock-format-header"},i("titles.fileSize")),c.default.createElement("div",{className:"Darkblock-format-date"},i("titles.dateAdded")),c.default.createElement("div",{className:"Darkblock-format-icon"},c.default.createElement("span",null))))};h(":root{--doc-height:100%}.Darkblock-container{--tw-bg-opacity:1;align-items:center;background-color:rgb(43 43 43/var(--tw-bg-opacity));bottom:0;display:flex;justify-content:center;left:0;overflow-x:hidden;overflow-y:auto;position:absolute;right:0;top:0;z-index:50}.Darkblock-container,.Darkblock-container:focus{outline:2px solid #0000;outline-offset:2px}.modal-bg-darkblock{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));bottom:0;left:0;position:fixed;right:0;top:0}.Darkblock-content{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));display:block;margin-left:auto;margin-right:auto;text-align:center;width:100%}.Darkblock-awesomePlayerButton{height:1.5rem;padding:.5rem;width:1.5rem}.Darkblock-player-modal-container{display:flex;flex-direction:column;height:var(--doc-height);justify-content:space-between}.Darkblock-player-modal-close-button{--tw-text-opacity:1;color:rgb(212 212 212/var(--tw-text-opacity));cursor:pointer;margin-bottom:auto;margin-top:auto;z-index:50}",{insertAt:"top"});const hm=({state:e=null,children:t,open:i})=>c.default.createElement(c.default.Fragment,null,i?c.default.createElement("div",{className:"Darkblock-container"},c.default.createElement("div",{className:"modal-bg-darkblock"},c.default.createElement("div",{className:"Darkblock-content"},t))):null);h(".Darkblock-EmptyElement{align-items:center;animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;display:flex;margin:1rem .5rem}.Darkblock-EmptyElementDiv{width:5rem}.Darkblock-EmptyElementDiv,.Darkblock-EmptyElementDivLg{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-radius:.25rem;height:1rem}.Darkblock-EmptyElementDivLg{width:11rem}.Darkblock-EmptyNameElement{display:flex;margin-bottom:1rem;margin-top:1rem}@keyframes pulse{50%{opacity:.5}}.Darkblock-EmptyNameElement{align-items:center;animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;padding-top:0;text-align:left}.Darkblock-EmptyNameElement1{height:1.5rem;margin-left:.5rem;margin-right:.5rem;padding:.5rem;width:1.5rem}.Darkblock-EmptyNameElement1,.Darkblock-EmptyNameElement2{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-radius:.25rem}.Darkblock-EmptyNameElement2{height:1rem;width:11rem}.Darkblock-EmptyRowContainer{align-items:center;height:3rem}.Darkblock-EmptyHeaderContainer,.Darkblock-EmptyRowContainer{--tw-border-opacity:1;border-bottom-width:1px;border-color:rgb(229 231 235/var(--tw-border-opacity));display:grid;gap:1rem;grid-template-columns:repeat(12,minmax(0,1fr));padding-left:.5rem;padding-right:.5rem}.Darkblock-EmptyHeaderContainer{height:2.25rem}.Darkblock-SingleElementWrapper{align-items:center;display:flex;grid-column:span 8/span 8;height:2.25rem}.Darkblock-MultipleElementWrapper{grid-column:span 4/span 4;justify-self:end}.Darkblock-EmptyElementFlexWrapper,.Darkblock-MultipleElementWrapper{align-items:center;display:flex;height:2.25rem}.Darkblock-EmptyElementHide{display:none}@media (min-width:640px){.Darkblock-EmptyElementHide{display:block}}",{insertAt:"top"});const dm=({lg:e,hide:t})=>c.default.createElement("div",{className:`Darkblock-EmptyElement ${t&&"Darkblock-EmptyElementHide"}`},c.default.createElement("div",{className:"Darkblock-EmptyElementDiv"+(e?"Lg":"")})),pm=()=>c.default.createElement("div",{className:"Darkblock-EmptyNameElement"},c.default.createElement("div",{className:"Darkblock-EmptyNameElement1"}),c.default.createElement("div",{className:"Darkblock-EmptyNameElement2"})),gm=()=>c.default.createElement("div",{className:"Darkblock-EmptyHeaderContainer"},c.default.createElement("div",{className:"Darkblock-SingleElementWrapper"},c.default.createElement(dm,{lg:!0})),c.default.createElement("div",{className:"Darkblock-MultipleElementWrapper"},c.default.createElement("div",{className:"Darkblock-EmptyElementFlexWrapper"},c.default.createElement(dm,{hide:!0}),c.default.createElement(dm,{hide:!0}),c.default.createElement(dm,null)))),fm=()=>c.default.createElement("div",{className:"Darkblock-EmptyRowContainer"},c.default.createElement("div",{className:"Darkblock-SingleElementWrapper"},c.default.createElement(pm,null)),c.default.createElement("div",{className:"Darkblock-MultipleElementWrapper"},c.default.createElement("div",{className:"Darkblock-EmptyElementFlexWrapper"},c.default.createElement(dm,{hide:!0}),c.default.createElement(dm,{hide:!0}),c.default.createElement(dm,null)))),Am=()=>c.default.createElement("div",null,c.default.createElement(gm,null),c.default.createElement(fm,null),c.default.createElement(fm,null),c.default.createElement(fm,null),c.default.createElement(fm,null),c.default.createElement(fm,null),c.default.createElement(fm,null)),mm=({db:e,open:t,onClose:i})=>{const n=e.fileFormat.substring(10,e.fileFormat.length-1);let r=new Date(0);r.setUTCMilliseconds(e.datecreated);const{t:o}=yr();return c.default.createElement(c.default.Fragment,null,t?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"darkblock-modal-container"},c.default.createElement("div",{id:"darkblock-modal-bg",onClick:()=>i(!0)},c.default.createElement("div",{id:"darkblock-modal-box"},c.default.createElement("div",{className:"darkblock-modal-box-container"},c.default.createElement("div",{id:"darkblock-modal-box"},c.default.createElement("div",{className:"darkblock-modal-first-row"},c.default.createElement("div",{className:"darkblock-modal-first-row-container"}),c.default.createElement("div",{className:"darkblock-modal-title"},o("details.title")),c.default.createElement("button",{className:"darkblock-cross-button"},c.default.createElement(No,null))),c.default.createElement("hr",{className:"darkblock-divider"}),c.default.createElement("div",{className:"darkblock-detail-container"},c.default.createElement("div",{className:"darkblock-modal-name"},e.name),c.default.createElement("div",{className:"darkblock-modal-detail"},e.details),c.default.createElement("div",{className:"darkblock-detail-subtitle"},o("details.size"),": "),c.default.createElement("div",{className:"darkblock-detail-subtitle-text"},e.fileSize),c.default.createElement("div",{className:"darkblock-detail-subtitle"},o("details.fileType"),": "),c.default.createElement("div",{className:"darkblock-detail-subtitle-text"},n),c.default.createElement("div",{className:"darkblock-detail-subtitle"},o("details.dateAdded"),":"),c.default.createElement("div",{className:"darkblock-detail-subtitle-text"},r.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric"})),c.default.createElement("div",{className:"darkblock-detail-subtitle"},"Arweave TX: "),c.default.createElement("div",{className:"darkblock-detail-subtitle-text"},e.arweaveTX)),c.default.createElement("div",{className:"darkblock-button-container"},c.default.createElement(Mo,{variant:"primary",size:"large",layout:"done",onClick:()=>i(!0)},o("details.done"))))))))):null)},vm=({filetype:e})=>{let t=On;return e.indexOf("ellipsis")>-1&&(t=Ln),e.indexOf("info")>-1&&(t=zn),e.indexOf("download")>-1&&(t=Mn),e.indexOf("upRightFromSquare")>-1&&(t=Nn),c.default.createElement(En,{icon:t,className:"Darkblock-ellIcon"})};function ym({db:e,state:t=null,open:i,closeToggle:n}){const r=e&&e.url?e.url:null,o=t&&"display"===t.value&&r&&"true"===e.downloadable.toString().toLowerCase(),[a,s]=l.useState(!1),u=e.fileFormat.substring(10,e.fileFormat.length-1);let h=`${e.name.substr(0,25)}${e.name.length>25?"...":""}`;const{t:d}=yr();return c.default.createElement(c.default.Fragment,null,i?c.default.createElement("div",{className:"darkblock-elipsis-detail-modal"},c.default.createElement("div",{className:"darkblock-dropdown"},c.default.createElement("div",{className:"darkblock-dropdown-content"},c.default.createElement("div",{className:"darkblock-titlebox-menu"},c.default.createElement("span",{className:"darkblock-title-menu Darkblock-TableHeaderText"},e.name),c.default.createElement("button",{className:"darkblock-elipsis-cross-button",onClick:n},c.default.createElement(No,null))),c.default.createElement("div",{className:"darkblock-box-menu-items"},c.default.createElement("a",{className:"Darkblock-BodyText darkblock-box-menu darkblock-cursor-pointer",onClick:()=>s(!0)},c.default.createElement("span",{className:"darkblock-icons"},c.default.createElement(vm,{filetype:"info"})),c.default.createElement("span",{className:"darkblock-placeholder"},d("elipsis.details"))),c.default.createElement("a",{className:"Darkblock-BodyText "+(o?"darkblock-cursor-pointer":"darkblock-is-not-downloadable"),onClick:()=>{if(!o)return null;$A(r,u,h)}},c.default.createElement("span",{className:"darkblock-icons"},c.default.createElement(vm,{filetype:"download"})),c.default.createElement("span",{className:"darkblock-placeholder"},d("elipsis.download"))),c.default.createElement("a",{target:"_blank",rel:"noreferrer",className:"darkblock-box-menu Darkblock-BodyText",href:e.arweaveTXLink},c.default.createElement("span",{className:"darkblock-icons"},c.default.createElement(vm,{filetype:"upRightFromSquare"})),c.default.createElement("span",{className:"darkblock-placeholder"},"Arweave")))))):null,c.default.createElement(mm,{db:e,open:a,onClose:()=>s(!a)}))}h(".DarkblockWidget-Stack-Panel{flex-grow:1;height:20rem;overflow-y:auto;position:relative;width:100%}.DarkblockWidget-Stack-Panel .Darkblock-Stack-Table{--tw-border-opacity:1;--tw-text-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity));color:rgb(107 114 128/var(--tw-text-opacity));opacity:.4;width:100%}.DarkblockWidget-Stack-Panel .row{cursor:pointer}.DarkblockWidget-Stack-Panel .row:hover,.DarkblockWidget-Stack-Panel .selected{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.DarkblockWidget-Stack-Panel .header{font-weight:700}.DarkblockWidget-Stack-Panel .Darkblock-awesome{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-radius:.25rem;color:rgb(17 24 39/var(--tw-text-opacity));height:1rem;margin-left:.5rem;margin-right:.5rem;padding:.5rem;width:1rem}.DarkblockWidget-Stack-Panel .Darkblock-name{--tw-text-opacity:1;align-items:center;color:rgb(17 24 39/var(--tw-text-opacity));display:flex;flex-direction:row;font-size:1rem;grid-column:span 8/span 8;line-height:1.5rem}@media (min-width:640px){.DarkblockWidget-Stack-Panel .Darkblock-name{grid-column:span 7/span 7}}@media (min-width:768px){.DarkblockWidget-Stack-Panel .Darkblock-name{grid-column:span 8/span 8}}@media (min-width:1024px){.DarkblockWidget-Stack-Panel .Darkblock-name{grid-column:span 9/span 9}}.DarkblockWidget-Stack-Panel .Darkblock-name .Darkblock-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.DarkblockWidget-Stack-Panel .row .Darkblock-date{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity));font-size:1rem;line-height:1.5rem;white-space:nowrap}.Darkblock-items{align-items:center;display:flex;height:3rem;position:absolute;right:0;width:3rem}@media (min-width:640px){.Darkblock-items{width:15rem}}.Darkblock-date{display:none;padding-right:.5rem;text-align:right;width:7rem}@media (min-width:640px){.Darkblock-date{display:table-cell}}.darkblock-right-text{display:none;text-align:right;width:6rem}@media (min-width:640px){.darkblock-right-text{display:table-cell}}.darkblock-toggle{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity));height:3rem;width:3rem}.DarkblockWidget-Stack-Panel .dbdata{--tw-border-opacity:1;border-bottom-width:1px;border-color:rgb(229 231 235/var(--tw-border-opacity));cursor:pointer;display:grid;grid-template-columns:repeat(12,minmax(0,1fr));height:3rem;position:relative}.DarkblockWidget-Stack-Panel .dbdata:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.DarkblockWidget-Stack-Panel .dbdataSelected{--tw-bg-opacity:1;background-color:rgb(229 229 227/var(--tw-bg-opacity))}.DarkblockWidget-Stack-Panel .size{font-size:1rem;line-height:1.5rem;padding-right:.75rem;white-space:nowrap}td{height:48px}.DarkblockWidget-Stack-Panel .darkblock-box-menu{align-items:center;cursor:pointer;display:flex;flex-direction:row;padding-left:.25rem}.DarkblockWidget-Stack-Panel .details{--tw-border-opacity:1;border-bottom-width:1px;border-color:rgb(209 213 219/var(--tw-border-opacity));cursor:pointer;display:flex;flex-wrap:wrap;padding:1rem .5rem}.DarkblockWidget-Stack-Panel .details:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.DarkblockWdget-Stack-Panel .ellIcon{--tw-text-opacity:1;border-radius:.25rem;color:rgb(17 24 39/var(--tw-text-opacity));height:1rem;margin-top:.25rem;padding:1.25rem}.DarkblockWidget-Stack-Panel button.download{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;align-items:center;background-color:rgb(209 213 219/var(--tw-bg-opacity));border-color:rgb(0 0 0/var(--tw-border-opacity));border-radius:.25rem;border-width:1px;color:rgb(254 242 242/var(--tw-text-opacity));display:flex;flex-direction:row;font-weight:700;margin-bottom:1rem;margin-right:.5rem;margin-top:1rem;padding-bottom:.5rem;padding-top:.5rem;text-align:center;width:100%}.DarkblockWidget-Stack-Panel button.download:hover{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity));color:rgb(255 255 255/var(--tw-text-opacity))}@media (min-width:768px){.DarkblockWidget-Stack-Panel button.download{width:33.333333%}}.DarkblockWidget-Stack-Panel .details{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));font-size:.75rem;line-height:1rem;padding-left:1rem;padding-right:1rem;width:100%}@media (min-width:768px){.DarkblockWidget-Stack-Panel .details{font-size:.875rem;line-height:1.25rem}}.DarkblockWidget-Stack-Panel .darkblock-dropbtn .toggleIcon{--tw-text-opacity:1;background-image:none;border-radius:.25rem;color:rgb(17 24 39/var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem;margin-bottom:1px;padding:.75rem}.darkblock-box-menu-items{height:8rem;margin-left:1rem;margin-top:3px;width:18rem}.darkblock-is-not-downloadable{color:rgb(163 163 163/var(--tw-text-opacity));cursor:not-allowed}.darkblock-cursor-pointer,.darkblock-is-not-downloadable{--tw-text-opacity:1;align-items:center;display:flex;flex-direction:row;height:2.5rem;margin-bottom:.25rem}.darkblock-cursor-pointer{border-radius:.25rem;color:rgb(0 0 0/var(--tw-text-opacity));cursor:pointer;width:100%}.darkblock-cursor-pointer:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.darkblock-toggleBtn{width:3rem}.darkblock-titlebox-menu{--tw-text-opacity:1;align-items:flex-end;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex-direction:row;justify-content:space-between;margin-top:5px}.darkblock-title-menu{align-items:center;display:flex;height:2rem;overflow:hidden;padding-left:1rem;text-overflow:ellipsis;white-space:nowrap}.darkblock-toggle-container{display:flex;justify-content:center}.DarkblockWidget-Stack-Panel .dbdata .darkblock-toggle-container:hover .darkblock-toggle{--tw-bg-opacity:1;background-color:rgb(245 245 242/var(--tw-bg-opacity))}.DarkblockWidget-Stack-Panel .dbdata .darkblock-toggle-container:hover .Darkblock-toggleIcon{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.darkblock-toggle{border-radius:9999px;height:32px;width:32px}.Darkblock-toggleIcon{--tw-bg-opacity:1;color:rgb(115 115 115/var(--tw-bg-opacity))}.darkblock-icons{padding-left:.75rem;padding-right:.75rem}.DarkblockWdget-Stack-Panel .darkblock-placeholder{padding-left:1rem;width:-moz-fit-content;width:fit-content}.DarkblockWidget-Stack-Panel .darkblock-dropdown-content .darkblock-dropbtn{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;text-decoration-thickness:0}.darkblock-dropdown-content{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);--tw-shadow-color:#d1d5db;--tw-shadow:var(--tw-shadow-colored);border-radius:.25rem;bottom:0;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);left:0;margin:auto;right:0;top:0}.darkblock-dropdown-content .darkblock-box-menu{border-radius:.25rem;height:2.5rem;width:20rem}.darkblock-dropdown-content .darkblock-box-menu:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.DarkblockWidget-Stack-Panel .darkblock-dropdown-content{height:13rem;position:absolute;width:20rem;z-index:40}.DarkblockWidget-Stack-Panel .darkblock-dropdown-content,.DarkblockWidget-Stack-Panel .darkblock-dropdown:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.darkblock-box-menu{--tw-text-opacity:1;align-items:center;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex-direction:row;margin-bottom:.25rem;width:100%}.darkblock-box-menu:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));width:100%}.darkblock-elipsis-detail-modal{--tw-bg-opacity:1;--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);--tw-shadow-color:#d1d5db;--tw-shadow:var(--tw-shadow-colored);--tw-translate-x:-50%;--tw-translate-y:-50%;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-radius:.25rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;height:13rem;left:50%;margin:auto;max-height:18rem;padding:1rem;position:absolute;top:50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:20rem;z-index:30}.darkblock-elipsis-detail-modal .darkblock-dropdown:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.darkblock-elipsis-detail-modal .darkblock-dropdown-content{position:absolute}.darkblock-elipsis-detail-modal .darkblock-titlebox-menu{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex-direction:row;height:3rem;justify-content:space-between;padding-left:1rem}.scrollbar::-webkit-scrollbar{height:20px;width:20px}.scrollbar::-webkit-scrollbar-track{background:#f7f4ed;border-radius:100vh}.scrollbar::-webkit-scrollbar-thumb{background:#e0cbcb;border:3px solid #f6f7ed;border-radius:100vh}.scrollbar::-webkit-scrollbar-thumb:hover{background:#c0a0b9}.darkblock-player-modal{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));color:rgb(255 255 255/var(--tw-text-opacity));display:flex;height:64px;justify-content:space-between;padding-left:.75rem;padding-right:.75rem;width:100%;z-index:40}.darkblock-detail-subtitle{font-size:1rem;font-weight:700;line-height:1.5rem;margin-top:1.5rem}.darkblock-detail-subtitle-text{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem}.darkblock-button-container{float:right;margin-top:.75rem}.darkblock-modal-first-row{display:flex;justify-content:space-between}.darkblock-modal-first-row-container{display:flex}.darkblock-modal-title{align-items:center;display:flex;font-weight:700;justify-content:center}.darkblock-modal-name{font-size:1.25rem;font-weight:700;line-height:1.75rem;overflow:hidden;padding-top:.25rem;text-overflow:ellipsis;white-space:nowrap}.darkblock-modal-detail{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem;margin-top:2rem;max-width:32rem}#darkblock-modal-bg{--tw-bg-opacity:0.9;align-items:center;background-color:rgb(0 0 0/var(--tw-bg-opacity));bottom:0;display:flex;justify-content:center;left:0;overflow:auto;position:fixed;right:0;top:0;z-index:30}#darkblock-modal-box{--tw-bg-opacity:1;--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);background-color:rgb(255 255 255/var(--tw-bg-opacity));border-radius:.25rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);margin-left:2rem;margin-right:2rem;max-width:20rem;padding:1rem 1.5rem;text-align:left}@media (min-width:640px){#darkblock-modal-box{max-width:32rem}}@media (min-width:1024px){#darkblock-modal-box{max-width:48rem}}.darkblock-modal-box-container{--tw-bg-opacity:0.05;align-items:center;background-color:rgb(229 231 235/var(--tw-bg-opacity));bottom:0;display:flex;justify-content:center;left:0;overflow:auto;padding-bottom:1.75rem;padding-top:8rem;position:fixed;right:0;top:0;z-index:30}@media (min-width:640px){.darkblock-modal-box-container{padding-top:4rem}}.darkblock-modal-container{align-items:center;bottom:0;display:flex;justify-content:center;left:0;margin:1rem;outline:2px solid #0000;outline-offset:2px;overflow-x:hidden;overflow-y:auto;position:fixed;right:0;top:0;z-index:50}.darkblock-modal-container:focus{outline:2px solid #0000;outline-offset:2px}.darkblock-detail-container{display:block;padding-left:.5rem;padding-right:.5rem;width:100%}.darkblock-elipsis-cross-button{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity));height:2.5rem;position:absolute;right:0;top:0;width:2.5rem}.darkblock-cross-button{cursor:pointer;height:1.5rem;justify-content:flex-end;width:1.5rem}.darkblock-divider{margin-bottom:1rem;margin-top:1rem}.darkblock-arrows-container{display:flex;height:64px;position:sticky;top:100vh;width:100%}.Darkblock-player-modal-container-title-name{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity));font-size:.75rem;line-height:1rem;margin:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",{insertAt:"top"}),h(".DarkblockWidget-App{--tw-text-opacity:1;border-radius:.25rem;color:rgb(0 0 0/var(--tw-text-opacity));display:flex;flex-direction:column;position:relative;width:100%}.DarkblockWidget-Footer{--tw-text-opacity:1;bottom:0;color:rgb(163 163 163/var(--tw-text-opacity));display:inline-block;font-size:.75rem;line-height:1rem;margin-top:auto;padding-left:1rem;padding-top:1rem;position:relative;vertical-align:middle}.DarkblockWidget-Footer p{display:inline-block;margin-block-end:0;margin-block-start:0;vertical-align:middle}.DarkblockWidget-Footer div{display:inline-block;margin-bottom:1px;vertical-align:middle}.DarkblockWidget-Footer svg path{fill:#a3a3a3}",{insertAt:"top"});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var bm,wm,Em=function(){return Em=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Em.apply(this,arguments)};function Cm(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function Im(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bm(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function xm(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(bm||(bm={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(wm||(wm={}));var km=bm.Start,Qm=bm.Stop,_m=bm.Raise,Sm=bm.Send,Tm=bm.Cancel,Pm=bm.NullEvent,Om=bm.Assign;bm.After,bm.DoneState;var Dm=bm.Log,Nm=bm.Init,Rm=bm.Invoke;bm.ErrorExecution,bm.ErrorPlatform,bm.ErrorCustom;var zm,Lm=bm.Update,Mm=bm.Choose,Fm=bm.Pure,Hm={},jm="production"===process.env.NODE_ENV;function Vm(e,t,i){void 0===i&&(i=".");var n=qm(e,i),r=qm(t,i);return lv(r)?!!lv(n)&&r===n:lv(n)?n in r:Object.keys(n).every((function(e){return e in r&&Vm(n[e],r[e])}))}function Wm(e){try{return lv(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function Um(e,t){try{return av(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function qm(e,t){return"object"==typeof(i=e)&&"value"in i&&"context"in i&&"event"in i&&"_event"in i?e.value:av(e)?Xm(e):"string"!=typeof e?e:Xm(Um(e,t));var i}function Xm(e){if(1===e.length)return e[0];for(var t={},i=t,n=0;n<e.length-1;n++)n===e.length-2?i[e[n]]=e[n+1]:(i[e[n]]={},i=i[e[n]]);return t}function Ym(e,t){for(var i={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];i[o]=t(e[o],o,e,r)}return i}function Km(e,t,i){var n,r,o={};try{for(var a=Im(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];i(c)&&(o[l]=t(c,l,e))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}var Gm=function(e){return function(t){var i,n,r=t;try{for(var o=Im(e),a=o.next();!a.done;a=o.next())r=r[a.value]}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return r}};function Zm(e){return e?lv(e)?[[e]]:Jm(Object.keys(e).map((function(t){var i=e[t];return"string"==typeof i||i&&Object.keys(i).length?Zm(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Jm(e){var t;return(t=[]).concat.apply(t,xm([],Bm(e),!1))}function $m(e){return av(e)?e:[e]}function ev(e){return void 0===e?[]:$m(e)}function tv(e,t,i){var n,r;if(sv(e))return e(t,i.data);var o={};try{for(var a=Im(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];sv(c)?o[l]=c(t,i.data):o[l]=c}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function iv(e,t){var i,n,r=Bm([[],[]],2),o=r[0],a=r[1];try{for(var s=Im(e),l=s.next();!l.done;l=s.next()){var c=l.value;t(c)?o.push(c):a.push(c)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return[o,a]}function nv(e,t){return Ym(e.states,(function(e,i){if(e){var n=(lv(t)?void 0:t[i])||(e?e.current:void 0);if(n)return{current:n,states:nv(e,n)}}}))}function rv(e,t,i,n){jm||ov(!!e,"Attempting to update undefined context");var r=e?i.reduce((function(e,i){var r,o,a=i.assignment,s={state:n,action:i,_event:t},l={};if(sv(a))l=a(e,t.data,s);else try{for(var c=Im(Object.keys(a)),u=c.next();!u.done;u=c.next()){var h=u.value,d=a[h];l[h]=sv(d)?d(e,t.data,s):d}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return Object.assign({},e,l)}),e):e;return r}var ov=function(){};function av(e){return Array.isArray(e)}function sv(e){return"function"==typeof e}function lv(e){return"string"==typeof e}function cv(e,t){if(e)return lv(e)?{type:"xstate.guard",name:e,predicate:t?t[e]:void 0}:sv(e)?{type:"xstate.guard",name:e.name,predicate:e}:e}jm||(ov=function(e,t){var i=e instanceof Error?e:void 0;if((i||!e)&&void 0!==console){var n=["Warning: ".concat(t)];i&&n.push(i),console.warn.apply(console,n)}});var uv="function"==typeof Symbol&&Symbol.observable||"@@observable";function hv(e){return!!e&&"__xstatenode"in e}function dv(e,t){return lv(e)||"number"==typeof e?Em({type:e},t):e}function pv(e,t){if(!lv(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var i=dv(e);return Em({name:i.type,data:i,$$type:"scxml",type:"external"},t)}function gv(e,t){return $m(t).map((function(t){return void 0===t||"string"==typeof t||hv(t)?{target:t,event:e}:Em(Em({},t),{event:e})}))}function fv(e,t,i,n,r){var o=e.options.guards,a={state:r,cond:t,_event:n};if("xstate.guard"===t.type)return((null==o?void 0:o[t.name])||t.predicate)(i,n.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(i,n.data,a)}function Av(e,t){return"".concat(e,":invocation[").concat(t,"]")}(zm={})[uv]=function(){return this},zm[Symbol.observable]=function(){return this};var mv=pv({type:Nm});function vv(e,t){return t&&t[e]||void 0}function yv(e,t){var i;if(lv(e)||"number"==typeof e)i=sv(n=vv(e,t))?{type:e,exec:n}:n||{type:e,exec:void 0};else if(sv(e))i={type:e.name||e.toString(),exec:e};else{var n;if(sv(n=vv(e.type,t)))i=Em(Em({},e),{exec:n});else if(n){var r=n.type||e.type;i=Em(Em(Em({},n),e),{type:r})}else i=e}return i}var bv=function(e,t){return e?(av(e)?e:[e]).map((function(e){return yv(e,t)})):[]};function wv(e){var t=yv(e);return Em(Em({id:lv(e)?e:t.id},t),{type:t.type})}function Ev(e){return lv(e)?{type:_m,event:e}:Cv(e,{to:wm.Internal})}function Cv(e,t){return{to:t?t.to:void 0,type:Sm,event:sv(e)?e:dv(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:sv(e)?e.name:Wm(e)}}function Iv(e,t){var i="".concat(bm.DoneState,".").concat(e);return{type:i,data:t,toString:function(){return i}}}function Bv(e,t,i,n,r,o){void 0===o&&(o=!1);var a=Bm(o?[[],r]:iv(r,(function(e){return e.type===Om})),2),s=a[0],l=a[1],c=s.length?rv(i,n,s,t):i,u=o?[i]:void 0,h=Jm(l.map((function(i){var r;switch(i.type){case _m:return{type:_m,_event:pv(i.event)};case Sm:var a=function(e,t,i,n){var r,o={_event:i},a=pv(sv(e.event)?e.event(t,i.data,o):e.event);if(lv(e.delay)){var s=n&&n[e.delay];r=sv(s)?s(t,i.data,o):s}else r=sv(e.delay)?e.delay(t,i.data,o):e.delay;var l=sv(e.to)?e.to(t,i.data,o):e.to;return Em(Em({},e),{to:l,_event:a,event:a.data,delay:r})}(i,c,n,e.options.delays);return jm||ov(!lv(i.delay)||"number"==typeof a.delay,"No delay reference for delay expression '".concat(i.delay,"' was found on machine '").concat(e.id,"'")),a;case Dm:return function(e,t,i){return Em(Em({},e),{value:lv(e.expr)?e.expr:e.expr(t,i.data,{_event:i})})}(i,c,n);case Mm:if(!(d=null===(r=i.conds.find((function(i){var r=cv(i.cond,e.options.guards);return!r||fv(e,r,c,n,t)})))||void 0===r?void 0:r.actions))return[];var s=Bm(Bv(e,t,c,n,bv(ev(d),e.options.actions),o),2),l=s[0],h=s[1];return c=h,null==u||u.push(c),l;case Fm:var d;if(!(d=i.get(c,n.data)))return[];var p=Bm(Bv(e,t,c,n,bv(ev(d),e.options.actions),o),2),g=p[0],f=p[1];return c=f,null==u||u.push(c),g;case Qm:return function(e,t,i){var n=sv(e.activity)?e.activity(t,i.data):e.activity,r="string"==typeof n?{id:n}:n;return{type:bm.Stop,activity:r}}(i,c,n);case Om:c=rv(c,n,[i],t),null==u||u.push(c);break;default:var A=yv(i,e.options.actions),m=A.exec;if(m&&u){var v=u.length-1;A=Em(Em({},A),{exec:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];m.apply(void 0,xm([u[v]],Bm(t),!1))}})}return A}})).filter((function(e){return!!e})));return[h,c]}function xv(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[uv]=function(){return this},t}var kv=function(e){return"atomic"===e.type||"final"===e.type};function Qv(e){return Object.keys(e.states).map((function(t){return e.states[t]})).filter((function(e){return"history"!==e.type}))}function _v(e){var t=[e];return kv(e)?t:t.concat(Jm(Qv(e).map(_v)))}function Sv(e,t){var i,n,r,o,a,s,l,c,u=Pv(new Set(e)),h=new Set(t);try{for(var d=Im(h),p=d.next();!p.done;p=d.next())for(var g=(C=p.value).parent;g&&!h.has(g);)h.add(g),g=g.parent}catch(e){i={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}var f=Pv(h);try{for(var A=Im(h),m=A.next();!m.done;m=A.next())if("compound"!==(C=m.value).type||f.get(C)&&f.get(C).length){if("parallel"===C.type)try{for(var v=(a=void 0,Im(Qv(C))),y=v.next();!y.done;y=v.next()){var b=y.value;h.has(b)||(h.add(b),u.get(b)?u.get(b).forEach((function(e){return h.add(e)})):b.initialStateNodes.forEach((function(e){return h.add(e)})))}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}else u.get(C)?u.get(C).forEach((function(e){return h.add(e)})):C.initialStateNodes.forEach((function(e){return h.add(e)}))}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=A.return)&&o.call(A)}finally{if(r)throw r.error}}try{for(var w=Im(h),E=w.next();!E.done;E=w.next()){var C;for(g=(C=E.value).parent;g&&!h.has(g);)h.add(g),g=g.parent}}catch(e){l={error:e}}finally{try{E&&!E.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}return h}function Tv(e,t){var i=t.get(e);if(!i)return{};if("compound"===e.type){var n=i[0];if(!n)return{};if(kv(n))return n.key}var r={};return i.forEach((function(e){r[e.key]=Tv(e,t)})),r}function Pv(e){var t,i,n=new Map;try{for(var r=Im(e),o=r.next();!o.done;o=r.next()){var a=o.value;n.has(a)||n.set(a,[]),a.parent&&(n.has(a.parent)||n.set(a.parent,[]),n.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n}function Ov(e,t){return Tv(e,Pv(Sv([e],t)))}function Dv(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function Nv(e,t){return"compound"===t.type?Qv(t).some((function(t){return"final"===t.type&&Dv(e,t)})):"parallel"===t.type&&Qv(t).every((function(t){return Nv(e,t)}))}function Rv(e){return new Set(Jm(e.map((function(e){return e.tags}))))}function zv(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(lv(e)||lv(t))return e===t;var i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((function(i){return zv(e[i],t[i])}))}var Lv=function(){function e(e){var t,i,n=this;this.actions=[],this.activities=Hm,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Hm,this.meta=(void 0===(i=e.configuration)&&(i=[]),i.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return xm([],Bm(new Set(Jm(xm([],Bm(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(n.configuration)}})}return e.from=function(t,i){return t instanceof e?t.context!==i?new e({value:t.value,context:i,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:i,_event:mv,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,i){if(t instanceof e){if(!t.actions.length)return t;var n=mv;return new e({value:t.value,context:i,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,i)},e.prototype.toStrings=function(e,t){var i=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),lv(e))return[e];var n=Object.keys(e);return n.concat.apply(n,xm([],Bm(n.map((function(n){return i.toStrings(e[n],t).map((function(e){return n+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var i=Cm(e,["configuration","transitions","tags","machine"]);return Em(Em({},i),{tags:Array.from(t)})},e.prototype.matches=function(e){return Vm(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;jm&&ov(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var i=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==i?void 0:i.transitions.length)&&i.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}();function Mv(e){return"string"==typeof e?{type:e,toString:function(){return e}}:e}function Fv(e){return Em(Em({type:Rm},e),{toJSON:function(){e.onDone,e.onError;var t=Cm(e,["onDone","onError"]);return Em(Em({},t),{type:Rm,src:Mv(e.src)})}})}var Hv={},jv=function(e){return"#"===e[0]},Vv=function(){function e(t,i,n,r){var o,a=this;void 0===n&&(n="context"in t?t.context:void 0),this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},i),this.parent=null==r?void 0:r.parent,this.key=this.config.key||(null==r?void 0:r.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||xm([this.machine.key],Bm(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,jm||ov(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?Ym(this.config.states,(function(t,i){var n,r=new e(t,{},void 0,{parent:a,key:i});return Object.assign(a.idMap,Em(((n={})[r.id]=r,n),r.idMap)),r})):Hv;var s=0;!function e(t){var i,n;t.order=s++;try{for(var r=Im(Qv(t)),o=r.next();!o.done;o=r.next())e(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=ev(this.config.entry||this.config.onEntry).map((function(e){return yv(e)})),this.onExit=ev(this.config.exit||this.config.onExit).map((function(e){return yv(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=ev(this.config.invoke).map((function(e,t){var i,n;if(hv(e)){var r=Av(a.id,t);return a.machine.options.services=Em(((i={})[r]=e,i),a.machine.options.services),Fv({src:r,id:r})}if(lv(e.src))return r=e.id||Av(a.id,t),Fv(Em(Em({},e),{id:r,src:e.src}));if(hv(e.src)||sv(e.src))return r=e.id||Av(a.id,t),a.machine.options.services=Em(((n={})[r]=e.src,n),a.machine.options.services),Fv(Em(Em({id:r},e),{src:r}));var o=e.src;return Fv(Em(Em({id:Av(a.id,t)},e),{src:o}))})),this.activities=ev(this.config.activities).concat(this.invoke).map((function(e){return wv(e)})),this.transition=this.transition.bind(this),this.tags=ev(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||_v(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,i){var n=this.options,r=n.actions,o=n.activities,a=n.guards,s=n.services,l=n.delays;return new e(this.config,{actions:Em(Em({},r),t.actions),activities:Em(Em({},o),t.activities),guards:Em(Em({},a),t.guards),services:Em(Em({},s),t.services),delays:Em(Em({},l),t.delays)},null!=i?i:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return sv(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ym(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,i=this.transitions.filter((function(i){var n=i.eventType===e;return t?n:n||"*"===i.eventType}));return this.__cache.candidates[e]=i,i},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var i=function(t,i){var n=function(e,t){var i=t?"#".concat(t):"";return"".concat(bm.After,"(").concat(e,")").concat(i)}(sv(t)?"".concat(e.id,":delay[").concat(i,"]"):t,e.id);return e.onEntry.push(Cv(n,{delay:t})),e.onExit.push({type:Tm,sendId:n}),n};return(av(t)?t.map((function(e,t){var n=i(e.delay,t);return Em(Em({},e),{event:n})})):Jm(Object.keys(t).map((function(e,n){var r=t[e],o=lv(r)?{target:r}:r,a=isNaN(+e)?e:+e,s=i(a,n);return ev(o).map((function(e){return Em(Em({},e),{event:s,delay:a})}))})))).map((function(t){var i=t.delay;return Em(Em({},e.formatTransition(t)),{delay:i})}))},e.prototype.getStateNodes=function(e){var t,i=this;if(!e)return[];var n=e instanceof Lv?e.value:qm(e,this.delimiter);if(lv(n)){var r=this.getStateNode(n).initial;return void 0!==r?this.getStateNodes(((t={})[n]=r,t)):[this,this.states[n]]}var o=Object.keys(n),a=[this];return a.push.apply(a,xm([],Bm(Jm(o.map((function(e){return i.getStateNode(e).getStateNodes(n[e])})))),!1)),a},e.prototype.handles=function(e){var t=Wm(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof Lv?e:Lv.create(e),i=Array.from(Sv([],this.getStateNodes(t.value)));return new Lv(Em(Em({},t),{value:this.resolve(t.value),configuration:i,done:Nv(i,this),tags:Rv(i),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,i){var n=this.getStateNode(e).next(t,i);return n&&n.transitions.length?n:this.next(t,i)},e.prototype.transitionCompoundNode=function(e,t,i){var n=Object.keys(e),r=this.getStateNode(n[0])._transition(e[n[0]],t,i);return r&&r.transitions.length?r:this.next(t,i)},e.prototype.transitionParallelNode=function(e,t,i){var n,r,o={};try{for(var a=Im(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];if(c){var u=this.getStateNode(l)._transition(c,t,i);u&&(o[l]=u)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var h=Object.keys(o).map((function(e){return o[e]})),d=Jm(h.map((function(e){return e.transitions})));if(!h.some((function(e){return e.transitions.length>0})))return this.next(t,i);var p=Jm(h.map((function(e){return e.entrySet}))),g=Jm(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:d,entrySet:p,exitSet:Jm(h.map((function(e){return e.exitSet}))),configuration:g,source:t,actions:Jm(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,i){return lv(e)?this.transitionLeafNode(e,t,i):1===Object.keys(e).length?this.transitionCompoundNode(e,t,i):this.transitionParallelNode(e,t,i)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,pv(t))},e.prototype.next=function(e,t){var i,n,r,o=this,a=t.name,s=[],l=[];try{for(var c=Im(this.getCandidates(a)),u=c.next();!u.done;u=c.next()){var h=u.value,d=h.cond,p=h.in,g=e.context,f=!p||(lv(p)&&jv(p)?e.matches(qm(this.getStateNodeById(p).path,this.delimiter)):Vm(qm(p,this.delimiter),Gm(this.path.slice(0,-2))(e.value))),A=!1;try{A=!d||fv(this.machine,d,g,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(A&&f){void 0!==h.target&&(l=h.target),s.push.apply(s,xm([],Bm(h.actions),!1)),r=h;break}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}if(r){if(!l.length)return{transitions:[r],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var m=Jm(l.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)}))),v=!!r.internal,y=v?[]:Jm(m.map((function(e){return o.nodesFromChild(e)})));return{transitions:[r],entrySet:y,exitSet:v?[]:[this],configuration:m,source:e,actions:s}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],i=e;i&&i!==this;)t.push(i),i=i.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,i,n){var r,o,a,s,l=Sv([],n?this.getStateNodes(n.value):[this]),c=e.configuration.length?Sv(l,e.configuration):l;try{for(var u=Im(c),h=u.next();!h.done;h=u.next())Dv(l,g=h.value)||e.entrySet.push(g)}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}try{for(var d=Im(l),p=d.next();!p.done;p=d.next()){var g;Dv(c,g=p.value)&&!Dv(e.exitSet,g.parent)||e.exitSet.push(g)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}var f=Jm(e.entrySet.map((function(n){var r=[];if("final"!==n.type)return r;var o=n.parent;if(!o.parent)return r;r.push(Iv(n.id,n.doneData),Iv(o.id,n.doneData?tv(n.doneData,t,i):void 0));var a=o.parent;return"parallel"===a.type&&Qv(a).every((function(t){return Nv(e.configuration,t)}))&&r.push(Iv(a.id)),r})));e.exitSet.sort((function(e,t){return t.order-e.order})),e.entrySet.sort((function(e,t){return e.order-t.order}));var A=new Set(e.entrySet),m=new Set(e.exitSet),v=Bm([Jm(Array.from(A).map((function(e){return xm(xm([],Bm(e.activities.map((function(e){return function(e){var t=wv(e);return{type:bm.Start,activity:t,exec:void 0}}(e)}))),!1),Bm(e.onEntry),!1)}))).concat(f.map(Ev)),Jm(Array.from(m).map((function(e){return xm(xm([],Bm(e.onExit),!1),Bm(e.activities.map((function(e){return function(e){var t=sv(e)?e:wv(e);return{type:bm.Stop,activity:t,exec:void 0}}(e)}))),!1)})))],2),y=v[0],b=v[1];return bv(b.concat(e.actions).concat(y),this.machine.options.actions)},e.prototype.transition=function(e,t,i){void 0===e&&(e=this.initialState);var n,r,o=pv(t);if(e instanceof Lv)n=void 0===i?e:this.resolveState(Lv.from(e,i));else{var a=lv(e)?this.resolve(Xm(this.getResolvedPath(e))):this.resolve(e),s=null!=i?i:this.machine.context;n=this.resolveState(Lv.from(a,s))}if(!jm&&"*"===o.name)throw new Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(o.name)&&(r=o.name,!/^(done|error)\./.test(r)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var l=this._transition(n.value,n,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:n,actions:[]},c=Sv([],this.getStateNodes(n.value)),u=l.configuration.length?Sv(c,l.configuration):c;return l.configuration=xm([],Bm(u),!1),this.resolveTransition(l,n,n.context,o)},e.prototype.resolveRaisedTransition=function(e,t,i){var n,r=e.actions;return(e=this.transition(e,t))._event=i,e.event=i.data,(n=e.actions).unshift.apply(n,xm([],Bm(r),!1)),e},e.prototype.resolveTransition=function(e,t,i,n){var r,o,a=this;void 0===n&&(n=mv);var s=e.configuration,l=!t||e.transitions.length>0,c=l?Ov(this.machine,s):void 0,u=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,h=this.getActions(e,i,n,t),d=t?Em({},t.activities):{};try{for(var p=Im(h),g=p.next();!g.done;g=p.next()){var f=g.value;f.type===km?d[f.activity.id||f.activity.type]=f:f.type===Qm&&(d[f.activity.id||f.activity.type]=!1)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}var A,m,v=Bm(Bv(this,t,i,n,h,this.machine.config.preserveActionOrder),2),y=v[0],b=v[1],w=Bm(iv(y,(function(e){return e.type===_m||e.type===Sm&&e.to===wm.Internal})),2),E=w[0],C=w[1],I=y.filter((function(e){var t;return e.type===km&&(null===(t=e.activity)||void 0===t?void 0:t.type)===Rm})),B=I.reduce((function(e,t){return e[t.activity.id]=function(e,t,i,n){var r,o,a="string"==typeof(o=e.src)?{type:o}:o,s=null===(r=null==t?void 0:t.options.services)||void 0===r?void 0:r[a.type],l=e.data?tv(e.data,i,n):void 0,c=s?function(e,t,i){var n=xv(t);if(n.deferred=!0,hv(e)){var r=n.state=(i?e.withContext(i):e).initialState;n.getSnapshot=function(){return r}}return n}(s,e.id,l):xv(e.id);return c.meta=e,c}(t.activity,a.machine,b,n),e}),t?Em({},t.children):{}),x=l?e.configuration:t?t.configuration:[],k=Nv(x,this),Q=new Lv({value:c||t.value,context:b,_event:n,_sessionid:t?t._sessionid:null,historyValue:c?u?(A=u,m=c,{current:m,states:nv(A,m)}):void 0:t?t.historyValue:void 0,history:!c||e.source?t:void 0,actions:c?C:[],activities:c?d:t?t.activities:{},events:[],configuration:x,transitions:e.transitions,children:B,done:k,tags:Rv(x),machine:this}),_=i!==b;Q.changed=n.name===Lm||_;var S=Q.history;S&&delete S.history;var T=!k&&(this._transient||s.some((function(e){return e._transient})));if(!(l||T&&""!==n.name))return Q;var P=Q;if(!k)for(T&&(P=this.resolveRaisedTransition(P,{type:Pm},n));E.length;){var O=E.shift();P=this.resolveRaisedTransition(P,O._event,n)}var D=P.changed||(S?!!P.actions.length||_||typeof S.value!=typeof P.value||!zv(P.value,S.value):void 0);return P.changed=D,P.history=S,P},e.prototype.getStateNode=function(e){if(jv(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=jv(e)?e.slice("#".length):e;if(t===this.id)return this;var i=this.machine.idMap[t];if(!i)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return i},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&jv(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=Um(e,this.delimiter).slice(),i=this;t.length;){var n=t.shift();if(!n.length)break;i=i.getStateNode(n)}return i},e.prototype.resolve=function(e){var t,i=this;if(!e)return this.initialStateValue||Hv;switch(this.type){case"parallel":return Ym(this.initialStateValue,(function(t,n){return t?i.getStateNode(n).resolve(e[n]||t):Hv}));case"compound":if(lv(e)){var n=this.getStateNode(e);return"parallel"===n.type||"compound"===n.type?((t={})[e]=n.initialStateValue,t):e}return Object.keys(e).length?Ym(e,(function(e,t){return e?i.getStateNode(t).resolve(e):Hv})):this.initialStateValue||{};default:return e||Hv}},e.prototype.getResolvedPath=function(e){if(jv(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Um(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Km(this.states,(function(e){return e.initialStateValue||Hv}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=kv(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var i=this.getStateNodes(e);return this.resolveTransition({configuration:i,entrySet:i,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=lv(t.target)&&jv(t.target)?Xm(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,i){return void 0===i&&(i=!0),i?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return kv(this)?[this]:"compound"!==this.type||this.initial?Jm(Zm(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(jm||ov(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Bm(e),i=t[0],n=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(i,"' from node with no states"));var r=this.getStateNode(i);if("history"===r.type)return r.resolveHistory();if(!this.states[i])throw new Error("Child state '".concat(i,"' does not exist on '").concat(this.id,"'"));return this.states[i].getFromRelativePath(n)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Km(this.states,(function(t,i){if(!e)return t.historyValue();var n=lv(e)?void 0:e[i];return t.historyValue(n||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var i=this.parent;if(!e){var n=this.target;return n?Jm(Zm(n).map((function(e){return i.getFromRelativePath(e)}))):i.initialStateNodes}var r,o=(r=i.path,"states",function(e){var t,i,n=e;try{for(var o=Im(r),a=o.next();!a.done;a=o.next()){var s=a.value;n=n.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return n})(e).current;return lv(o)?[i.getStateNode(o)]:Jm(Zm(o).map((function(e){return"deep"===t.history?i.getFromRelativePath(e):[i.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Jm(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,i,n;if(this.__cache.events)return this.__cache.events;var r=this.states,o=new Set(this.ownEvents);if(r)try{for(var a=Im(Object.keys(r)),s=a.next();!s.done;s=a.next()){var l=r[s.value];if(l.states)try{for(var c=(i=void 0,Im(l.events)),u=c.next();!u.done;u=c.next()){var h=u.value;o.add("".concat(h))}}catch(e){i={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!lv(e))return e;var i=e[0]===t.delimiter;if(i&&!t.parent)return t.getStateNodeByPath(e.slice(1));var n=i?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(n);try{return t.parent.getStateNodeByPath(n)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,i=function(e){if(void 0!==e&&""!==e)return ev(e)}(e.target),n="internal"in e?e.internal:!i||i.some((function(e){return lv(e)&&e[0]===t.delimiter})),r=this.machine.options.guards,o=this.resolveTarget(i),a=Em(Em({},e),{actions:bv(ev(e.actions)),cond:cv(e.cond,r),target:o,source:this,internal:n,eventType:e.event,toJSON:function(){return Em(Em({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,i,n=this;if(this.config.on)if(Array.isArray(this.config.on))i=this.config.on;else{var r=this.config.on,o=r["*"],a=void 0===o?[]:o,s=Cm(r,["*"]);i=Jm(Object.keys(s).map((function(e){jm||""!==e||ov(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(n.id,'".'));var t,i,r,o,a=gv(e,s[e]);return jm||(t=n,i=e,r=a.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(lv(e.target)||hv(e.target))})),o=""===i?"the transient event":"event '".concat(i,"'"),ov(!r,"One or more transitions for ".concat(o," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")),a})).concat(gv("*",a)))}else i=[];var l=this.config.always?gv("",this.config.always):[],c=this.config.onDone?gv(String(Iv(this.id)),this.config.onDone):[];jm||ov(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var u=Jm(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,xm([],Bm(gv(String(function(e,t){var i="".concat(bm.DoneInvoke,".").concat(e);return{type:i,data:void 0,toString:function(){return i}}}(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,xm([],Bm(gv(String(function(e,t){var i="".concat(bm.ErrorPlatform,".").concat(e);return{type:i,data:void 0,toString:function(){return i}}}(e.id)),e.onError)),!1)),t}))),h=this.after,d=Jm(xm(xm(xm(xm([],Bm(c),!1),Bm(u),!1),Bm(i),!1),Bm(l),!1).map((function(e){return ev(e).map((function(e){return n.formatTransition(e)}))})));try{for(var p=Im(h),g=p.next();!g.done;g=p.next()){var f=g.value;d.push(f)}}catch(t){e={error:t}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return d},e}();function Wv(e,t){return new Vv(e,t)}const Uv=["aac","bmp","cbr","epub","flac","gif","glb","html","jpg","m4a","mkv","mp3","mp4","mpeg","ogg","ogv","opus","pdf","png","svg","tgz","usdz","wav","webm","zip"],qv=({fileState:e,setFileState:t})=>{const{t:i}=yr();return c.default.createElement("div",{className:"Darkblock-fileupload-container"},c.default.createElement("div",null,c.default.createElement("h4",{className:"Darkblock-fileupload-header"},i("fileUpload")),c.default.createElement("p",{className:"Darkblock-fileupload-header-supported"},i("supportedFileFormats"),":"),c.default.createElement("p",{className:"Darkblock-fileupload-formats"},Uv.join(", ")),c.default.createElement("p",{className:"Darkblock-fileupload-info"},i("maxFileSize")),c.default.createElement("div",{style:{display:"flex",alignItems:"center"},className:"hidden"},c.default.createElement("span",{id:"size"}))),c.default.createElement("div",{className:"Darkblock-fileupload-input-container"},c.default.createElement("input",{id:"file-upload",type:"file",className:"Darkblock-fileupload-button",name:"fileUpload",accept:Uv.join(" "),onChange:e=>{if(e.target.files){let i=e.target.files[0];t(i)}}}),c.default.createElement("label",{htmlFor:"Darkblock-file-upload"},e&&/\.(?=gif|jpg|png|jpeg)/gi.test(e.name)&&c.default.createElement("img",{src:URL.createObjectURL(e),width:"100px",height:"100px"}))))};var Xv={exports:{}};Xv.exports=function(){var e=e||function(e,t){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==hi&&hi.crypto&&(i=hi.crypto),!i)try{i=require("crypto")}catch(e){}var n=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),o={},a=o.lib={},s=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++){var a=i[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<r;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(n());return new l.init(t,e)}}),c=o.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(i,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(i,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,o);if(c){for(var h=0;h<c;h+=a)this._doProcessBlock(r,h);i=r.splice(0,c),n.sigBytes-=u}return new l.init(i,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new g.HMAC.init(e,i).finalize(t)}}});var g=o.algo={};return o}(Math);return e}(),function(e){return i=(t=e).lib,n=i.Base,r=i.WordArray,(o=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var o=e[n];i.push(o.high),i.push(o.low)}return r.create(i,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),i=t.length,r=0;r<i;r++)t[r]=t[r].clone();return e}}),e;var t,i,n,r,o}(Xv.exports),function(e){(function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,i=t.init,n=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],r=0;r<t;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)};n.prototype=t}})(),e.lib.WordArray}(Xv.exports),function(e){(function(){var t=e,i=t.lib.WordArray,n=t.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return i.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],o=0;o<i;o+=2){var a=r(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return i.create(n,2*t)}}})(),e.enc.Utf16}(Xv.exports),function(e){(function(){var t=e,i=t.lib.WordArray;function n(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=s<<24-o%4*8,o++}return i.create(r,o)}t.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],o=0;o<i;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)r.push(n.charAt(a>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<i.length;o++)r[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),e.enc.Base64}(Xv.exports),function(e){(function(){var t=e,i=t.lib.WordArray;function n(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=s<<24-o%4*8,o++}return i.create(r,o)}t.enc.Base64url={stringify:function(e,t=!0){var i=e.words,n=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<n;a+=3)for(var s=(i[a>>>2]>>>24-a%4*8&255)<<16|(i[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|i[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<n;l++)o.push(r.charAt(s>>>6*(3-l)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t=!0){var i=e.length,r=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<r.length;a++)o[r.charCodeAt(a)]=a}var s=r.charAt(64);if(s){var l=e.indexOf(s);-1!==l&&(i=l)}return n(e,i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}})(),e.enc.Base64url}(Xv.exports),function(e){(function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,a=i.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,a=e[t+0],l=e[t+1],p=e[t+2],g=e[t+3],f=e[t+4],A=e[t+5],m=e[t+6],v=e[t+7],y=e[t+8],b=e[t+9],w=e[t+10],E=e[t+11],C=e[t+12],I=e[t+13],B=e[t+14],x=e[t+15],k=o[0],Q=o[1],_=o[2],S=o[3];k=c(k,Q,_,S,a,7,s[0]),S=c(S,k,Q,_,l,12,s[1]),_=c(_,S,k,Q,p,17,s[2]),Q=c(Q,_,S,k,g,22,s[3]),k=c(k,Q,_,S,f,7,s[4]),S=c(S,k,Q,_,A,12,s[5]),_=c(_,S,k,Q,m,17,s[6]),Q=c(Q,_,S,k,v,22,s[7]),k=c(k,Q,_,S,y,7,s[8]),S=c(S,k,Q,_,b,12,s[9]),_=c(_,S,k,Q,w,17,s[10]),Q=c(Q,_,S,k,E,22,s[11]),k=c(k,Q,_,S,C,7,s[12]),S=c(S,k,Q,_,I,12,s[13]),_=c(_,S,k,Q,B,17,s[14]),k=u(k,Q=c(Q,_,S,k,x,22,s[15]),_,S,l,5,s[16]),S=u(S,k,Q,_,m,9,s[17]),_=u(_,S,k,Q,E,14,s[18]),Q=u(Q,_,S,k,a,20,s[19]),k=u(k,Q,_,S,A,5,s[20]),S=u(S,k,Q,_,w,9,s[21]),_=u(_,S,k,Q,x,14,s[22]),Q=u(Q,_,S,k,f,20,s[23]),k=u(k,Q,_,S,b,5,s[24]),S=u(S,k,Q,_,B,9,s[25]),_=u(_,S,k,Q,g,14,s[26]),Q=u(Q,_,S,k,y,20,s[27]),k=u(k,Q,_,S,I,5,s[28]),S=u(S,k,Q,_,p,9,s[29]),_=u(_,S,k,Q,v,14,s[30]),k=h(k,Q=u(Q,_,S,k,C,20,s[31]),_,S,A,4,s[32]),S=h(S,k,Q,_,y,11,s[33]),_=h(_,S,k,Q,E,16,s[34]),Q=h(Q,_,S,k,B,23,s[35]),k=h(k,Q,_,S,l,4,s[36]),S=h(S,k,Q,_,f,11,s[37]),_=h(_,S,k,Q,v,16,s[38]),Q=h(Q,_,S,k,w,23,s[39]),k=h(k,Q,_,S,I,4,s[40]),S=h(S,k,Q,_,a,11,s[41]),_=h(_,S,k,Q,g,16,s[42]),Q=h(Q,_,S,k,m,23,s[43]),k=h(k,Q,_,S,b,4,s[44]),S=h(S,k,Q,_,C,11,s[45]),_=h(_,S,k,Q,x,16,s[46]),k=d(k,Q=h(Q,_,S,k,p,23,s[47]),_,S,a,6,s[48]),S=d(S,k,Q,_,v,10,s[49]),_=d(_,S,k,Q,B,15,s[50]),Q=d(Q,_,S,k,A,21,s[51]),k=d(k,Q,_,S,C,6,s[52]),S=d(S,k,Q,_,g,10,s[53]),_=d(_,S,k,Q,w,15,s[54]),Q=d(Q,_,S,k,l,21,s[55]),k=d(k,Q,_,S,y,6,s[56]),S=d(S,k,Q,_,x,10,s[57]),_=d(_,S,k,Q,m,15,s[58]),Q=d(Q,_,S,k,I,21,s[59]),k=d(k,Q,_,S,f,6,s[60]),S=d(S,k,Q,_,E,10,s[61]),_=d(_,S,k,Q,p,15,s[62]),Q=d(Q,_,S,k,b,21,s[63]),o[0]=o[0]+k|0,o[1]=o[1]+Q|0,o[2]=o[2]+_|0,o[3]=o[3]+S|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;i[r>>>5]|=128<<24-r%32;var o=t.floor(n/4294967296),a=n;i[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,i,n,r,o,a){var s=e+(t&i|~t&n)+r+a;return(s<<o|s>>>32-o)+t}function u(e,t,i,n,r,o,a){var s=e+(t&n|i&~n)+r+a;return(s<<o|s>>>32-o)+t}function h(e,t,i,n,r,o,a){var s=e+(t^i^n)+r+a;return(s<<o|s>>>32-o)+t}function d(e,t,i,n,r,o,a){var s=e+(i^(t|~n))+r+a;return(s<<o|s>>>32-o)+t}i.MD5=o._createHelper(l),i.HmacMD5=o._createHmacHelper(l)})(Math),e.MD5}(Xv.exports),function(e){return i=(t=e).lib,n=i.WordArray,r=i.Hasher,o=t.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],s=i[3],l=i[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var u=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=u<<1|u>>>31}var h=(n<<5|n>>>27)+l+a[c];h+=c<20?1518500249+(r&o|~r&s):c<40?1859775393+(r^o^s):c<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,l=s,s=o,o=r<<30|r>>>2,r=n,n=h}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s),e.SHA1;var t,i,n,r,o,a,s}(Xv.exports),function(e){(function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,a=i.algo,s=[],l=[];!function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(s[r]=i(t.pow(n,.5))),l[r]=i(t.pow(n,1/3)),r++),n++}();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5],h=i[6],d=i[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var g=c[p-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,A=c[p-2],m=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;c[p]=f+c[p-7]+m+c[p-16]}var v=n&r^n&o^r&o,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+l[p]+c[p];d=h,h=u,u=s,s=a+b|0,a=o,o=r,r=n,n=b+(y+v)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0,i[5]=i[5]+u|0,i[6]=i[6]+h|0,i[7]=i[7]+d|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=o._createHelper(u),i.HmacSHA256=o._createHmacHelper(u)})(Math),e.SHA256}(Xv.exports),function(e){return i=(t=e).lib.WordArray,n=t.algo,r=n.SHA256,o=n.SHA224=r.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=r._createHelper(o),t.HmacSHA224=r._createHmacHelper(o),e.SHA224;var t,i,n,r,o}(Xv.exports),function(e){(function(){var t=e,i=t.lib.Hasher,n=t.x64,r=n.Word,o=n.WordArray,a=t.algo;function s(){return r.create.apply(r,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var u=a.SHA512=i.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5],h=i[6],d=i[7],p=n.high,g=n.low,f=r.high,A=r.low,m=o.high,v=o.low,y=a.high,b=a.low,w=s.high,E=s.low,C=u.high,I=u.low,B=h.high,x=h.low,k=d.high,Q=d.low,_=p,S=g,T=f,P=A,O=m,D=v,N=y,R=b,z=w,L=E,M=C,F=I,H=B,j=x,V=k,W=Q,U=0;U<80;U++){var q,X,Y=c[U];if(U<16)X=Y.high=0|e[t+2*U],q=Y.low=0|e[t+2*U+1];else{var K=c[U-15],G=K.high,Z=K.low,J=(G>>>1|Z<<31)^(G>>>8|Z<<24)^G>>>7,$=(Z>>>1|G<<31)^(Z>>>8|G<<24)^(Z>>>7|G<<25),ee=c[U-2],te=ee.high,ie=ee.low,ne=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,re=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),oe=c[U-7],ae=oe.high,se=oe.low,le=c[U-16],ce=le.high,ue=le.low;X=(X=(X=J+ae+((q=$+se)>>>0<$>>>0?1:0))+ne+((q+=re)>>>0<re>>>0?1:0))+ce+((q+=ue)>>>0<ue>>>0?1:0),Y.high=X,Y.low=q}var he,de=z&M^~z&H,pe=L&F^~L&j,ge=_&T^_&O^T&O,fe=S&P^S&D^P&D,Ae=(_>>>28|S<<4)^(_<<30|S>>>2)^(_<<25|S>>>7),me=(S>>>28|_<<4)^(S<<30|_>>>2)^(S<<25|_>>>7),ve=(z>>>14|L<<18)^(z>>>18|L<<14)^(z<<23|L>>>9),ye=(L>>>14|z<<18)^(L>>>18|z<<14)^(L<<23|z>>>9),be=l[U],we=be.high,Ee=be.low,Ce=V+ve+((he=W+ye)>>>0<W>>>0?1:0),Ie=me+fe;V=H,W=j,H=M,j=F,M=z,F=L,z=N+(Ce=(Ce=(Ce=Ce+de+((he+=pe)>>>0<pe>>>0?1:0))+we+((he+=Ee)>>>0<Ee>>>0?1:0))+X+((he+=q)>>>0<q>>>0?1:0))+((L=R+he|0)>>>0<R>>>0?1:0)|0,N=O,R=D,O=T,D=P,T=_,P=S,_=Ce+(Ae+ge+(Ie>>>0<me>>>0?1:0))+((S=he+Ie|0)>>>0<he>>>0?1:0)|0}g=n.low=g+S,n.high=p+_+(g>>>0<S>>>0?1:0),A=r.low=A+P,r.high=f+T+(A>>>0<P>>>0?1:0),v=o.low=v+D,o.high=m+O+(v>>>0<D>>>0?1:0),b=a.low=b+R,a.high=y+N+(b>>>0<R>>>0?1:0),E=s.low=E+L,s.high=w+z+(E>>>0<L>>>0?1:0),I=u.low=I+F,u.high=C+M+(I>>>0<F>>>0?1:0),x=h.low=x+j,h.high=B+H+(x>>>0<j>>>0?1:0),Q=d.low=Q+W,d.high=k+V+(Q>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(n+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=i._createHelper(u),t.HmacSHA512=i._createHmacHelper(u)})(),e.SHA512}(Xv.exports),function(e){return i=(t=e).x64,n=i.Word,r=i.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s),e.SHA384;var t,i,n,r,o,a,s}(Xv.exports),function(e){(function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,a=i.x64.Word,s=i.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,i=0;i<24;i++){l[e+5*t]=(i+1)*(i+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var s=0,h=0,d=0;d<7;d++){if(1&r){var p=(1<<d)-1;p<32?h^=1<<p:s^=1<<p-32}128&r?r=r<<1^113:r<<=1}u[o]=a.create(s,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,n=this.blockSize/2,r=0;r<n;r++){var o=e[t+2*r],a=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(Q=i[r]).high^=a,Q.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var p=0,g=0,f=0;f<5;f++)p^=(Q=i[d+5*f]).high,g^=Q.low;var A=h[d];A.high=p,A.low=g}for(d=0;d<5;d++){var m=h[(d+4)%5],v=h[(d+1)%5],y=v.high,b=v.low;for(p=m.high^(y<<1|b>>>31),g=m.low^(b<<1|y>>>31),f=0;f<5;f++)(Q=i[d+5*f]).high^=p,Q.low^=g}for(var w=1;w<25;w++){var E=(Q=i[w]).high,C=Q.low,I=l[w];I<32?(p=E<<I|C>>>32-I,g=C<<I|E>>>32-I):(p=C<<I-32|E>>>64-I,g=E<<I-32|C>>>64-I);var B=h[c[w]];B.high=p,B.low=g}var x=h[0],k=i[0];for(x.high=k.high,x.low=k.low,d=0;d<5;d++)for(f=0;f<5;f++){var Q=i[w=d+5*f],_=h[w],S=h[(d+1)%5+5*f],T=h[(d+2)%5+5*f];Q.high=_.high^~S.high&T.high,Q.low=_.low^~S.low&T.low}Q=i[0];var P=u[s];Q.high^=P.high,Q.low^=P.low}},_doFinalize:function(){var e=this._data,i=e.words;this._nDataBytes;var n=8*e.sigBytes,o=32*this.blockSize;i[n>>>5]|=1<<24-n%32,i[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var h=a[u],d=h.high,p=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(d)}return new r.init(c,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});i.SHA3=o._createHelper(d),i.HmacSHA3=o._createHmacHelper(d)})(Math),e.SHA3}(Xv.exports),function(e){
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
(function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,a=i.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,a,p,b,w,E,C,I,B,x,k,Q=this._hash.words,_=h.words,S=d.words,T=s.words,P=l.words,O=c.words,D=u.words;for(E=o=Q[0],C=a=Q[1],I=p=Q[2],B=b=Q[3],x=w=Q[4],i=0;i<80;i+=1)k=o+e[t+T[i]]|0,k+=i<16?g(a,p,b)+_[0]:i<32?f(a,p,b)+_[1]:i<48?A(a,p,b)+_[2]:i<64?m(a,p,b)+_[3]:v(a,p,b)+_[4],k=(k=y(k|=0,O[i]))+w|0,o=w,w=b,b=y(p,10),p=a,a=k,k=E+e[t+P[i]]|0,k+=i<16?v(C,I,B)+S[0]:i<32?m(C,I,B)+S[1]:i<48?A(C,I,B)+S[2]:i<64?f(C,I,B)+S[3]:g(C,I,B)+S[4],k=(k=y(k|=0,D[i]))+x|0,E=x,x=B,B=y(I,10),I=C,C=k;k=Q[1]+p+B|0,Q[1]=Q[2]+b+x|0,Q[2]=Q[3]+w+E|0,Q[3]=Q[4]+o+C|0,Q[4]=Q[0]+a+I|0,Q[0]=k},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function g(e,t,i){return e^t^i}function f(e,t,i){return e&t|~e&i}function A(e,t,i){return(e|~t)^i}function m(e,t,i){return e&i|t&~i}function v(e,t,i){return e^(t|~i)}function y(e,t){return e<<t|e>>>32-t}i.RIPEMD160=o._createHelper(p),i.HmacRIPEMD160=o._createHmacHelper(p)})(),e.RIPEMD160}(Xv.exports),function(e){var t,i,n;i=(t=Xv.exports).lib.Base,n=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<i;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})}(),function(e){return n=(i=(t=e).lib).Base,r=i.WordArray,a=(o=t.algo).SHA1,s=o.HMAC,l=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,n=s.create(i.hasher,e),o=r.create(),a=r.create([1]),l=o.words,c=a.words,u=i.keySize,h=i.iterations;l.length<u;){var d=n.update(t).finalize(a);n.reset();for(var p=d.words,g=p.length,f=d,A=1;A<h;A++){f=n.finalize(f),n.reset();for(var m=f.words,v=0;v<g;v++)p[v]^=m[v]}o.concat(d),c[0]++}return o.sigBytes=4*u,o}}),t.PBKDF2=function(e,t,i){return l.create(i).compute(e,t)},e.PBKDF2;var t,i,n,r,o,a,s,l}(Xv.exports),function(e){return n=(i=(t=e).lib).Base,r=i.WordArray,a=(o=t.algo).MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,o=n.hasher.create(),a=r.create(),s=a.words,l=n.keySize,c=n.iterations;s.length<l;){i&&o.update(i),i=o.update(e).finalize(t),o.reset();for(var u=1;u<c;u++)i=o.finalize(i),o.reset();a.concat(i)}return a.sigBytes=4*l,a}}),t.EvpKDF=function(e,t,i){return s.create(i).compute(e,t)},e.EvpKDF;var t,i,n,r,o,a,s}(Xv.exports),function(e){e.lib.Cipher||function(t){var i=e,n=i.lib,r=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=i.enc;s.Utf8;var l=s.Base64,c=i.algo.EvpKDF,u=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:m}return function(t){return{encrypt:function(i,n,r){return e(n).encrypt(t,i,n,r)},decrypt:function(i,n,r){return e(n).decrypt(t,i,n,r)}}}}()});n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=i.mode={},d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=h.CBC=function(){var e=d.extend();function t(e,t,i){var n,r=this._iv;r?(n=r,this._iv=undefined):n=this._prevBlock;for(var o=0;o<i;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize;t.call(this,e,i,r),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+r)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,o=e.slice(i,i+r);n.decryptBlock(e,i),t.call(this,e,i,r),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,r=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(r);var l=o.create(a,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:g}),reset:function(){var e;u.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var f=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),A=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(t):t).toString(l)},parse:function(e){var t,i=l.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),f.create({ciphertext:i,salt:t})}},m=n.SerializableCipher=r.extend({cfg:r.extend({format:A}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n),o=r.finalize(t),a=r.cfg;return f.create({ciphertext:o,key:i,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(i.kdf={}).OpenSSL={execute:function(e,t,i,n){n||(n=o.random(8));var r=c.create({keySize:t+i}).compute(e,n),a=o.create(r.words.slice(t),4*i);return r.sigBytes=4*t,f.create({key:r,iv:a,salt:n})}},y=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:v}),encrypt:function(e,t,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize);n.iv=r.iv;var o=m.encrypt.call(this,e,t,r.key,n);return o.mixIn(r),o},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);return n.iv=r.iv,m.decrypt.call(this,e,t,r.key,n)}})}()}(Xv.exports),function(e){e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function i(e,t,i,n){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,n.encryptBlock(r,0);for(var a=0;a<i;a++)e[t+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;i.call(this,e,t,r,n),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);i.call(this,e,t,r,n),this._prevBlock=o}}),t}(),e.mode.CFB}(Xv.exports),function(e){return e.mode.CTR=(i=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var a=o.slice(0);i.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=a[s]}}),t.Decryptor=i,t),e.mode.CTR;var t,i}(Xv.exports),function(e){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function i(e){if(255==(e>>24&255)){var t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=i(e[0]))&&(e[1]=i(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);i.encryptBlock(s,0);for(var l=0;l<r;l++)e[t+l]^=s[l]}});return t.Decryptor=r,t}(),e.mode.CTRGladman}(Xv.exports),function(e){return e.mode.OFB=(i=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}}),t.Decryptor=i,t),e.mode.OFB;var t,i}(Xv.exports),function(e){return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB;var t}(Xv.exports),function(e){e.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,n=4*t,r=n-i%n,o=i+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(Xv.exports),function(e){e.pad.Iso10126={pad:function(t,i){var n=4*i,r=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(Xv.exports),function(e){e.pad.Iso97971={pad:function(t,i){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,i)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(Xv.exports),function(e){e.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;for(i=e.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},e.pad.ZeroPadding}(Xv.exports),function(e){e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(Xv.exports),function(e){return i=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return i.create({ciphertext:t})}},e.format.Hex;var t,i,n}(Xv.exports),function(e){(function(){var t=e,i=t.lib.BlockCipher,n=t.algo,r=[],o=[],a=[],s=[],l=[],c=[],u=[],h=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var g=n^n<<1^n<<2^n<<3^n<<4;g=g>>>8^255&g^99,r[i]=g,o[g]=i;var f=e[i],A=e[f],m=e[A],v=257*e[g]^16843008*g;a[i]=v<<24|v>>>8,s[i]=v<<16|v>>>16,l[i]=v<<8|v>>>24,c[i]=v,v=16843009*m^65537*A^257*f^16843008*i,u[g]=v<<24|v>>>8,h[g]=v<<16|v>>>16,d[g]=v<<8|v>>>24,p[g]=v,i?(i=f^e[e[e[m^f]]],n^=e[e[n]]):i=n=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],f=n.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<i?o[a]=t[a]:(c=o[a-1],a%i?i>6&&a%i==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=g[a/i|0]<<24),o[a]=o[a-i]^c);for(var s=this._invKeySchedule=[],l=0;l<n;l++){if(a=n-l,l%4)var c=o[a];else c=o[a-4];s[l]=l<4||a<=4?c:u[r[c>>>24]]^h[r[c>>>16&255]]^d[r[c>>>8&255]]^p[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,l,c,r)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,o),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,o,a,s){for(var l=this._nRounds,c=e[t]^i[0],u=e[t+1]^i[1],h=e[t+2]^i[2],d=e[t+3]^i[3],p=4,g=1;g<l;g++){var f=n[c>>>24]^r[u>>>16&255]^o[h>>>8&255]^a[255&d]^i[p++],A=n[u>>>24]^r[h>>>16&255]^o[d>>>8&255]^a[255&c]^i[p++],m=n[h>>>24]^r[d>>>16&255]^o[c>>>8&255]^a[255&u]^i[p++],v=n[d>>>24]^r[c>>>16&255]^o[u>>>8&255]^a[255&h]^i[p++];c=f,u=A,h=m,d=v}f=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^i[p++],A=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^i[p++],m=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^i[p++],v=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^i[p++],e[t]=f,e[t+1]=A,e[t+2]=m,e[t+3]=v},keySize:8});t.AES=i._createHelper(f)})(),e.AES}(Xv.exports),function(e){(function(){var t=e,i=t.lib,n=i.WordArray,r=i.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var n=a[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var c=r[o]=[],u=l[o];for(i=0;i<24;i++)c[i/6|0]|=t[(s[i]-1+u)%28]<<31-i%6,c[4+(i/6|0)]|=t[28+(s[i+24]-1+u)%28]<<31-i%6;for(c[0]=c[0]<<1|c[0]>>>31,i=1;i<7;i++)c[i]=c[i]>>>4*(i-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(i=0;i<16;i++)h[i]=r[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var r=i[n],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((a^r[l])&u[l])>>>0];this._lBlock=a,this._rBlock=o^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function p(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}t.DES=r._createHelper(h);var g=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(i)),this._des3=h.createEncryptor(n.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(g)})(),e.TripleDES}(Xv.exports),function(e){(function(){var t=e,i=t.lib.StreamCipher,n=t.algo,r=n.RC4=i.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,n=this._S=[],r=0;r<256;r++)n[r]=r;r=0;for(var o=0;r<256;r++){var a=r%i,s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[r]+s)%256;var l=n[r];n[r]=n[o],n[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,i=this._j,n=0,r=0;r<4;r++){i=(i+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[i],e[i]=o,n|=e[(e[t]+e[i])%256]<<24-8*r}return this._i=t,this._j=i,n}t.RC4=i._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=i._createHelper(a)})(),e.RC4}(Xv.exports),function(e){(function(){var t=e,i=t.lib.StreamCipher,n=t.algo,r=[],o=[],a=[],s=n.Rabbit=i.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var i=this._X;l.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,i=0;i<8;i++)o[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,s=n>>>16,l=((r*r>>>17)+r*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=i._createHelper(s)})(),e.Rabbit}(Xv.exports),function(e){(function(){var t=e,i=t.lib.StreamCipher,n=t.algo,r=[],o=[],a=[],s=n.RabbitLegacy=i.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=u,n[3]^=d,n[4]^=c,n[5]^=h,n[6]^=u,n[7]^=d,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var i=this._X;l.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,i=0;i<8;i++)o[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,s=n>>>16,l=((r*r>>>17)+r*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=i._createHelper(s)})(),e.RabbitLegacy}(Xv.exports);var Yv=Xv.exports;let Kv=0;function Gv(e,t,i,n,r){Kv===e.offset?(Kv=e.offset+e.size,n(i.target.result),e.offset+e.size>=t.size&&r()):setTimeout((function(){Gv(e,t,i,n,r)}),10)}function Zv(){const{t:e}=yr();return c.default.createElement("div",{className:"DarkblockWidget-Upgrader-Footer"},e("footer.poweredBy")," ",c.default.createElement(lm,null))}const Jv=({apiKey:e,state:t,onClose:i,authenticate:n,reset:r,dev:o})=>{const[a,s]=l.useState(""),[u,h]=l.useState(""),[d,p]=l.useState(!1),[g,f]=l.useState({}),[A,m]=l.useState("starting"),[v,y]=l.useState(""),[b,w]=l.useState(!1),[E,C]=l.useState(0),[I,B]=l.useState(!1),{t:x}=yr(),k=()=>{s(""),h(""),p(!1),f(null),y(""),C(0),w(!1)};l.useEffect((()=>{g&&g.name&&h(g.name)}),[g]),l.useEffect((()=>{t&&("upload_file"===t.value&&Q(),t.event&&t.event.type&&"SIGNING_FAIL"===t.event.type&&(k(),m("error")),"show_upgrade_signing"===t.value&&(w(!1),setTimeout((()=>{w(!0),s(""),f(null),p(!1),m("starting"),B(!0),C(25)}),500)),"show_upgrade_complete"===t.value&&(w(!1),setTimeout((()=>{w(!0),s(""),f(null),p(!1),m("complete"),B(!0)}),500)),"show_upgrade_error"===t.value&&(w(!1),setTimeout((()=>{w(!0),s(""),f(null),p(!1),m("error"),B(!0)}),500)))}),[t.value]),l.useEffect((()=>{"starting"===A&&(k(),B(!1))}),[A]);const Q=async()=>{if(g&&t.context.wallet_address&&u){y(x("upgrader.generating"));let i=t.context.nftData.nft.blockchain;"ERC1155"===i&&(i="ERC-1155"),"ERC721"===i&&(i="ERC-721");const n="tezos"===t.context.platform.toLowerCase()?t.context.tezos_public_key:t.context.wallet_address;let r=new FormData;r.set("file",g),r.set("creator_address",n),r.set("nft_contract",t.context.nftData.nft.contract),r.set("nft_token",t.context.nftData.nft.token),r.set("nft_platform",t.context.platform),r.set("nft_standard",i),r.set("darkblock_description",a),r.set("darkblock_signature",t.context.signature),r.set("name",u),r.set("download",d);const s=`${o?"https://dev1.darkblock.io/v1":"https://api.darkblock.io/v1"}/darkblock/upgrade?apikey=${e}`,l=new XMLHttpRequest;l.open("POST",s,!0),l.timeout=9e5,l.upload.onprogress=function(e){let t=Math.ceil(e.loaded/e.total*100);t>10&&t<=90&&(y(x("upgrader.uploading")),C(t))},l.onerror=function(){m("error")},l.onreadystatechange=function(){4==this.readyState&&200==this.status&&(C(100),setTimeout((()=>{k(),m("complete")}),500)),400!=this.status&&500!=this.status||(k(),m("error"))},l.send(r)}};return c.default.createElement("div",null,b?null:c.default.createElement("form",{onSubmit:async e=>{e.preventDefault(),B(!0),w(!0),C(5),y(x("upgrader.hashing"));const i=await function(e){const t=e;let i=Yv.algo.SHA256.create(),n=0;return new Promise(((e,r)=>{try{!function(e,t,i){let n,r=1048576,o=0,a=0;for(0===e.size&&i();o<e.size;){n=e.slice(o,o+1048576);let s=new FileReader;s.size=r,s.offset=o,s.index=a,s.onload=function(n){Gv(this,e,n,t,i)},s.readAsArrayBuffer(n),o+=r,a+=1}}(t,(function(e){let t=Yv.lib.WordArray.create(e);i.update(t),n+=e.byteLength}),(function(t){let n=i.finalize().toString();Kv=0,e(n)}))}catch(e){Kv=0,r(e)}}))}(g);C(10),y(x("upgrader.signing")),t&&t.context&&(t.context.fileHash=i),n()},className:"Darkblock-upgrade-form"},c.default.createElement(qv,{fileState:g,setFileState:f}),c.default.createElement("h3",{className:"Darkblock-upgrade-title-input"},x("upgrader.name")),c.default.createElement("input",{type:"text",className:"Darkblock-upgrade-name-input",id:"name",value:u,onChange:e=>{h(e.target.value)}}),c.default.createElement("h3",{className:"Darkblock-upgrade-title-input"},x("upgrader.description")),c.default.createElement("textarea",{className:"Darkblock-upgrade-description-input",cols:50,rows:3,maxLength:250,value:a,onChange:e=>{s(e.target.value)}}),c.default.createElement("p",{className:"Darkblock-upgrade-description-char-count"},`${250-a.length}/250 ${x("upgrader.characters")}`),c.default.createElement("br",null),c.default.createElement("div",{className:"Darkblock-allowDownload"},c.default.createElement("input",{className:"Darkblock-downloadable-check",type:"checkbox",checked:d,onChange:e=>{p(e.target.checked)}}),c.default.createElement("label",{className:"Darkblock-downloadable-text"},x("upgrader.allowDownload"))),c.default.createElement(Mo,{state:!g||!g.name||!u,variant:"primary",size:"large",type:"submit",id:"darkblock-submit",layout:"upgradeCreate"},x("upgrader.create"))),I?c.default.createElement("div",{className:"Darkblock-upgrade-modal-container"},c.default.createElement("div",{id:"Darkblock-upgrade-modal-bg"},c.default.createElement("div",null,"starting"===A&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-minting-container"},c.default.createElement("h3",{className:"Darkblock-minting-header-text"},x("upgrader.minted")),c.default.createElement("div",null,c.default.createElement("video",{autoPlay:!0,playsInline:!0,loop:!0,className:"Darkblock-minting-video-loop"},c.default.createElement("source",{src:"https://darkblock-media.s3.amazonaws.com/upload/loading.mp4",type:"video/mp4"}))),c.default.createElement("div",{className:"Darkblock-minting-progress-container"},c.default.createElement("div",{className:"Darkblock-minting-progress-bar",style:{width:`${E}%`}},E,"%")),c.default.createElement("div",{className:"Darkblock-minting-state-msg"},v),c.default.createElement("div",{className:"Darkblock-minting-warning-container"},c.default.createElement("p",{className:"Darkblock-minting-warning"},x("upgrader.mintingWarning"))))),"complete"===A&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-minting-container"},c.default.createElement("h3",{className:"Darkblock-minting-header-text"},x("upgrader.minted")),c.default.createElement("div",null,c.default.createElement("video",{className:"Darkblock-minting-video-loop"},c.default.createElement("source",{src:"https://darkblock-media.s3.amazonaws.com/upload/loading.mp4",type:"video/mp4"}))),c.default.createElement(Mo,{layout:"mintingAddAnother",size:"large",variant:"secondary",color:"gray",onClick:()=>{k(),m("starting"),w(!1),B(!1),r()}},x("upgrader.makeAnother")),c.default.createElement(Mo,{layout:"mintingDone",variant:"primary",size:"large",color:"white",onClick:()=>{k(),m("starting"),w(!1),B(!1),r("finished"),i(!0)}},x("upgrader.done")))),"error"===A&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"Darkblock-minting-container"},c.default.createElement("h3",{className:"Darkblock-minting-header-text"},x("upgrader.error")),c.default.createElement("div",null,c.default.createElement("video",{className:"Darkblock-minting-video-loop"},c.default.createElement("source",{src:"https://darkblock-media.s3.amazonaws.com/upload/loading.mp4",type:"video/mp4"}))),c.default.createElement("button",{className:"Darkblock-minting-try-again",onClick:()=>{m("starting"),w(!1),B(!1),r()}},x("upgrader.tryAgain"))))))):null,c.default.createElement(Zv,null))},$v=({apiKey:e,state:t,open:i,onClose:n,authenticate:r,reset:o,dev:a})=>{const{t:s}=yr();return c.default.createElement(c.default.Fragment,null,i?c.default.createElement("div",{className:"Darkblock-upgrade-modal-container"},c.default.createElement("div",{id:"Darkblock-upgrade-modal-bg"},c.default.createElement("div",{id:"Darkblock-upgrade-modal-box"},c.default.createElement("div",{className:"Darkblock-upgrade-modal-box-container"},c.default.createElement("div",{id:"Darkblock-upgrade-modal-box"},c.default.createElement("div",{className:"Darkblock-upgrade-modal-first-row"},c.default.createElement("div",{className:"Darkblock-upgrade-modal-first-row-container"}),c.default.createElement("div",{className:"Darkblock-upgrade-modal-title"},s("upgrader.title")),c.default.createElement("img",{alt:"close",className:"Darkblock-upgrade-cross-button",onClick:()=>n(!0),src:"https://img.icons8.com/ios/50/000000/multiply.png"})),c.default.createElement("hr",{className:"Darkblock-upgrade-line-break"}),c.default.createElement("div",{className:"Darkblock-upgrade-container"},c.default.createElement(Jv,{apiKey:e,state:t,onClose:()=>n(!0),authenticate:r,reset:o,dev:a}))))))):null)};h(".DarkblockWidget-Upgrader{align-items:center;display:flex;width:auto}.DarkblockWidget-Upgrader svg{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity));margin-right:.25rem}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-container{align-items:center;bottom:0;display:flex;justify-content:center;left:0;margin:1rem;overflow-x:hidden;overflow-y:scroll;position:fixed;right:0;top:0;width:100%;z-index:50}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-container,.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-container:focus{outline:2px solid #0000;outline-offset:2px}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-box-container{--tw-bg-opacity:0.7;align-items:center;background-color:rgb(0 0 0/var(--tw-bg-opacity));bottom:0;display:flex;justify-content:center;left:0;overflow:auto;position:fixed;right:0;top:0;z-index:30}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-first-row{display:flex;justify-content:space-between}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-first-row-container{display:flex}.DarkblockWidget-Upgrader .Darkblock-upgrade-modal-title{align-items:center;display:flex;font-weight:700;justify-content:center}.DarkblockWidget-Upgrader .Darkblock-upgrade-cross-button{cursor:pointer;height:1.5rem;justify-content:flex-end;width:1.5rem}.DarkblockWidget-Upgrader .Darkblock-upgrade-line-break{margin-bottom:1rem;margin-top:1rem}.DarkblockWidget-Upgrader .upgrade-detail-container{display:block;padding-left:.5rem;padding-right:.5rem;width:80%}#Darkblock-upgrade-modal-bg{--tw-bg-opacity:0.9;align-items:center;background-color:rgb(0 0 0/var(--tw-bg-opacity));bottom:0;display:flex;justify-content:center;left:0;overflow:auto;position:fixed;right:0;top:0;z-index:30}#Darkblock-upgrade-modal-box{--tw-bg-opacity:1;--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);background-color:rgb(255 255 255/var(--tw-bg-opacity));border-radius:.25rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);margin-left:2rem;margin-right:2rem;max-height:-moz-fit-content;max-height:fit-content;max-width:36rem;padding:1rem 1.5rem;text-align:left}.DarkblockWidget-Upgrader .Darkblock-upgrade-form{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));margin-left:1rem;margin-right:1rem}.DarkblockWidget-Upgrader .Darkblock-upgrade-title-input{font-size:.875rem;font-weight:700;line-height:1.25rem}.DarkblockWidget-Upgrader .Darkblock-upgrade-name-input{--tw-border-opacity:1;--tw-text-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity));border-radius:.25rem;border-width:1px;color:rgb(31 41 55/var(--tw-text-opacity));margin-bottom:1rem;margin-top:.25rem;padding:.5rem;width:100%}.DarkblockWidget-Upgrader .Darkblock-upgrade-name-input:focus{--tw-border-opacity:1;--tw-ring-opacity:1;--tw-ring-color:rgb(107 114 128/var(--tw-ring-opacity));border-color:rgb(107 114 128/var(--tw-border-opacity))}@media (min-width:640px){.DarkblockWidget-Upgrader .Darkblock-upgrade-name-input{font-size:.875rem;line-height:1.25rem}}.DarkblockWidget-Upgrader .Darkblock-upgrade-description-input{--tw-border-opacity:1;--tw-text-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity));border-radius:.25rem;border-width:1px;color:rgb(31 41 55/var(--tw-text-opacity));display:block;margin-top:.25rem;padding:.5rem;width:100%}.DarkblockWidget-Upgrader .Darkblock-upgrade-description-input:focus{--tw-border-opacity:1;--tw-ring-opacity:1;--tw-ring-color:rgb(107 114 128/var(--tw-ring-opacity));border-color:rgb(107 114 128/var(--tw-border-opacity))}@media (min-width:640px){.DarkblockWidget-Upgrader .Darkblock-upgrade-description-input{font-size:.875rem;line-height:1.25rem}}.DarkblockWidget-Upgrader .Darkblock-upgrade-description-char-count{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity));display:none;font-size:.75rem;line-height:1rem;margin-top:.5rem}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-upgrade-description-char-count{display:block}}.DarkblockWidget-Upgrader .Darkblock-allowDownload{align-items:center;display:flex;flex-direction:row}.DarkblockWidget-Upgrader .Darkblock-downloadable-text{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity));display:inline-block;font-size:.875rem;font-weight:700;line-height:1.25rem}.DarkblockWidget-Upgrader .Darkblock-downloadable-check{--tw-border-opacity:1;--tw-bg-opacity:1;appearance:none;background-color:rgb(255 255 255/var(--tw-bg-opacity));background-position:50%;background-repeat:no-repeat;background-size:contain;border-color:rgb(31 41 55/var(--tw-border-opacity));border-radius:.125rem;border-width:2px;cursor:pointer;height:1rem;margin-right:.5rem;transition-duration:.2s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);width:1rem}.DarkblockWidget-Upgrader .Darkblock-downloadable-check:checked{--tw-border-opacity:1;--tw-bg-opacity:1;background-color:rgb(75 85 99/var(--tw-bg-opacity));border-color:rgb(75 85 99/var(--tw-border-opacity))}.DarkblockWidget-Upgrader .Darkblock-downloadable-check:focus{outline:2px solid #0000;outline-offset:2px}.DarkblockWidget-Upgrader .Darkblock-fileupload-container{--tw-text-opacity:1;border-radius:.75rem;color:rgb(0 0 0/var(--tw-text-opacity));padding-bottom:1rem;padding-top:1rem}.DarkblockWidget-Upgrader .Darkblock-fileupload-button{font-weight:700}.DarkblockWidget-Upgrader .Darkblock-fileupload-header{display:none;font-size:1rem;font-weight:700;line-height:1.5rem;padding-bottom:0}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-fileupload-header{display:block;margin-bottom:1rem;padding-bottom:1rem}}.DarkblockWidget-Upgrader .Darkblock-fileupload-header-supported{font-size:.875rem;font-weight:700;line-height:1.25rem;line-height:1.625;padding-bottom:0}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-fileupload-header-supported{padding-bottom:.5rem}}.DarkblockWidget-Upgrader .Darkblock-fileupload-formats{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity));font-size:.75rem;font-weight:600;line-height:1rem;line-height:1.625;padding-bottom:0;padding-top:0}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-fileupload-formats{padding-bottom:.25rem;padding-top:.25rem}}.DarkblockWidget-Upgrader .Darkblock-fileupload-info{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity));font-size:.75rem;line-height:1rem;padding-bottom:0;padding-top:0}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-fileupload-info{padding-bottom:1rem;padding-top:1rem}}.DarkblockWidget-Upgrader .Darkblock-fileupload-input-container{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity));border-radius:.25rem;color:rgb(107 114 128/var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem;margin-top:.5rem;padding:1rem;width:100%}@media (min-width:768px){.DarkblockWidget-Upgrader .Darkblock-fileupload-input-container{margin-top:1rem}}.DarkblockWidget-Upgrader .Darkblock-minting-container{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));border-radius:.75rem;padding-bottom:1rem;padding-left:.75rem;padding-right:.75rem;text-align:center}.DarkblockWidget-Upgrader .Darkblock-minting-header-text{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));font-size:1.25rem;font-weight:700;line-height:1.75rem;margin-bottom:1rem;padding:3rem 1.25rem 1rem}.DarkblockWidget-Upgrader .Darkblock-minting-video-loop{--tw-border-opacity:1;border-color:rgb(17 24 39/var(--tw-border-opacity));border-width:2px;margin-bottom:1rem;margin-left:auto;margin-right:auto}.DarkblockWidget-Upgrader .Darkblock-minting-progress-container{--tw-border-opacity:1;--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));border-color:rgb(255 255 255/var(--tw-border-opacity));border-radius:9999px;border-width:1px;margin-left:auto;margin-right:auto;margin-top:2rem;width:50%}.DarkblockWidget-Upgrader .Darkblock-minting-progress-bar{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));border-bottom-left-radius:9999px;border-top-left-radius:9999px;color:rgb(0 0 0/var(--tw-text-opacity));font-size:.75rem;font-weight:500;line-height:1rem;line-height:1;padding:.125rem}.DarkblockWidget-Upgrader .Darkblock-minting-state-msg{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem;margin-top:1rem}.DarkblockWidget-Upgrader .Darkblock-minting-warning-container{align-items:center;display:flex;justify-content:center}.DarkblockWidget-Upgrader .Darkblock-minting-warning{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity));border-radius:.75rem;color:rgb(255 255 255/var(--tw-text-opacity));justify-content:center;padding:.25rem;text-align:center;width:50%}.DarkblockWidget-Upgrader .Darkblock-minting-complete-info{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));margin-bottom:1rem;padding-left:1rem;padding-right:1rem}.DarkblockWidget-Upgrader .Darkblock-minting-try-again{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity));border-color:rgb(255 255 255/var(--tw-border-opacity));border-radius:.25rem;border-width:1px;color:rgb(255 255 255/var(--tw-text-opacity));display:inline-block;margin-bottom:1rem;margin-top:.5rem;padding:.5rem;text-align:center;width:33.333333%}.DarkblockWidget-Upgrader .Darkblock-minting-try-again:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.DarkblockWidget-Upgrader-Footer{--tw-text-opacity:1;bottom:0;color:rgb(163 163 163/var(--tw-text-opacity));font-size:.75rem;font-weight:700;line-height:1rem;margin-top:2.5rem;padding-bottom:1.25rem;padding-top:1.25rem;text-align:center}.DarkblockWidget-Upgrader-Footer svg{display:inline-block}.DarkblockWidget-Upgrader-Footer svg path{fill:#a3a3a3}",{insertAt:"top"});var ey,ty,iy={Header:Ho,Panel:function({state:e=null}){let t=e.context.display;const{t:i}=yr();return c.default.createElement("div",{className:"DarkblockWidget-Main"},c.default.createElement("div",{className:"row-db"},c.default.createElement("div",{className:"col-left"},c.default.createElement("div",{className:"heading"},i("panel.fileFormat")),c.default.createElement("div",{className:"content"},t.fileFormat)),c.default.createElement("div",{className:"col-right"},c.default.createElement("div",{className:"heading"},i("panel.fileSize")),c.default.createElement("div",{className:"content"},t.fileSize))),c.default.createElement("div",{className:"row-db"},c.default.createElement("div",{className:"col-full"},c.default.createElement("div",{className:"heading"},"Arweave Tx"),c.default.createElement("div",{className:"content"},c.default.createElement("div",{className:"underline"},c.default.createElement("a",{className:"underline",target:"_blank",rel:"noreferrer",href:t.arweaveTXLink},t.arweaveTX))))))},Player:nm,Stack:({state:e=null,authenticate:t,urls:i,config:n})=>{const[r,o]=l.useState(),[a,s]=l.useState(!1),[u,h]=l.useState(!1),[d,p]=l.useState(!1),[g,f]=l.useState(.4),[A,m]=l.useState(!1),[v,y]=l.useState(null),[b,w]=l.useState(window.innerHeight),E=document.documentElement,C=e=>{e.preventDefault(),h(!1)},I=e=>{"Escape"===e.key&&h(!1)},B=()=>{w(window.innerHeight),E.style.setProperty("--doc-height",`${window.innerHeight}px`)};return l.useEffect((()=>(document.addEventListener("keydown",I,!1),()=>{document.removeEventListener("keydown",I,!1)})),[]),l.useEffect((()=>{"display"===e.value&&o({type:e.context.display.stack[0].fileFormat,mediaURL:i[0],i:0,db:e.context.display.stack[0]})}),[e.value]),l.useEffect((()=>{"display"==e.value&&(f(1),setTimeout((()=>{p(!0)}),1500))}),[e.value]),l.useEffect((()=>{a&&s(!1)}),[a]),l.useEffect((()=>(E.style.setProperty("--doc-height",`${window.innerHeight}px`),window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)})),[b]),c.default.createElement(c.default.Fragment,null,c.default.createElement(hm,{showModal:u,open:u,onClose:e=>C(e)},"display"===e.value&&r&&!a&&c.default.createElement("div",{className:"Darkblock-player-modal-container"},c.default.createElement("div",{className:"darkblock-player-modal"},c.default.createElement("div",{className:"w-5 px-2"}),c.default.createElement("div",{className:"Darkblock-player-modal-container-title-name"},r.db.name),c.default.createElement("div",{className:"Darkblock-player-modal-close-button"},c.default.createElement("div",{onClick:e=>C(e)},c.default.createElement(En,{icon:jn,className:"Darkblock-awesomePlayerButton"})))),c.default.createElement(nm,{mediaType:r.type,mediaURL:r.mediaURL,config:n.imgViewer}),c.default.createElement("div",{className:"darkblock-arrows-container"},c.default.createElement("div",{className:"m-auto"},c.default.createElement("button",{onClick:()=>(()=>{if(0===r.i)return;const t=r.i-1,n=e.context.display.stack[t];s(!0),o({type:n.fileFormat,mediaURL:i[t],i:t,db:n})})(),className:r.i>0?"Darkblock-playerBtn":"Darkblock-playerBtn Darkblock-playerBtnDisabled"},c.default.createElement(rm,{filetype:"faArrowLeft"})),c.default.createElement("button",{onClick:()=>(()=>{if(e.context.display.stack.length===r.i+1)return;const t=r.i+1,n=e.context.display.stack[t];s(!0),o({type:n.fileFormat,mediaURL:i[t],i:t,db:n})})(),className:r.i+1!==e.context.display.stack.length?"Darkblock-playerBtn":"Darkblock-playerBtn Darkblock-playerBtnDisabled"},c.default.createElement(rm,{filetype:"faArrowRight"})))))),c.default.createElement("div",{className:n.customCssClass?`DarkblockWidget-App ${n.customCssClass}`:"DarkblockWidget-App"},d?null:c.default.createElement(Ho,{className:"popHeader",onClose:()=>{p(!d)},state:e,authenticate:()=>t()}),v&&A&&c.default.createElement(ym,{db:v,open:A,state:e,closeToggle:()=>{y(null),m(!1)}}),["idle","loading_arweave","started","start_failure","no_darkblock"].includes(e.value)?c.default.createElement(Am,null):c.default.createElement("div",{className:"DarkblockWidget-Stack-Panel"},c.default.createElement("div",{className:"Darkblock-Stack-Table",style:{opacity:g}},c.default.createElement("div",null,c.default.createElement(um,{state:e}),e.context.display.stack.map(((t,n)=>{if("display"===e.value){let a=!!r&&r.i===n;return c.default.createElement(sm,{db:t,sel:a,f:()=>{s(!0),o({type:t.fileFormat,mediaURL:i[n],i:n,db:t}),h(!0)},index:n,key:n,counter:e.context.display.stack.length>10?`${n+1}. `:"",selected:r,state:e.value,url:i[n],showDetailModal:e=>{e.url=i[n],y(e),m(!0)}})}return c.default.createElement(sm,{db:t,index:n,key:n,counter:e.context.display.stack.length>10?`${n+1}. `:"",selected:r,showDetailModal:e=>{e.url=null,y(e),m(!0)},f:()=>{p(!d)}})}))))),c.default.createElement(cm,{config:n,state:e})))},widgetMachine:(e,t,i,n=!1)=>{let r;switch(i){case"Solana":r="https://explorer.solana.com/address/";break;case"Ethereum":r="https://opensea.io/";break;default:r=""}return Wv({id:"widget",initial:"idle",context:{creator:null,arweaveData:null,artId:null,display:{creator:"",creatorLink:"",fileFormat:"",fileSize:"",arweaveTX:"",arweaveTXLink:"",details:"",stack:[],rental:!1,expireSeconds:null},baseLink:r,tokenId:e,contractAddress:t,platform:i},states:{no_wallet:{},idle:{on:{NO_WALLET:{target:"no_wallet"},FETCH_ARWEAVE:{target:"loading_arweave"}}},loading_arweave:{invoke:{src:()=>Promise.all([JA(t,e,i,n),ZA("Solana"===i?e:t+":"+e,i,n)]),onDone:[{target:"started",cond:(e,t)=>(e.creator=t.data[0],e.arweaveData=t.data[1],e.display.expireSeconds=null,e.arweaveData.darkblock&&e.arweaveData.darkblock.tags&&e.arweaveData.darkblock.tags.forEach((t=>{"ArtId"===t.name&&(e.artId=t.value),"Description"===t.name&&(e.display.details=t.value)})),e&&e.arweaveData&&"rental expired!"===e.arweaveData.info&&(e.display.rental=!0),e&&e.arweaveData&&e.arweaveData.expiration&&(e.display.expireSeconds=e.arweaveData.expiration.in_seconds),!!(e.creator.creator_address&&e.artId&&e.arweaveData.darkblock&&e.arweaveData.dbstack&&e.arweaveData.dbstack.length>0)&&(e.display.creator=XA(e.creator.creator_address,i)||"",e.display.creatorLink=e.baseLink+e.creator.creator_address,e.display.fileFormat=e.arweaveData.darkblock.data.type||"",e.display.fileSize=YA(e.arweaveData.darkblock.data.size)||"",e.display.arweaveTX=e.arweaveData.darkblock.id||"",e.display.arweaveTXLink=`https://viewblock.io/arweave/tx/${e.display.arweaveTX}`,e.arweaveData.dbstack&&(e.arweaveData.dbstack.map((t=>{let i,n,r="",o="",a="false";t.tags.forEach((e=>{"ArtId"===e.name&&(i=e.value),"Description"===e.name&&(r=e.value),"Date-Created"===e.name&&(n=e.value),"Downloadable"===e.name&&(a=e.value),"Name"===e.name&&(o=e.value),""===o&&""!==r&&(o=r)})),e.display.stack.push({artId:i,name:o,details:r,datecreated:n,downloadable:a,creatorLink:e.baseLink+e.creator.creator_address,fileFormat:t.data.type||"",fileSize:YA(t.data.size)||"",arweaveTX:t.id||"",arweaveTXLink:`https://viewblock.io/arweave/tx/${t.id}`})})),e.display.stack.sort(((e,t)=>t.datecreated-e.datecreated))),!0))},{target:"no_darkblock"}],onError:{target:"start_failure"}}},started:{on:{CONNECT_WALLET:"wallet_connected"}},no_darkblock:{on:{RETRY:"idle"}},start_failure:{on:{RETRY:"idle"}},wallet_connected:{on:{SIGN:"signing",DISCONNECT_WALLET:"started"}},authenticated:{on:{DECRYPT:"decrypting",DISCONNECT_WALLET:"started"}},auth_failure:{on:{SIGN:"signing"}},decrypting:{on:{SUCCESS:"display",REJECT:"decrypt_error",DISCONNECT_WALLET:"started"}},decrypt_error:{},signing:{on:{SUCCESS:"authenticated",FAIL:"auth_failure",CANCEL:"wallet_connected"}},display:{on:{DISCONNECT_WALLET:"started"}}}})},upgradeMachine:(e,t,i,n=!1)=>Wv({id:"widget-upgrade",initial:"idle",context:{contractAddress:t,creator:null,fileHash:null,nftData:null,platform:i,signature:null,tokenId:e},states:{no_wallet:{},no_apiKey:{},idle:{on:{NO_WALLET:{target:"no_wallet"},NO_APIKEY:{target:"no_apiKey"},FETCH_CREATOR:{target:"loading_creator"}}},loading_creator:{invoke:{src:()=>Promise.all([JA(t,e,i,n),GA("Solana"===i?"":t,e,i,n)]),onDone:[{target:"started",cond:(e,t)=>(e.creator=t.data[0],e.nftData=t.data[1],!(!e.creator.creator_address||!e.nftData))},{target:"start_failure"}],onError:{target:"start_failure"}}},started:{on:{CONNECT_WALLET:{target:"wallet_connected"},CONNECT_FAILED:{target:"start_failure"}}},wallet_connected:{on:{VERIFY_OWNER:{target:"verify_owner"}}},verify_owner:{on:{SUCCESS:{target:"show_upgrade"},FAIL:{target:"start_failure"}}},start_failure:{on:{RETRY:{target:"idle"}}},show_upgrade:{on:{SIGN:{target:"signing"}}},signing:{on:{SIGNING_SUCCESS:{target:"upload_file"},SIGNING_FAIL:{target:"show_upgrade"}}},signing_fail:{target:"show_upgrade"},upload_file:{on:{RESET:{target:"verify_owner"},COMPLETE:{target:"upload_complete"}}},upload_complete:{target:"verify_owner"}}}),Upgrader:({state:e=null,config:t,apiKey:i=null,authenticate:n,reset:r,dev:o=!1})=>{const[a,s]=l.useState(!1),[u,h]=l.useState(!1),[d,p]=l.useState(!1),{t:g}=yr();return l.useEffect((()=>{i&&i.length>0&&h(i)}),[i]),l.useEffect((()=>{"show_upgrade"!==e.value&&"show_upgrade_signing"!==e.value&&"show_upgrade_complete"!==e.value&&"show_upgrade_error"!==e.value||s(!0)}),[e.value]),a&&u?c.default.createElement("div",{className:t.customCssClass?`DarkblockWidget-Upgrader ${t.customCssClass}`:"DarkblockWidget-Upgrader"},c.default.createElement(c.default.Fragment,null,c.default.createElement(Mo,{type:"button",variant:"secondary",size:"medium",onClick:()=>p(!0),layout:"upgradeAddContent"},c.default.createElement(En,{icon:Hn}),g("upgrader.addContent")),c.default.createElement($v,{apiKey:i,state:e,open:d,onClose:()=>p(!1),className:"Darkblock-upgrade-modal",authenticate:n,reset:r,dev:o}))):c.default.createElement(c.default.Fragment,null)},utils:em},ny=iy;!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(ey||(ey={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(ty||(ty={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ry=function(){return ry=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ry.apply(this,arguments)};function oy(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ay(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function sy(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}var ly,cy={},uy="production"===process.env.NODE_ENV;function hy(e,t,i){void 0===i&&(i=".");var n=dy(e,i),r=dy(t,i);return yy(r)?!!yy(n)&&r===n:yy(n)?n in r:Object.keys(n).every((function(e){return e in r&&hy(n[e],r[e])}))}function dy(e,t){if("object"==typeof(i=e)&&"value"in i&&"context"in i&&"event"in i&&"_event"in i)return e.value;var i;if(my(e))return py(e);if("string"!=typeof e)return e;var n=function(e,t){try{return my(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}(e,t);return py(n)}function py(e){if(1===e.length)return e[0];for(var t={},i=t,n=0;n<e.length-1;n++)n===e.length-2?i[e[n]]=e[n+1]:(i[e[n]]={},i=i[e[n]]);return t}function gy(e,t,i){var n,r;if(vy(e))return e(t,i.data);var o={};try{for(var a=oy(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];vy(c)?o[l]=c(t,i.data):o[l]=c}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function fy(e){return e instanceof Promise||!(null===e||!vy(e)&&"object"!=typeof e||!vy(e.then))}var Ay=function(){};function my(e){return Array.isArray(e)}function vy(e){return"function"==typeof e}function yy(e){return"string"==typeof e}uy||(Ay=function(e,t){var i=e instanceof Error?e:void 0;if((i||!e)&&void 0!==console){var n=["Warning: ".concat(t)];i&&n.push(i),console.warn.apply(console,n)}});var by=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function wy(e){return!!e&&"__xstatenode"in e}function Ey(e,t){return yy(e)||"number"==typeof e?ry({type:e},t):e}function Cy(e,t){if(!yy(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var i=Ey(e);return ry({name:i.type,data:i,$$type:"scxml",type:"external"},t)}function Iy(e,t,i){if("object"==typeof e)return e;var n=function(){};return{next:e,error:t||n,complete:i||n}}(ly={})[by]=function(){return this},ly[Symbol.observable]=function(){return this};var By=ey.Start,xy=ey.Stop;ey.Raise;var ky=ey.Send,Qy=ey.Cancel;ey.NullEvent,ey.Assign,ey.After,ey.DoneState;var _y=ey.Log,Sy=ey.Init;ey.Invoke,ey.ErrorExecution;var Ty=ey.ErrorPlatform,Py=ey.ErrorCustom,Oy=ey.Update;ey.Choose,ey.Pure;var Dy=Cy({type:Sy});function Ny(e,t){var i="".concat(ey.DoneInvoke,".").concat(e),n={type:i,data:t,toString:function(){return i}};return n}function Ry(e,t){var i="".concat(ey.ErrorPlatform,".").concat(e),n={type:i,data:t,toString:function(){return i}};return n}var zy=function(e,t){return t(e)};function Ly(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function My(e){return sy([],ay(new Set(function(e){var t;return(t=[]).concat.apply(t,sy([],ay(e),!1))}(sy([],ay(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function Fy(e,t){return"compound"===t.type?Ly(t).some((function(t){return"final"===t.type&&(i=e,n=t,Array.isArray(i)?i.some((function(e){return e===n})):i instanceof Set&&i.has(n));var i,n})):"parallel"===t.type&&Ly(t).every((function(t){return Fy(e,t)}))}var Hy=function(){function e(e){var t,i,n=this;this.actions=[],this.activities=cy,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||cy,this.meta=(void 0===(i=e.configuration)&&(i=[]),i.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return My(n.configuration)}})}return e.from=function(t,i){return t instanceof e?t.context!==i?new e({value:t.value,context:i,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:i,_event:Dy,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,i){if(t instanceof e){if(!t.actions.length)return t;var n=Dy;return new e({value:t.value,context:i,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,i)},e.prototype.toStrings=function(e,t){var i=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),yy(e))return[e];var n=Object.keys(e);return n.concat.apply(n,sy([],ay(n.map((function(n){return i.toStrings(e[n],t).map((function(e){return n+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["configuration","transitions","tags","machine"]);return ry(ry({},i),{tags:Array.from(t)})},e.prototype.matches=function(e){return hy(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;uy&&Ay(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var i=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==i?void 0:i.transitions.length)&&i.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}();function jy(e,t){void 0===t&&(t={});var i=e.initialState,n=new Set,r=[],o=!1,a=function(e){var t;return ry(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[by]=function(){return this},t),e)}({id:t.id,send:function(t){r.push(t),function(){if(!o){for(o=!0;r.length>0;){var t=r.shift();i=e.transition(i,t,s),n.forEach((function(e){return e.next(i)}))}o=!1}}()},getSnapshot:function(){return i},subscribe:function(e,t,r){var o=Iy(e,t,r);return n.add(o),o.next(i),{unsubscribe:function(){n.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return i=e.start?e.start(s):i,a}var Vy={deferEvents:!1},Wy=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=ry(ry({},Vy),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),Uy=new Map,qy=0,Xy=function(){return"x:".concat(qy++)},Yy=function(e,t){return Uy.set(e,t),e},Ky=function(e){return Uy.get(e)},Gy=function(e){Uy.delete(e)};function Zy(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}function Jy(e){if(Zy()){var t=function(){var e=Zy();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}var $y,eb={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}($y||($y={}));var tb,ib=function(){function e(t,i){var n=this;void 0===i&&(i=e.defaultOptions),this.machine=t,this.scheduler=new Wy,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=$y.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if(my(e))return n.batch(e),n.state;var i=Cy(Ey(e,t));if(n.status===$y.Stopped)return uy||Ay(!1,'Event "'.concat(i.name,'" was sent to stopped service "').concat(n.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(i.data))),n.state;if(n.status!==$y.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(i.name,'" was sent to uninitialized service "').concat(n.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(i.data)));return n.scheduler.schedule((function(){n.forward(i);var e=n.nextState(i);n.update(e,i)})),n._state},this.sendTo=function(e,t){var i,r=n.parent&&(t===ty.Parent||n.parent.id===t),o=r?n.parent:yy(t)?n.children.get(t)||Ky(t):(i=t)&&"function"==typeof i.send?t:void 0;if(o)"machine"in o?o.send(ry(ry({},e),{name:e.name===Py?"".concat(Ry(n.id)):e.name,origin:n.sessionId})):o.send(e.data);else{if(!r)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(n.id,"'."));uy||Ay(!1,"Service '".concat(n.id,"' has no parent: unable to send event ").concat(e.type))}};var r=ry(ry({},e.defaultOptions),i),o=r.clock,a=r.logger,s=r.parent,l=r.id,c=void 0!==l?l:t.id;this.id=c,this.logger=a,this.clock=o,this.parent=s,this.options=r,this.scheduler=new Wy({deferEvents:this.options.deferEvents}),this.sessionId=Xy()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:zy(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return uy||Ay(this.status!==$y.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var i,n;try{for(var r=oy(e.actions),o=r.next();!o.done;o=r.next()){var a=o.value;this.exec(a,e,t)}}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},e.prototype.update=function(e,t){var i,n,r,o,a,s,l,c,u=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach((function(e){u.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var h=oy(this.eventListeners),d=h.next();!d.done;d=h.next()){(0,d.value)(e.event)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}try{for(var p=oy(this.listeners),g=p.next();!g.done;g=p.next()){(0,g.value)(e,e.event)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}try{for(var f=oy(this.contextListeners),A=f.next();!A.done;A=f.next()){(0,A.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e){a={error:e}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}var m=Fy(e.configuration||[],this.machine);if(this.state.configuration&&m){var v=e.configuration.find((function(e){return"final"===e.type&&e.parent===u.machine})),y=v&&v.doneData?gy(v.doneData,e.context,t):void 0;try{for(var b=oy(this.doneListeners),w=b.next();!w.done;w=b.next()){(0,w.value)(Ny(this.id,y))}}catch(e){l={error:e}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}this.stop()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===$y.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,i){var n,r=this;if(!e)return{unsubscribe:function(){}};var o=i;return"function"==typeof e?n=e:(n=e.next.bind(e),o=e.complete.bind(e)),this.listeners.add(n),this.status===$y.Running&&n(this.state),o&&this.onDone(o),{unsubscribe:function(){n&&r.listeners.delete(n),o&&r.doneListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===$y.Running)return this;Yy(this.sessionId,this),this.initialized=!0,this.status=$y.Running;var i=void 0===e?this.initialState:zy(this,(function(){return"object"==typeof(i=e)&&null!==i&&"value"in i&&"_event"in i?t.machine.resolveState(e):t.machine.resolveState(Hy.from(e,t.machine.context));var i}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(i,Dy)})),this},e.prototype.stop=function(){var e,t,i,n,r,o,a,s,l,c,u=this;try{for(var h=oy(this.listeners),d=h.next();!d.done;d=h.next()){var p=d.value;this.listeners.delete(p)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}try{for(var g=oy(this.stopListeners),f=g.next();!f.done;f=g.next()){(p=f.value)(),this.stopListeners.delete(p)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(n=g.return)&&n.call(g)}finally{if(i)throw i.error}}try{for(var A=oy(this.contextListeners),m=A.next();!m.done;m=A.next()){p=m.value;this.contextListeners.delete(p)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=A.return)&&o.call(A)}finally{if(r)throw r.error}}try{for(var v=oy(this.doneListeners),y=v.next();!y.done;y=v.next()){p=y.value;this.doneListeners.delete(p)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(!this.initialized)return this;sy([],ay(this.state.configuration),!1).sort((function(e,t){return t.order-e.order})).forEach((function(e){var t,i;try{for(var n=oy(e.definition.exit),r=n.next();!r.done;r=n.next()){var o=r.value;u.exec(o,u.state)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}})),this.children.forEach((function(e){vy(e.stop)&&e.stop()}));try{for(var b=oy(Object.keys(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var E=w.value;this.clock.clearTimeout(this.delayedEventsMap[E])}}catch(e){l={error:e}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=$y.Stopped,Gy(this.sessionId),this},e.prototype.batch=function(e){var t=this;if(this.status===$y.NotStarted&&this.options.deferEvents)uy||Ay(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==$y.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule((function(){var i,n,r=t.state,o=!1,a=[],s=function(e){var i=Cy(e);t.forward(i),r=zy(t,(function(){return t.machine.transition(r,i)})),a.push.apply(a,sy([],ay(r.actions.map((function(e){return i=r,n=(t=e).exec,ry(ry({},t),{exec:void 0!==n?function(){return n(i.context,i.event,{action:t,state:i,_event:i._event})}:void 0});var t,i,n}))),!1)),o=o||!!r.changed};try{for(var l=oy(e),c=l.next();!c.done;c=l.next()){s(c.value)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}r.changed=o,r.actions=a,t.update(r,Cy(e[e.length-1]))}))},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype.nextState=function(e){var t=this,i=Cy(e);if(0===i.name.indexOf(Ty)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(Ty)})))throw i.data.data;return zy(this,(function(){return t.machine.transition(t.state,i)}))},e.prototype.forward=function(e){var t,i;try{for(var n=oy(this.forwardTo),r=n.next();!r.done;r=n.next()){var o=r.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,i){void 0===i&&(i=this.machine.options.actions);var n,r=t.context,o=t._event,a=e.exec||function(e,t){return t&&t[e]||void 0}(e.type,i),s=vy(a)?a:a?a.exec:e.exec;if(s)try{return s(r,o.data,{action:e,state:this.state,_event:o})}catch(e){throw this.parent&&this.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case ky:var l=e;if("number"==typeof l.delay)return void this.defer(l);l.to?this.sendTo(l._event,l.to):this.send(l._event);break;case Qy:this.cancel(e.sendId);break;case By:if(this.status!==$y.Running)return;var c=e.activity;if(!this.state.activities[c.id||c.type])break;if(c.type===ey.Invoke){var u="string"==typeof(n=c.src)?{type:n}:n,h=this.machine.options.services?this.machine.options.services[u.type]:void 0,d=c.id,p=c.data;uy||Ay(!("forward"in c),"`forward` property is deprecated (found in invocation of '".concat(c.src,"' in in machine '").concat(this.machine.id,"'). ")+"Please use `autoForward` instead.");var g="autoForward"in c?c.autoForward:!!c.forward;if(!h)return void(uy||Ay(!1,"No service found for invocation '".concat(c.src,"' in machine '").concat(this.machine.id,"'.")));var f=p?gy(p,r,o):void 0;if("string"==typeof h)return;var A=vy(h)?h(r,o.data,{data:f,src:u,meta:c.meta}):h;if(!A)return;var m=void 0;wy(A)&&(A=f?A.withContext(f):A,m={autoForward:g}),this.spawn(A,d,m)}else this.spawnActivity(c);break;case xy:this.stopChild(e.activity.id);break;case _y:var v=e.label,y=e.value;v?this.logger(v,y):this.logger(y);break;default:uy||Ay(!1,"No implementation found for action type '".concat(e.type,"'"))}},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),vy(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,i){if(fy(e))return this.spawnPromise(Promise.resolve(e),t);if(vy(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(r=e)&&"id"in r)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&vy(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(wy(e))return this.spawnMachine(e,ry(ry({},i),{id:t}));if(null!==(n=e)&&"object"==typeof n&&"transition"in n&&"function"==typeof n.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var n,r},e.prototype.spawnMachine=function(t,i){var n=this;void 0===i&&(i={});var r=new e(t,ry(ry({},this.options),{parent:this,id:i.id||t.id})),o=ry(ry({},eb),i);o.sync&&r.onTransition((function(e){n.send(Oy,{state:e,id:r.id})}));var a=r;return this.children.set(r.id,a),o.autoForward&&this.forwardTo.add(r.id),r.onDone((function(e){n.removeChild(r.id),n.send(Cy(e,{origin:r.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var i=jy(e,{id:t,parent:this});return this.children.set(t,i),i},e.prototype.spawnPromise=function(e,t){var i,n,r=this,o=!1;e.then((function(e){o||(n=e,r.removeChild(t),r.send(Cy(Ny(t,e),{origin:t})))}),(function(e){if(!o){r.removeChild(t);var i=Ry(t,e);try{r.send(Cy(i,{origin:t}))}catch(n){!function(e,t,i){if(!uy){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(i,"', error was '").concat(e,"'.").concat(n));else{var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(i,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(r))}}}(e,n,t),r.devTools&&r.devTools.send(i,r.state),r.machine.strict&&r.stop()}}}));var a=((i={id:t,send:function(){},subscribe:function(t,i,n){var r=Iy(t,i,n),o=!1;return e.then((function(e){o||(r.next(e),o||r.complete())}),(function(e){o||r.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[by]=function(){return this},i);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var i,n,r,o=this,a=!1,s=new Set,l=new Set;try{r=e((function(e){n=e,l.forEach((function(t){return t(e)})),a||o.send(Cy(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(Ry(t,e))}if(fy(r))return this.spawnPromise(r,t);var c=((i={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=Iy(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){a=!0,vy(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[by]=function(){return this},i);return this.children.set(t,c),c},e.prototype.spawnObservable=function(e,t){var i,n,r=this,o=e.subscribe((function(e){n=e,r.send(Cy(e,{origin:t}))}),(function(e){r.removeChild(t),r.send(Cy(Ry(t,e),{origin:t}))}),(function(){r.removeChild(t),r.send(Cy(Ny(t),{origin:t}))})),a=((i={id:t,send:function(){},subscribe:function(t,i,n){return e.subscribe(t,i,n)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}})[by]=function(){return this},i);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var i=t(this.state.context,e);this.spawnEffect(e.id,i)}else uy||Ay(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var i;this.children.set(e,((i={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[by]=function(){return this},i))},e.prototype.attachDev=function(){var e=Zy();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(ry(ry({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:ry({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}Jy(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[by]=function(){return this},e.prototype.getSnapshot=function(){return this.status===$y.NotStarted?this.initialState:this._state},e.defaultOptions=function(e){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:e.console.log.bind(console),devTools:!1}}("undefined"!=typeof self?self:global),e.interpret=nb,e}();function nb(e,t){return new ib(e,t)}!function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"}(tb||(tb={}));var rb="undefined"!=typeof document?i:n;function ob(t){var i=e.useRef();return i.current||(i.current={v:t()}),i.current.v}var ab=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a},sb=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var lb=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a},cb=function(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};function ub(e,t){(0,e.exec)(t.context,t._event.data,{action:e,state:t,_event:t._event})()}function hb(e){var t=r([]),i=r([]);rb((function(){var n=e.subscribe((function(e){var n,r;if(e.actions.length){var o=e.actions.filter((function(e){return"function"==typeof e.exec&&"__effect"in e.exec})),a=lb(function(e,t){var i,n,r=ab([[],[]],2),o=r[0],a=r[1];try{for(var s=sb(e),l=s.next();!l.done;l=s.next()){var c=l.value;t(c)?o.push(c):a.push(c)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return[o,a]}(o,(function(e){return e.exec.__effect===tb.Effect})),2),s=a[0],l=a[1];(n=t.current).push.apply(n,cb([],lb(s.map((function(t){return[t,e]}))),!1)),(r=i.current).push.apply(r,cb([],lb(l.map((function(t){return[t,e]}))),!1))}}));return function(){n.unsubscribe()}}),[]),rb((function(){for(;i.current.length;){var e=lb(i.current.shift(),2);ub(e[0],e[1])}})),n((function(){for(;t.current.length;){var e=lb(t.current.shift(),2);ub(e[0],e[1])}}))}var db=function(){return db=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},db.apply(this,arguments)},pb=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i},gb=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a};function fb(e,t,i){if("object"==typeof e)return e;var n=function(){};return{next:e,error:t||n,complete:i||n}}function Ab(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=gb(t,2),r=n[0],a=void 0===r?{}:r,s=n[1],l=ob((function(){return"function"==typeof e?e():e}));if("production"!==process.env.NODE_ENV&&"function"!=typeof e){var c=gb(o(l),1),u=c[0];e!==u&&console.warn("Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\nPlease make sure that you pass the same Machine as argument each time.")}var h=a.context,d=a.guards,p=a.actions,g=a.services,f=a.delays,A=a.state,m=pb(a,["context","guards","actions","services","delays","state"]),v=a.activities,y=ob((function(){var e={context:h,guards:d,actions:p,activities:v,services:g,delays:f};return nb(l.withConfig(e,(function(){return db(db({},l.context),h)})),db({deferEvents:!0},m))}));return rb((function(){var e;return s&&(e=y.subscribe(fb(s))),function(){null==e||e.unsubscribe()}}),[s]),rb((function(){return y.start(A?Hy.create(A):void 0),function(){y.stop()}}),[]),rb((function(){Object.assign(y.machine.options.actions,p),Object.assign(y.machine.options.guards,d),Object.assign(y.machine.options.activities,v),Object.assign(y.machine.options.services,g),Object.assign(y.machine.options.delays,f)}),[p,d,v,g,f]),hb(y),y}var mb=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a};function vb(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=mb(t,1),r=n[0],s=void 0===r?{}:r,l=a((function(e){var t=void 0===e.changed&&Object.keys(e.children).length;(e.changed||t)&&d(e)}),[]),c=Ab(e,s,l),u=mb(o((function(){var e=c.machine.initialState;return s.state?Hy.create(s.state):e})),2),h=u[0],d=u[1];return[h,c.send,c]}const yb="access",bb="upgradeNft",wb="upgradeCollection",Eb=async(e,t,i)=>{const n=await(async e=>{try{return await e.eth.getAccounts().then((e=>e[0].toLowerCase()))}catch(e){alert(`Please make sure you have Metamask installed : ${e.message}`)}})(t);let r="";switch(i){case yb:r=`You are unlocking content via the Darkblock Protocol.\n\nPlease sign to authenticate.\n\nThis request will not trigger a blockchain transaction or cost any fee.\n\nAuthentication Token: ${e}`;break;case bb:r=`You are interacting with the Darkblock Protocol.\n\nPlease sign to upgrade this NFT.\n\nThis request will not trigger a blockchain transaction or cost any fee.\n\nAuthentication Token: ${e}`;break;case wb:r=`You are interacting with the Darkblock Protocol.\n\nAttention: You are attempting to upgrade an entire NFT collection!\n\nPlease sign to continue.\n\nThis request will not trigger a blockchain transaction or cost any fee.\nAuthentication Token: ${e}`;break;default:r=`You are unlocking content via the Darkblock Protocol.\n\nPlease sign to authenticate.\n\nThis request will not trigger a blockchain transaction or cost any fee.\n\nAuthentication Token: ${e}`}return new Promise(((e,i)=>{try{setTimeout((()=>{t.currentProvider.sendAsync({method:"personal_sign",params:[n,r],from:n},(async function(t,n){t&&i(t),n.error&&i(n.error.message),e(n.result)}))}),1)}catch(e){i(e)}}))},Cb=({contractAddress:e,tokenId:i,w3:r=null,cb:a=null,network:s="mainnet",config:l={customCssClass:"",debug:!1,imgViewer:{showRotationControl:!0,autoHideControls:!0,controlsFadeDelay:!0}},dev:c=!1})=>{const u=s.charAt(0).toUpperCase()+s.slice(1),h="mainnet"===s.toLowerCase()?"Ethereum":`Ethereum-${u}`,[d,p]=vb((()=>ny.widgetMachine(i,e,h,c))),[g,f]=o(null),[A,m]=o(""),[v,y]=o(""),[b,w]=o(null);n((()=>{if((e=>{if(l.debug&&console.log("Callback function called from widget. State: ",e),"function"==typeof a)try{a(e)}catch(e){console.log("Callback function error: ",e)}})(d.value),r){if("idle"===d.value&&p({type:"FETCH_ARWEAVE"}),"started"===d.value){(async()=>{const e=await r.eth.getAccounts().then((e=>e[0].toLowerCase()));e&&(f(e),p({type:"CONNECT_WALLET"}))})()}if(d.value,"signing"===d.value&&E(r),"authenticated"===d.value&&p({type:"DECRYPT"}),"decrypting"===d.value){m(ny.utils.getProxyAsset(d.context.artId,b,d.context.tokenId,d.context.contractAddress,null,h,g));let e=[];d.context.display.stack.map((t=>{e.push(ny.utils.getProxyAsset(t.artId,b,d.context.tokenId,d.context.contractAddress,null,h,g))})),y(e),setTimeout((()=>{p({type:"SUCCESS"})}),1e3)}d.value}else p({type:"NO_WALLET"})}),[d.value]);const E=async t=>{let n,r,o=Date.now(),a=o+g;try{r=await ny.utils.getOwner(e,i,h,g,c),r&&r.owner_address&&r.owner_address.toLowerCase()===g.toLowerCase()||r&&r.creator_address&&r.creator_address.toLowerCase()===g.toLowerCase()?(n=await Eb(a,t,yb).then((e=>e)),p(n?{type:"SUCCESS"}:{type:"FAIL"})):p({type:"FAIL"})}catch(e){p(n?{type:"FAIL"}:{type:"CANCEL"})}w(o+"_"+n)};return t.createElement(ny.Stack,{state:d,authenticate:()=>p({type:"SIGN"}),urls:v,config:l})},Ib=({apiKey:e=null,contractAddress:i,tokenId:r,w3:a=null,cb:s=null,network:l="mainnet",config:c={customCssClass:"",debug:!1,imgViewer:{showRotationControl:!0,autoHideControls:!0,controlsFadeDelay:!0}},dev:u=!1})=>{const h=l.charAt(0).toUpperCase()+l.slice(1),d="mainnet"===l.toLowerCase()?"Ethereum":`Ethereum-${h}`,[p,g]=vb((()=>ny.upgradeMachine(r,i,d,u))),[f,A]=o(null);n((()=>{if((e=>{if(c.debug&&console.log("Callback function called from widget. State: ",e),"function"==typeof s)try{s(e)}catch(e){console.log("Callback function error: ",e)}})(p.value),e||g({type:"NO_APIKEY"}),a){if("idle"===p.value&&g({type:"FETCH_CREATOR"}),"started"===p.value){(async()=>{const e=await a.eth.getAccounts().then((e=>e[0].toLowerCase()));e?(A(e),p.context.wallet_address=e,g({type:"CONNECT_WALLET"})):g({type:"CONNECT_FAILED"})})()}"wallet_connected"===p.value&&g({type:"VERIFY_OWNER"}),"verify_owner"===p.value&&m(),"signing"===p.value&&v()}else g({type:"NO_WALLET"})}),[p.value]);const m=async()=>{let e;try{setTimeout((async()=>{e=await ny.utils.getCreator(i,r,d,u),e&&e.creator_address&&e.creator_address.toLowerCase()===f.toLowerCase()?g({type:"SUCCESS"}):g({type:"FAIL"})}),1e3)}catch{g({type:"FAIL"})}},v=async()=>{let e=`${p.context.platform}${p.context.nftData.nft.contract}:${p.context.nftData.nft.token}${p.context.fileHash}`;await Eb(e,a,bb).then((e=>{p.context.signature=e,g({type:"SIGNING_SUCCESS"})})).catch((()=>{p.context.signature=null,g({type:"SIGNING_FAIL"})}))};return t.createElement(ny.Upgrader,{apiKey:e,state:p,config:c,authenticate:()=>g({type:"SIGN"}),reset:e=>{g("finished"===e?{type:"COMPLETE"}:{type:"RESET"})},dev:u})};export{Ib as EthUpgradeWidget,Cb as EthereumDarkblockWidget};
